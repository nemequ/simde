/* SPDX-License-Identifier: MIT
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use, copy,
 * modify, merge, publish, distribute, sublicense, and/or sell copies
 * of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS
 * BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
 * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * Copyright:
 *   2020      Evan Nemerson <evan@nemerson.com>
 *   2020      Christopher Moore <moore@free.fr>
 */

#define SIMDE_TEST_X86_AVX512_INSN insert

#include <test/x86/avx512/test-avx512.h>
#include <simde/x86/avx512/set.h>
#include <simde/x86/avx512/setzero.h>
#include <simde/x86/avx512/insert.h>

static int
test_simde_mm512_insertf32x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512 a;
    simde__m128 b;
    simde__m512 r0;
    simde__m512 r1;
    simde__m512 r2;
    simde__m512 r3;
  } test_vec[8] = {
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -563.83), SIMDE_FLOAT32_C(   799.30), SIMDE_FLOAT32_C(   938.85), SIMDE_FLOAT32_C(  -576.01),
                         SIMDE_FLOAT32_C(  -465.05), SIMDE_FLOAT32_C(   439.15), SIMDE_FLOAT32_C(  -104.57), SIMDE_FLOAT32_C(   -28.15),
                         SIMDE_FLOAT32_C(  -431.26), SIMDE_FLOAT32_C(   481.25), SIMDE_FLOAT32_C(   -57.75), SIMDE_FLOAT32_C(  -784.26),
                         SIMDE_FLOAT32_C(   438.04), SIMDE_FLOAT32_C(   549.03), SIMDE_FLOAT32_C(   729.46), SIMDE_FLOAT32_C(   582.53)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -202.49), SIMDE_FLOAT32_C(  -470.36), SIMDE_FLOAT32_C(   966.37), SIMDE_FLOAT32_C(   135.20)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -563.83), SIMDE_FLOAT32_C(   799.30), SIMDE_FLOAT32_C(   938.85), SIMDE_FLOAT32_C(  -576.01),
                         SIMDE_FLOAT32_C(  -465.05), SIMDE_FLOAT32_C(   439.15), SIMDE_FLOAT32_C(  -104.57), SIMDE_FLOAT32_C(   -28.15),
                         SIMDE_FLOAT32_C(  -431.26), SIMDE_FLOAT32_C(   481.25), SIMDE_FLOAT32_C(   -57.75), SIMDE_FLOAT32_C(  -784.26),
                         SIMDE_FLOAT32_C(  -202.49), SIMDE_FLOAT32_C(  -470.36), SIMDE_FLOAT32_C(   966.37), SIMDE_FLOAT32_C(   135.20)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -563.83), SIMDE_FLOAT32_C(   799.30), SIMDE_FLOAT32_C(   938.85), SIMDE_FLOAT32_C(  -576.01),
                         SIMDE_FLOAT32_C(  -465.05), SIMDE_FLOAT32_C(   439.15), SIMDE_FLOAT32_C(  -104.57), SIMDE_FLOAT32_C(   -28.15),
                         SIMDE_FLOAT32_C(  -202.49), SIMDE_FLOAT32_C(  -470.36), SIMDE_FLOAT32_C(   966.37), SIMDE_FLOAT32_C(   135.20),
                         SIMDE_FLOAT32_C(   438.04), SIMDE_FLOAT32_C(   549.03), SIMDE_FLOAT32_C(   729.46), SIMDE_FLOAT32_C(   582.53)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -563.83), SIMDE_FLOAT32_C(   799.30), SIMDE_FLOAT32_C(   938.85), SIMDE_FLOAT32_C(  -576.01),
                         SIMDE_FLOAT32_C(  -202.49), SIMDE_FLOAT32_C(  -470.36), SIMDE_FLOAT32_C(   966.37), SIMDE_FLOAT32_C(   135.20),
                         SIMDE_FLOAT32_C(  -431.26), SIMDE_FLOAT32_C(   481.25), SIMDE_FLOAT32_C(   -57.75), SIMDE_FLOAT32_C(  -784.26),
                         SIMDE_FLOAT32_C(   438.04), SIMDE_FLOAT32_C(   549.03), SIMDE_FLOAT32_C(   729.46), SIMDE_FLOAT32_C(   582.53)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -202.49), SIMDE_FLOAT32_C(  -470.36), SIMDE_FLOAT32_C(   966.37), SIMDE_FLOAT32_C(   135.20),
                         SIMDE_FLOAT32_C(  -465.05), SIMDE_FLOAT32_C(   439.15), SIMDE_FLOAT32_C(  -104.57), SIMDE_FLOAT32_C(   -28.15),
                         SIMDE_FLOAT32_C(  -431.26), SIMDE_FLOAT32_C(   481.25), SIMDE_FLOAT32_C(   -57.75), SIMDE_FLOAT32_C(  -784.26),
                         SIMDE_FLOAT32_C(   438.04), SIMDE_FLOAT32_C(   549.03), SIMDE_FLOAT32_C(   729.46), SIMDE_FLOAT32_C(   582.53)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -743.10), SIMDE_FLOAT32_C(  -688.01), SIMDE_FLOAT32_C(   442.76), SIMDE_FLOAT32_C(   931.17),
                         SIMDE_FLOAT32_C(   120.10), SIMDE_FLOAT32_C(   -64.06), SIMDE_FLOAT32_C(  -620.03), SIMDE_FLOAT32_C(   559.81),
                         SIMDE_FLOAT32_C(   185.23), SIMDE_FLOAT32_C(  -423.61), SIMDE_FLOAT32_C(   -11.91), SIMDE_FLOAT32_C(   407.56),
                         SIMDE_FLOAT32_C(   355.11), SIMDE_FLOAT32_C(  -787.72), SIMDE_FLOAT32_C(   472.82), SIMDE_FLOAT32_C(  -703.51)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -859.51), SIMDE_FLOAT32_C(   -69.45), SIMDE_FLOAT32_C(    40.36), SIMDE_FLOAT32_C(    95.61)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -743.10), SIMDE_FLOAT32_C(  -688.01), SIMDE_FLOAT32_C(   442.76), SIMDE_FLOAT32_C(   931.17),
                         SIMDE_FLOAT32_C(   120.10), SIMDE_FLOAT32_C(   -64.06), SIMDE_FLOAT32_C(  -620.03), SIMDE_FLOAT32_C(   559.81),
                         SIMDE_FLOAT32_C(   185.23), SIMDE_FLOAT32_C(  -423.61), SIMDE_FLOAT32_C(   -11.91), SIMDE_FLOAT32_C(   407.56),
                         SIMDE_FLOAT32_C(  -859.51), SIMDE_FLOAT32_C(   -69.45), SIMDE_FLOAT32_C(    40.36), SIMDE_FLOAT32_C(    95.61)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -743.10), SIMDE_FLOAT32_C(  -688.01), SIMDE_FLOAT32_C(   442.76), SIMDE_FLOAT32_C(   931.17),
                         SIMDE_FLOAT32_C(   120.10), SIMDE_FLOAT32_C(   -64.06), SIMDE_FLOAT32_C(  -620.03), SIMDE_FLOAT32_C(   559.81),
                         SIMDE_FLOAT32_C(  -859.51), SIMDE_FLOAT32_C(   -69.45), SIMDE_FLOAT32_C(    40.36), SIMDE_FLOAT32_C(    95.61),
                         SIMDE_FLOAT32_C(   355.11), SIMDE_FLOAT32_C(  -787.72), SIMDE_FLOAT32_C(   472.82), SIMDE_FLOAT32_C(  -703.51)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -743.10), SIMDE_FLOAT32_C(  -688.01), SIMDE_FLOAT32_C(   442.76), SIMDE_FLOAT32_C(   931.17),
                         SIMDE_FLOAT32_C(  -859.51), SIMDE_FLOAT32_C(   -69.45), SIMDE_FLOAT32_C(    40.36), SIMDE_FLOAT32_C(    95.61),
                         SIMDE_FLOAT32_C(   185.23), SIMDE_FLOAT32_C(  -423.61), SIMDE_FLOAT32_C(   -11.91), SIMDE_FLOAT32_C(   407.56),
                         SIMDE_FLOAT32_C(   355.11), SIMDE_FLOAT32_C(  -787.72), SIMDE_FLOAT32_C(   472.82), SIMDE_FLOAT32_C(  -703.51)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -859.51), SIMDE_FLOAT32_C(   -69.45), SIMDE_FLOAT32_C(    40.36), SIMDE_FLOAT32_C(    95.61),
                         SIMDE_FLOAT32_C(   120.10), SIMDE_FLOAT32_C(   -64.06), SIMDE_FLOAT32_C(  -620.03), SIMDE_FLOAT32_C(   559.81),
                         SIMDE_FLOAT32_C(   185.23), SIMDE_FLOAT32_C(  -423.61), SIMDE_FLOAT32_C(   -11.91), SIMDE_FLOAT32_C(   407.56),
                         SIMDE_FLOAT32_C(   355.11), SIMDE_FLOAT32_C(  -787.72), SIMDE_FLOAT32_C(   472.82), SIMDE_FLOAT32_C(  -703.51)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(   -98.08), SIMDE_FLOAT32_C(   464.19), SIMDE_FLOAT32_C(   711.12), SIMDE_FLOAT32_C(   282.83),
                         SIMDE_FLOAT32_C(  -774.08), SIMDE_FLOAT32_C(   841.24), SIMDE_FLOAT32_C(  -414.07), SIMDE_FLOAT32_C(    79.76),
                         SIMDE_FLOAT32_C(   193.01), SIMDE_FLOAT32_C(  -435.27), SIMDE_FLOAT32_C(   -84.06), SIMDE_FLOAT32_C(   298.40),
                         SIMDE_FLOAT32_C(   208.07), SIMDE_FLOAT32_C(   -94.60), SIMDE_FLOAT32_C(   834.28), SIMDE_FLOAT32_C(   260.50)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -157.33), SIMDE_FLOAT32_C(  -819.46), SIMDE_FLOAT32_C(   541.44), SIMDE_FLOAT32_C(   112.81)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   -98.08), SIMDE_FLOAT32_C(   464.19), SIMDE_FLOAT32_C(   711.12), SIMDE_FLOAT32_C(   282.83),
                         SIMDE_FLOAT32_C(  -774.08), SIMDE_FLOAT32_C(   841.24), SIMDE_FLOAT32_C(  -414.07), SIMDE_FLOAT32_C(    79.76),
                         SIMDE_FLOAT32_C(   193.01), SIMDE_FLOAT32_C(  -435.27), SIMDE_FLOAT32_C(   -84.06), SIMDE_FLOAT32_C(   298.40),
                         SIMDE_FLOAT32_C(  -157.33), SIMDE_FLOAT32_C(  -819.46), SIMDE_FLOAT32_C(   541.44), SIMDE_FLOAT32_C(   112.81)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   -98.08), SIMDE_FLOAT32_C(   464.19), SIMDE_FLOAT32_C(   711.12), SIMDE_FLOAT32_C(   282.83),
                         SIMDE_FLOAT32_C(  -774.08), SIMDE_FLOAT32_C(   841.24), SIMDE_FLOAT32_C(  -414.07), SIMDE_FLOAT32_C(    79.76),
                         SIMDE_FLOAT32_C(  -157.33), SIMDE_FLOAT32_C(  -819.46), SIMDE_FLOAT32_C(   541.44), SIMDE_FLOAT32_C(   112.81),
                         SIMDE_FLOAT32_C(   208.07), SIMDE_FLOAT32_C(   -94.60), SIMDE_FLOAT32_C(   834.28), SIMDE_FLOAT32_C(   260.50)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   -98.08), SIMDE_FLOAT32_C(   464.19), SIMDE_FLOAT32_C(   711.12), SIMDE_FLOAT32_C(   282.83),
                         SIMDE_FLOAT32_C(  -157.33), SIMDE_FLOAT32_C(  -819.46), SIMDE_FLOAT32_C(   541.44), SIMDE_FLOAT32_C(   112.81),
                         SIMDE_FLOAT32_C(   193.01), SIMDE_FLOAT32_C(  -435.27), SIMDE_FLOAT32_C(   -84.06), SIMDE_FLOAT32_C(   298.40),
                         SIMDE_FLOAT32_C(   208.07), SIMDE_FLOAT32_C(   -94.60), SIMDE_FLOAT32_C(   834.28), SIMDE_FLOAT32_C(   260.50)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -157.33), SIMDE_FLOAT32_C(  -819.46), SIMDE_FLOAT32_C(   541.44), SIMDE_FLOAT32_C(   112.81),
                         SIMDE_FLOAT32_C(  -774.08), SIMDE_FLOAT32_C(   841.24), SIMDE_FLOAT32_C(  -414.07), SIMDE_FLOAT32_C(    79.76),
                         SIMDE_FLOAT32_C(   193.01), SIMDE_FLOAT32_C(  -435.27), SIMDE_FLOAT32_C(   -84.06), SIMDE_FLOAT32_C(   298.40),
                         SIMDE_FLOAT32_C(   208.07), SIMDE_FLOAT32_C(   -94.60), SIMDE_FLOAT32_C(   834.28), SIMDE_FLOAT32_C(   260.50)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -887.47), SIMDE_FLOAT32_C(   336.35), SIMDE_FLOAT32_C(  -396.24), SIMDE_FLOAT32_C(    99.21),
                         SIMDE_FLOAT32_C(    -2.60), SIMDE_FLOAT32_C(   -38.88), SIMDE_FLOAT32_C(   165.88), SIMDE_FLOAT32_C(   218.73),
                         SIMDE_FLOAT32_C(   375.27), SIMDE_FLOAT32_C(  -966.90), SIMDE_FLOAT32_C(  -512.98), SIMDE_FLOAT32_C(  -737.78),
                         SIMDE_FLOAT32_C(   664.52), SIMDE_FLOAT32_C(  -224.13), SIMDE_FLOAT32_C(   633.65), SIMDE_FLOAT32_C(  -834.15)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   141.08), SIMDE_FLOAT32_C(  -832.50), SIMDE_FLOAT32_C(  -990.15), SIMDE_FLOAT32_C(   438.46)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -887.47), SIMDE_FLOAT32_C(   336.35), SIMDE_FLOAT32_C(  -396.24), SIMDE_FLOAT32_C(    99.21),
                         SIMDE_FLOAT32_C(    -2.60), SIMDE_FLOAT32_C(   -38.88), SIMDE_FLOAT32_C(   165.88), SIMDE_FLOAT32_C(   218.73),
                         SIMDE_FLOAT32_C(   375.27), SIMDE_FLOAT32_C(  -966.90), SIMDE_FLOAT32_C(  -512.98), SIMDE_FLOAT32_C(  -737.78),
                         SIMDE_FLOAT32_C(   141.08), SIMDE_FLOAT32_C(  -832.50), SIMDE_FLOAT32_C(  -990.15), SIMDE_FLOAT32_C(   438.46)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -887.47), SIMDE_FLOAT32_C(   336.35), SIMDE_FLOAT32_C(  -396.24), SIMDE_FLOAT32_C(    99.21),
                         SIMDE_FLOAT32_C(    -2.60), SIMDE_FLOAT32_C(   -38.88), SIMDE_FLOAT32_C(   165.88), SIMDE_FLOAT32_C(   218.73),
                         SIMDE_FLOAT32_C(   141.08), SIMDE_FLOAT32_C(  -832.50), SIMDE_FLOAT32_C(  -990.15), SIMDE_FLOAT32_C(   438.46),
                         SIMDE_FLOAT32_C(   664.52), SIMDE_FLOAT32_C(  -224.13), SIMDE_FLOAT32_C(   633.65), SIMDE_FLOAT32_C(  -834.15)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -887.47), SIMDE_FLOAT32_C(   336.35), SIMDE_FLOAT32_C(  -396.24), SIMDE_FLOAT32_C(    99.21),
                         SIMDE_FLOAT32_C(   141.08), SIMDE_FLOAT32_C(  -832.50), SIMDE_FLOAT32_C(  -990.15), SIMDE_FLOAT32_C(   438.46),
                         SIMDE_FLOAT32_C(   375.27), SIMDE_FLOAT32_C(  -966.90), SIMDE_FLOAT32_C(  -512.98), SIMDE_FLOAT32_C(  -737.78),
                         SIMDE_FLOAT32_C(   664.52), SIMDE_FLOAT32_C(  -224.13), SIMDE_FLOAT32_C(   633.65), SIMDE_FLOAT32_C(  -834.15)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   141.08), SIMDE_FLOAT32_C(  -832.50), SIMDE_FLOAT32_C(  -990.15), SIMDE_FLOAT32_C(   438.46),
                         SIMDE_FLOAT32_C(    -2.60), SIMDE_FLOAT32_C(   -38.88), SIMDE_FLOAT32_C(   165.88), SIMDE_FLOAT32_C(   218.73),
                         SIMDE_FLOAT32_C(   375.27), SIMDE_FLOAT32_C(  -966.90), SIMDE_FLOAT32_C(  -512.98), SIMDE_FLOAT32_C(  -737.78),
                         SIMDE_FLOAT32_C(   664.52), SIMDE_FLOAT32_C(  -224.13), SIMDE_FLOAT32_C(   633.65), SIMDE_FLOAT32_C(  -834.15)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -179.98), SIMDE_FLOAT32_C(   258.23), SIMDE_FLOAT32_C(   246.22), SIMDE_FLOAT32_C(    97.85),
                         SIMDE_FLOAT32_C(   666.32), SIMDE_FLOAT32_C(   364.80), SIMDE_FLOAT32_C(   759.27), SIMDE_FLOAT32_C(  -524.19),
                         SIMDE_FLOAT32_C(  -726.51), SIMDE_FLOAT32_C(   381.71), SIMDE_FLOAT32_C(   819.12), SIMDE_FLOAT32_C(   145.28),
                         SIMDE_FLOAT32_C(   -99.37), SIMDE_FLOAT32_C(  -151.02), SIMDE_FLOAT32_C(   551.65), SIMDE_FLOAT32_C(   155.58)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   184.91), SIMDE_FLOAT32_C(  -432.97), SIMDE_FLOAT32_C(  -455.33), SIMDE_FLOAT32_C(   164.52)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -179.98), SIMDE_FLOAT32_C(   258.23), SIMDE_FLOAT32_C(   246.22), SIMDE_FLOAT32_C(    97.85),
                         SIMDE_FLOAT32_C(   666.32), SIMDE_FLOAT32_C(   364.80), SIMDE_FLOAT32_C(   759.27), SIMDE_FLOAT32_C(  -524.19),
                         SIMDE_FLOAT32_C(  -726.51), SIMDE_FLOAT32_C(   381.71), SIMDE_FLOAT32_C(   819.12), SIMDE_FLOAT32_C(   145.28),
                         SIMDE_FLOAT32_C(   184.91), SIMDE_FLOAT32_C(  -432.97), SIMDE_FLOAT32_C(  -455.33), SIMDE_FLOAT32_C(   164.52)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -179.98), SIMDE_FLOAT32_C(   258.23), SIMDE_FLOAT32_C(   246.22), SIMDE_FLOAT32_C(    97.85),
                         SIMDE_FLOAT32_C(   666.32), SIMDE_FLOAT32_C(   364.80), SIMDE_FLOAT32_C(   759.27), SIMDE_FLOAT32_C(  -524.19),
                         SIMDE_FLOAT32_C(   184.91), SIMDE_FLOAT32_C(  -432.97), SIMDE_FLOAT32_C(  -455.33), SIMDE_FLOAT32_C(   164.52),
                         SIMDE_FLOAT32_C(   -99.37), SIMDE_FLOAT32_C(  -151.02), SIMDE_FLOAT32_C(   551.65), SIMDE_FLOAT32_C(   155.58)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -179.98), SIMDE_FLOAT32_C(   258.23), SIMDE_FLOAT32_C(   246.22), SIMDE_FLOAT32_C(    97.85),
                         SIMDE_FLOAT32_C(   184.91), SIMDE_FLOAT32_C(  -432.97), SIMDE_FLOAT32_C(  -455.33), SIMDE_FLOAT32_C(   164.52),
                         SIMDE_FLOAT32_C(  -726.51), SIMDE_FLOAT32_C(   381.71), SIMDE_FLOAT32_C(   819.12), SIMDE_FLOAT32_C(   145.28),
                         SIMDE_FLOAT32_C(   -99.37), SIMDE_FLOAT32_C(  -151.02), SIMDE_FLOAT32_C(   551.65), SIMDE_FLOAT32_C(   155.58)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   184.91), SIMDE_FLOAT32_C(  -432.97), SIMDE_FLOAT32_C(  -455.33), SIMDE_FLOAT32_C(   164.52),
                         SIMDE_FLOAT32_C(   666.32), SIMDE_FLOAT32_C(   364.80), SIMDE_FLOAT32_C(   759.27), SIMDE_FLOAT32_C(  -524.19),
                         SIMDE_FLOAT32_C(  -726.51), SIMDE_FLOAT32_C(   381.71), SIMDE_FLOAT32_C(   819.12), SIMDE_FLOAT32_C(   145.28),
                         SIMDE_FLOAT32_C(   -99.37), SIMDE_FLOAT32_C(  -151.02), SIMDE_FLOAT32_C(   551.65), SIMDE_FLOAT32_C(   155.58)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(   481.68), SIMDE_FLOAT32_C(   170.00), SIMDE_FLOAT32_C(  -341.91), SIMDE_FLOAT32_C(   366.57),
                         SIMDE_FLOAT32_C(   254.48), SIMDE_FLOAT32_C(  -211.73), SIMDE_FLOAT32_C(   755.70), SIMDE_FLOAT32_C(   908.31),
                         SIMDE_FLOAT32_C(  -363.93), SIMDE_FLOAT32_C(  -144.11), SIMDE_FLOAT32_C(   789.10), SIMDE_FLOAT32_C(  -343.92),
                         SIMDE_FLOAT32_C(   344.74), SIMDE_FLOAT32_C(   961.65), SIMDE_FLOAT32_C(   652.93), SIMDE_FLOAT32_C(   754.42)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -846.10), SIMDE_FLOAT32_C(  -248.07), SIMDE_FLOAT32_C(  -411.92), SIMDE_FLOAT32_C(   -88.91)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   481.68), SIMDE_FLOAT32_C(   170.00), SIMDE_FLOAT32_C(  -341.91), SIMDE_FLOAT32_C(   366.57),
                         SIMDE_FLOAT32_C(   254.48), SIMDE_FLOAT32_C(  -211.73), SIMDE_FLOAT32_C(   755.70), SIMDE_FLOAT32_C(   908.31),
                         SIMDE_FLOAT32_C(  -363.93), SIMDE_FLOAT32_C(  -144.11), SIMDE_FLOAT32_C(   789.10), SIMDE_FLOAT32_C(  -343.92),
                         SIMDE_FLOAT32_C(  -846.10), SIMDE_FLOAT32_C(  -248.07), SIMDE_FLOAT32_C(  -411.92), SIMDE_FLOAT32_C(   -88.91)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   481.68), SIMDE_FLOAT32_C(   170.00), SIMDE_FLOAT32_C(  -341.91), SIMDE_FLOAT32_C(   366.57),
                         SIMDE_FLOAT32_C(   254.48), SIMDE_FLOAT32_C(  -211.73), SIMDE_FLOAT32_C(   755.70), SIMDE_FLOAT32_C(   908.31),
                         SIMDE_FLOAT32_C(  -846.10), SIMDE_FLOAT32_C(  -248.07), SIMDE_FLOAT32_C(  -411.92), SIMDE_FLOAT32_C(   -88.91),
                         SIMDE_FLOAT32_C(   344.74), SIMDE_FLOAT32_C(   961.65), SIMDE_FLOAT32_C(   652.93), SIMDE_FLOAT32_C(   754.42)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   481.68), SIMDE_FLOAT32_C(   170.00), SIMDE_FLOAT32_C(  -341.91), SIMDE_FLOAT32_C(   366.57),
                         SIMDE_FLOAT32_C(  -846.10), SIMDE_FLOAT32_C(  -248.07), SIMDE_FLOAT32_C(  -411.92), SIMDE_FLOAT32_C(   -88.91),
                         SIMDE_FLOAT32_C(  -363.93), SIMDE_FLOAT32_C(  -144.11), SIMDE_FLOAT32_C(   789.10), SIMDE_FLOAT32_C(  -343.92),
                         SIMDE_FLOAT32_C(   344.74), SIMDE_FLOAT32_C(   961.65), SIMDE_FLOAT32_C(   652.93), SIMDE_FLOAT32_C(   754.42)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -846.10), SIMDE_FLOAT32_C(  -248.07), SIMDE_FLOAT32_C(  -411.92), SIMDE_FLOAT32_C(   -88.91),
                         SIMDE_FLOAT32_C(   254.48), SIMDE_FLOAT32_C(  -211.73), SIMDE_FLOAT32_C(   755.70), SIMDE_FLOAT32_C(   908.31),
                         SIMDE_FLOAT32_C(  -363.93), SIMDE_FLOAT32_C(  -144.11), SIMDE_FLOAT32_C(   789.10), SIMDE_FLOAT32_C(  -343.92),
                         SIMDE_FLOAT32_C(   344.74), SIMDE_FLOAT32_C(   961.65), SIMDE_FLOAT32_C(   652.93), SIMDE_FLOAT32_C(   754.42)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -382.22), SIMDE_FLOAT32_C(   146.15), SIMDE_FLOAT32_C(  -320.26), SIMDE_FLOAT32_C(   360.04),
                         SIMDE_FLOAT32_C(  -199.21), SIMDE_FLOAT32_C(   134.15), SIMDE_FLOAT32_C(  -764.34), SIMDE_FLOAT32_C(  -376.86),
                         SIMDE_FLOAT32_C(  -985.32), SIMDE_FLOAT32_C(   485.76), SIMDE_FLOAT32_C(   234.60), SIMDE_FLOAT32_C(   786.03),
                         SIMDE_FLOAT32_C(   859.59), SIMDE_FLOAT32_C(   489.95), SIMDE_FLOAT32_C(  -409.35), SIMDE_FLOAT32_C(   796.52)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   713.78), SIMDE_FLOAT32_C(  -342.76), SIMDE_FLOAT32_C(  -632.29), SIMDE_FLOAT32_C(  -698.47)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -382.22), SIMDE_FLOAT32_C(   146.15), SIMDE_FLOAT32_C(  -320.26), SIMDE_FLOAT32_C(   360.04),
                         SIMDE_FLOAT32_C(  -199.21), SIMDE_FLOAT32_C(   134.15), SIMDE_FLOAT32_C(  -764.34), SIMDE_FLOAT32_C(  -376.86),
                         SIMDE_FLOAT32_C(  -985.32), SIMDE_FLOAT32_C(   485.76), SIMDE_FLOAT32_C(   234.60), SIMDE_FLOAT32_C(   786.03),
                         SIMDE_FLOAT32_C(   713.78), SIMDE_FLOAT32_C(  -342.76), SIMDE_FLOAT32_C(  -632.29), SIMDE_FLOAT32_C(  -698.47)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -382.22), SIMDE_FLOAT32_C(   146.15), SIMDE_FLOAT32_C(  -320.26), SIMDE_FLOAT32_C(   360.04),
                         SIMDE_FLOAT32_C(  -199.21), SIMDE_FLOAT32_C(   134.15), SIMDE_FLOAT32_C(  -764.34), SIMDE_FLOAT32_C(  -376.86),
                         SIMDE_FLOAT32_C(   713.78), SIMDE_FLOAT32_C(  -342.76), SIMDE_FLOAT32_C(  -632.29), SIMDE_FLOAT32_C(  -698.47),
                         SIMDE_FLOAT32_C(   859.59), SIMDE_FLOAT32_C(   489.95), SIMDE_FLOAT32_C(  -409.35), SIMDE_FLOAT32_C(   796.52)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -382.22), SIMDE_FLOAT32_C(   146.15), SIMDE_FLOAT32_C(  -320.26), SIMDE_FLOAT32_C(   360.04),
                         SIMDE_FLOAT32_C(   713.78), SIMDE_FLOAT32_C(  -342.76), SIMDE_FLOAT32_C(  -632.29), SIMDE_FLOAT32_C(  -698.47),
                         SIMDE_FLOAT32_C(  -985.32), SIMDE_FLOAT32_C(   485.76), SIMDE_FLOAT32_C(   234.60), SIMDE_FLOAT32_C(   786.03),
                         SIMDE_FLOAT32_C(   859.59), SIMDE_FLOAT32_C(   489.95), SIMDE_FLOAT32_C(  -409.35), SIMDE_FLOAT32_C(   796.52)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   713.78), SIMDE_FLOAT32_C(  -342.76), SIMDE_FLOAT32_C(  -632.29), SIMDE_FLOAT32_C(  -698.47),
                         SIMDE_FLOAT32_C(  -199.21), SIMDE_FLOAT32_C(   134.15), SIMDE_FLOAT32_C(  -764.34), SIMDE_FLOAT32_C(  -376.86),
                         SIMDE_FLOAT32_C(  -985.32), SIMDE_FLOAT32_C(   485.76), SIMDE_FLOAT32_C(   234.60), SIMDE_FLOAT32_C(   786.03),
                         SIMDE_FLOAT32_C(   859.59), SIMDE_FLOAT32_C(   489.95), SIMDE_FLOAT32_C(  -409.35), SIMDE_FLOAT32_C(   796.52)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -766.40), SIMDE_FLOAT32_C(  -462.89), SIMDE_FLOAT32_C(  -495.88), SIMDE_FLOAT32_C(  -905.06),
                         SIMDE_FLOAT32_C(  -794.42), SIMDE_FLOAT32_C(   266.49), SIMDE_FLOAT32_C(  -263.27), SIMDE_FLOAT32_C(  -537.47),
                         SIMDE_FLOAT32_C(    74.85), SIMDE_FLOAT32_C(  -705.33), SIMDE_FLOAT32_C(   127.81), SIMDE_FLOAT32_C(   699.62),
                         SIMDE_FLOAT32_C(   197.25), SIMDE_FLOAT32_C(   358.04), SIMDE_FLOAT32_C(   348.19), SIMDE_FLOAT32_C(  -974.37)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   156.66), SIMDE_FLOAT32_C(   658.18), SIMDE_FLOAT32_C(   198.89), SIMDE_FLOAT32_C(  -330.38)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -766.40), SIMDE_FLOAT32_C(  -462.89), SIMDE_FLOAT32_C(  -495.88), SIMDE_FLOAT32_C(  -905.06),
                         SIMDE_FLOAT32_C(  -794.42), SIMDE_FLOAT32_C(   266.49), SIMDE_FLOAT32_C(  -263.27), SIMDE_FLOAT32_C(  -537.47),
                         SIMDE_FLOAT32_C(    74.85), SIMDE_FLOAT32_C(  -705.33), SIMDE_FLOAT32_C(   127.81), SIMDE_FLOAT32_C(   699.62),
                         SIMDE_FLOAT32_C(   156.66), SIMDE_FLOAT32_C(   658.18), SIMDE_FLOAT32_C(   198.89), SIMDE_FLOAT32_C(  -330.38)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -766.40), SIMDE_FLOAT32_C(  -462.89), SIMDE_FLOAT32_C(  -495.88), SIMDE_FLOAT32_C(  -905.06),
                         SIMDE_FLOAT32_C(  -794.42), SIMDE_FLOAT32_C(   266.49), SIMDE_FLOAT32_C(  -263.27), SIMDE_FLOAT32_C(  -537.47),
                         SIMDE_FLOAT32_C(   156.66), SIMDE_FLOAT32_C(   658.18), SIMDE_FLOAT32_C(   198.89), SIMDE_FLOAT32_C(  -330.38),
                         SIMDE_FLOAT32_C(   197.25), SIMDE_FLOAT32_C(   358.04), SIMDE_FLOAT32_C(   348.19), SIMDE_FLOAT32_C(  -974.37)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -766.40), SIMDE_FLOAT32_C(  -462.89), SIMDE_FLOAT32_C(  -495.88), SIMDE_FLOAT32_C(  -905.06),
                         SIMDE_FLOAT32_C(   156.66), SIMDE_FLOAT32_C(   658.18), SIMDE_FLOAT32_C(   198.89), SIMDE_FLOAT32_C(  -330.38),
                         SIMDE_FLOAT32_C(    74.85), SIMDE_FLOAT32_C(  -705.33), SIMDE_FLOAT32_C(   127.81), SIMDE_FLOAT32_C(   699.62),
                         SIMDE_FLOAT32_C(   197.25), SIMDE_FLOAT32_C(   358.04), SIMDE_FLOAT32_C(   348.19), SIMDE_FLOAT32_C(  -974.37)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   156.66), SIMDE_FLOAT32_C(   658.18), SIMDE_FLOAT32_C(   198.89), SIMDE_FLOAT32_C(  -330.38),
                         SIMDE_FLOAT32_C(  -794.42), SIMDE_FLOAT32_C(   266.49), SIMDE_FLOAT32_C(  -263.27), SIMDE_FLOAT32_C(  -537.47),
                         SIMDE_FLOAT32_C(    74.85), SIMDE_FLOAT32_C(  -705.33), SIMDE_FLOAT32_C(   127.81), SIMDE_FLOAT32_C(   699.62),
                         SIMDE_FLOAT32_C(   197.25), SIMDE_FLOAT32_C(   358.04), SIMDE_FLOAT32_C(   348.19), SIMDE_FLOAT32_C(  -974.37)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512 r;
    r = simde_mm512_insertf32x4(test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512_close(r, test_vec[i].r0, 1);
    r = simde_mm512_insertf32x4(test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512_close(r, test_vec[i].r1, 1);
    r = simde_mm512_insertf32x4(test_vec[i].a, test_vec[i].b, 2);
    simde_assert_m512_close(r, test_vec[i].r2, 1);
    r = simde_mm512_insertf32x4(test_vec[i].a, test_vec[i].b, 3);
    simde_assert_m512_close(r, test_vec[i].r3, 1);
  }

  return 0;
}

static int
test_simde_mm512_mask_insertf32x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512 src;
    simde__mmask16 k;
    simde__m512 a;
    simde__m128 b;
    simde__m512 r0;
    simde__m512 r1;
    simde__m512 r2;
    simde__m512 r3;
  } test_vec[8] = {
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(   -43.35), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(   846.15),
                         SIMDE_FLOAT32_C(  -514.56), SIMDE_FLOAT32_C(  -860.98), SIMDE_FLOAT32_C(  -280.30), SIMDE_FLOAT32_C(   128.51),
                         SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(  -932.28), SIMDE_FLOAT32_C(   600.12), SIMDE_FLOAT32_C(  -491.12),
                         SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(  -268.86), SIMDE_FLOAT32_C(   -71.72), SIMDE_FLOAT32_C(    98.47)),
      UINT16_C(21335),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   483.08), SIMDE_FLOAT32_C(   232.04), SIMDE_FLOAT32_C(   774.81), SIMDE_FLOAT32_C(  -599.01),
                         SIMDE_FLOAT32_C(    69.04), SIMDE_FLOAT32_C(  -149.02), SIMDE_FLOAT32_C(   240.79), SIMDE_FLOAT32_C(  -839.80),
                         SIMDE_FLOAT32_C(  -556.90), SIMDE_FLOAT32_C(   160.98), SIMDE_FLOAT32_C(   391.82), SIMDE_FLOAT32_C(  -569.99),
                         SIMDE_FLOAT32_C(  -327.63), SIMDE_FLOAT32_C(  -172.36), SIMDE_FLOAT32_C(   393.53), SIMDE_FLOAT32_C(    36.69)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -921.00), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(  -471.60), SIMDE_FLOAT32_C(  -333.94)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(   232.04), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(  -599.01),
                         SIMDE_FLOAT32_C(  -514.56), SIMDE_FLOAT32_C(  -860.98), SIMDE_FLOAT32_C(   240.79), SIMDE_FLOAT32_C(  -839.80),
                         SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(   160.98), SIMDE_FLOAT32_C(   600.12), SIMDE_FLOAT32_C(  -569.99),
                         SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(  -471.60), SIMDE_FLOAT32_C(  -333.94)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(   232.04), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(  -599.01),
                         SIMDE_FLOAT32_C(  -514.56), SIMDE_FLOAT32_C(  -860.98), SIMDE_FLOAT32_C(   240.79), SIMDE_FLOAT32_C(  -839.80),
                         SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(   600.12), SIMDE_FLOAT32_C(  -333.94),
                         SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(  -172.36), SIMDE_FLOAT32_C(   393.53), SIMDE_FLOAT32_C(    36.69)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(   232.04), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(  -599.01),
                         SIMDE_FLOAT32_C(  -514.56), SIMDE_FLOAT32_C(  -860.98), SIMDE_FLOAT32_C(  -471.60), SIMDE_FLOAT32_C(  -333.94),
                         SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(   160.98), SIMDE_FLOAT32_C(   600.12), SIMDE_FLOAT32_C(  -569.99),
                         SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(  -172.36), SIMDE_FLOAT32_C(   393.53), SIMDE_FLOAT32_C(    36.69)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(  -333.94),
                         SIMDE_FLOAT32_C(  -514.56), SIMDE_FLOAT32_C(  -860.98), SIMDE_FLOAT32_C(   240.79), SIMDE_FLOAT32_C(  -839.80),
                         SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(   160.98), SIMDE_FLOAT32_C(   600.12), SIMDE_FLOAT32_C(  -569.99),
                         SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(  -172.36), SIMDE_FLOAT32_C(   393.53), SIMDE_FLOAT32_C(    36.69)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -657.02), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(   337.35), SIMDE_FLOAT32_C(  -278.32),
                         SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(    39.32), SIMDE_FLOAT32_C(    29.68), SIMDE_FLOAT32_C(  -490.28),
                         SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(   526.21), SIMDE_FLOAT32_C(  -203.04), SIMDE_FLOAT32_C(   -80.71),
                         SIMDE_FLOAT32_C(   632.01), SIMDE_FLOAT32_C(   456.89), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -868.59)),
      UINT16_C(45677),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -213.75), SIMDE_FLOAT32_C(   403.00), SIMDE_FLOAT32_C(  -198.67), SIMDE_FLOAT32_C(   447.98),
                         SIMDE_FLOAT32_C(  -925.69), SIMDE_FLOAT32_C(   717.83), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(   -37.49),
                         SIMDE_FLOAT32_C(  -373.66), SIMDE_FLOAT32_C(  -292.35), SIMDE_FLOAT32_C(  -835.53), SIMDE_FLOAT32_C(   571.79),
                         SIMDE_FLOAT32_C(   675.92), SIMDE_FLOAT32_C(   490.41), SIMDE_FLOAT32_C(    47.59), SIMDE_FLOAT32_C(  -895.71)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   907.23), SIMDE_FLOAT32_C(   957.37), SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(  -934.92)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -213.75), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(  -198.67), SIMDE_FLOAT32_C(   447.98),
                         SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(    39.32), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(  -490.28),
                         SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(  -292.35), SIMDE_FLOAT32_C(  -835.53), SIMDE_FLOAT32_C(   -80.71),
                         SIMDE_FLOAT32_C(   907.23), SIMDE_FLOAT32_C(   957.37), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -934.92)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -213.75), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(  -198.67), SIMDE_FLOAT32_C(   447.98),
                         SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(    39.32), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(  -490.28),
                         SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(   957.37), SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(   -80.71),
                         SIMDE_FLOAT32_C(   675.92), SIMDE_FLOAT32_C(   490.41), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -895.71)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -213.75), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(  -198.67), SIMDE_FLOAT32_C(   447.98),
                         SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(    39.32), SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(  -490.28),
                         SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(  -292.35), SIMDE_FLOAT32_C(  -835.53), SIMDE_FLOAT32_C(   -80.71),
                         SIMDE_FLOAT32_C(   675.92), SIMDE_FLOAT32_C(   490.41), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -895.71)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   907.23), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(  -934.92),
                         SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(    39.32), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(  -490.28),
                         SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(  -292.35), SIMDE_FLOAT32_C(  -835.53), SIMDE_FLOAT32_C(   -80.71),
                         SIMDE_FLOAT32_C(   675.92), SIMDE_FLOAT32_C(   490.41), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -895.71)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(   799.57), SIMDE_FLOAT32_C(  -820.22), SIMDE_FLOAT32_C(  -959.11), SIMDE_FLOAT32_C(   268.99),
                         SIMDE_FLOAT32_C(  -207.87), SIMDE_FLOAT32_C(  -765.42), SIMDE_FLOAT32_C(   138.83), SIMDE_FLOAT32_C(   699.07),
                         SIMDE_FLOAT32_C(  -143.73), SIMDE_FLOAT32_C(   709.96), SIMDE_FLOAT32_C(  -767.34), SIMDE_FLOAT32_C(  -588.28),
                         SIMDE_FLOAT32_C(   586.29), SIMDE_FLOAT32_C(  -760.88), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(  -751.58)),
      UINT16_C( 7353),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -786.23), SIMDE_FLOAT32_C(   873.30), SIMDE_FLOAT32_C(   241.45), SIMDE_FLOAT32_C(  -432.13),
                         SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(  -315.78), SIMDE_FLOAT32_C(   -86.06),
                         SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(   752.26), SIMDE_FLOAT32_C(   609.29), SIMDE_FLOAT32_C(   878.85),
                         SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(   670.52), SIMDE_FLOAT32_C(   149.72), SIMDE_FLOAT32_C(   213.24)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   989.70), SIMDE_FLOAT32_C(  -433.33), SIMDE_FLOAT32_C(  -695.21), SIMDE_FLOAT32_C(    48.49)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   799.57), SIMDE_FLOAT32_C(  -820.22), SIMDE_FLOAT32_C(  -959.11), SIMDE_FLOAT32_C(  -432.13),
                         SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(   138.83), SIMDE_FLOAT32_C(   699.07),
                         SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(   709.96), SIMDE_FLOAT32_C(   609.29), SIMDE_FLOAT32_C(   878.85),
                         SIMDE_FLOAT32_C(   989.70), SIMDE_FLOAT32_C(  -760.88), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(    48.49)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   799.57), SIMDE_FLOAT32_C(  -820.22), SIMDE_FLOAT32_C(  -959.11), SIMDE_FLOAT32_C(  -432.13),
                         SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(   138.83), SIMDE_FLOAT32_C(   699.07),
                         SIMDE_FLOAT32_C(   989.70), SIMDE_FLOAT32_C(   709.96), SIMDE_FLOAT32_C(  -695.21), SIMDE_FLOAT32_C(    48.49),
                         SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(  -760.88), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(   213.24)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   799.57), SIMDE_FLOAT32_C(  -820.22), SIMDE_FLOAT32_C(  -959.11), SIMDE_FLOAT32_C(  -432.13),
                         SIMDE_FLOAT32_C(   989.70), SIMDE_FLOAT32_C(  -433.33), SIMDE_FLOAT32_C(   138.83), SIMDE_FLOAT32_C(   699.07),
                         SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(   709.96), SIMDE_FLOAT32_C(   609.29), SIMDE_FLOAT32_C(   878.85),
                         SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(  -760.88), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(   213.24)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   799.57), SIMDE_FLOAT32_C(  -820.22), SIMDE_FLOAT32_C(  -959.11), SIMDE_FLOAT32_C(    48.49),
                         SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(   138.83), SIMDE_FLOAT32_C(   699.07),
                         SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(   709.96), SIMDE_FLOAT32_C(   609.29), SIMDE_FLOAT32_C(   878.85),
                         SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(  -760.88), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(   213.24)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -282.31), SIMDE_FLOAT32_C(  -656.10), SIMDE_FLOAT32_C(  -789.54), SIMDE_FLOAT32_C(  -790.16),
                         SIMDE_FLOAT32_C(  -415.61), SIMDE_FLOAT32_C(   994.61), SIMDE_FLOAT32_C(  -659.70), SIMDE_FLOAT32_C(   493.30),
                         SIMDE_FLOAT32_C(   831.29), SIMDE_FLOAT32_C(  -619.50), SIMDE_FLOAT32_C(   952.47), SIMDE_FLOAT32_C(  -492.61),
                         SIMDE_FLOAT32_C(   -68.16), SIMDE_FLOAT32_C(   717.69), SIMDE_FLOAT32_C(  -663.74), SIMDE_FLOAT32_C(   179.29)),
      UINT16_C(58590),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -236.67), SIMDE_FLOAT32_C(  -211.91), SIMDE_FLOAT32_C(  -925.76), SIMDE_FLOAT32_C(  -915.62),
                         SIMDE_FLOAT32_C(   -30.05), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(   493.65), SIMDE_FLOAT32_C(    52.79),
                         SIMDE_FLOAT32_C(   835.54), SIMDE_FLOAT32_C(  -712.24), SIMDE_FLOAT32_C(   518.12), SIMDE_FLOAT32_C(  -173.80),
                         SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   180.78), SIMDE_FLOAT32_C(  -289.23), SIMDE_FLOAT32_C(   918.52)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   280.87), SIMDE_FLOAT32_C(  -904.81), SIMDE_FLOAT32_C(   380.83), SIMDE_FLOAT32_C(    50.50)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -236.67), SIMDE_FLOAT32_C(  -211.91), SIMDE_FLOAT32_C(  -925.76), SIMDE_FLOAT32_C(  -790.16),
                         SIMDE_FLOAT32_C(  -415.61), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(  -659.70), SIMDE_FLOAT32_C(   493.30),
                         SIMDE_FLOAT32_C(   835.54), SIMDE_FLOAT32_C(  -712.24), SIMDE_FLOAT32_C(   952.47), SIMDE_FLOAT32_C(  -173.80),
                         SIMDE_FLOAT32_C(   280.87), SIMDE_FLOAT32_C(  -904.81), SIMDE_FLOAT32_C(   380.83), SIMDE_FLOAT32_C(   179.29)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -236.67), SIMDE_FLOAT32_C(  -211.91), SIMDE_FLOAT32_C(  -925.76), SIMDE_FLOAT32_C(  -790.16),
                         SIMDE_FLOAT32_C(  -415.61), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(  -659.70), SIMDE_FLOAT32_C(   493.30),
                         SIMDE_FLOAT32_C(   280.87), SIMDE_FLOAT32_C(  -904.81), SIMDE_FLOAT32_C(   952.47), SIMDE_FLOAT32_C(    50.50),
                         SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   180.78), SIMDE_FLOAT32_C(  -289.23), SIMDE_FLOAT32_C(   179.29)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -236.67), SIMDE_FLOAT32_C(  -211.91), SIMDE_FLOAT32_C(  -925.76), SIMDE_FLOAT32_C(  -790.16),
                         SIMDE_FLOAT32_C(  -415.61), SIMDE_FLOAT32_C(  -904.81), SIMDE_FLOAT32_C(  -659.70), SIMDE_FLOAT32_C(   493.30),
                         SIMDE_FLOAT32_C(   835.54), SIMDE_FLOAT32_C(  -712.24), SIMDE_FLOAT32_C(   952.47), SIMDE_FLOAT32_C(  -173.80),
                         SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   180.78), SIMDE_FLOAT32_C(  -289.23), SIMDE_FLOAT32_C(   179.29)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   280.87), SIMDE_FLOAT32_C(  -904.81), SIMDE_FLOAT32_C(   380.83), SIMDE_FLOAT32_C(  -790.16),
                         SIMDE_FLOAT32_C(  -415.61), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(  -659.70), SIMDE_FLOAT32_C(   493.30),
                         SIMDE_FLOAT32_C(   835.54), SIMDE_FLOAT32_C(  -712.24), SIMDE_FLOAT32_C(   952.47), SIMDE_FLOAT32_C(  -173.80),
                         SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   180.78), SIMDE_FLOAT32_C(  -289.23), SIMDE_FLOAT32_C(   179.29)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -318.40), SIMDE_FLOAT32_C(  -844.73), SIMDE_FLOAT32_C(   757.65), SIMDE_FLOAT32_C(   677.41),
                         SIMDE_FLOAT32_C(  -352.24), SIMDE_FLOAT32_C(  -479.79), SIMDE_FLOAT32_C(   602.83), SIMDE_FLOAT32_C(     2.55),
                         SIMDE_FLOAT32_C(  -388.47), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(  -331.34), SIMDE_FLOAT32_C(    72.67),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(  -722.44), SIMDE_FLOAT32_C(   529.44), SIMDE_FLOAT32_C(  -949.73)),
      UINT16_C(51237),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   915.68), SIMDE_FLOAT32_C(   -53.79), SIMDE_FLOAT32_C(   703.31), SIMDE_FLOAT32_C(   930.79),
                         SIMDE_FLOAT32_C(   111.33), SIMDE_FLOAT32_C(  -176.75), SIMDE_FLOAT32_C(  -316.94), SIMDE_FLOAT32_C(   639.68),
                         SIMDE_FLOAT32_C(  -783.00), SIMDE_FLOAT32_C(  -102.18), SIMDE_FLOAT32_C(   960.00), SIMDE_FLOAT32_C(    22.93),
                         SIMDE_FLOAT32_C(  -395.13), SIMDE_FLOAT32_C(   145.63), SIMDE_FLOAT32_C(  -149.04), SIMDE_FLOAT32_C(   214.37)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -668.43), SIMDE_FLOAT32_C(  -235.48), SIMDE_FLOAT32_C(  -210.00), SIMDE_FLOAT32_C(   476.89)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   915.68), SIMDE_FLOAT32_C(   -53.79), SIMDE_FLOAT32_C(   757.65), SIMDE_FLOAT32_C(   677.41),
                         SIMDE_FLOAT32_C(   111.33), SIMDE_FLOAT32_C(  -479.79), SIMDE_FLOAT32_C(   602.83), SIMDE_FLOAT32_C(     2.55),
                         SIMDE_FLOAT32_C(  -388.47), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(   960.00), SIMDE_FLOAT32_C(    72.67),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(  -235.48), SIMDE_FLOAT32_C(   529.44), SIMDE_FLOAT32_C(   476.89)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   915.68), SIMDE_FLOAT32_C(   -53.79), SIMDE_FLOAT32_C(   757.65), SIMDE_FLOAT32_C(   677.41),
                         SIMDE_FLOAT32_C(   111.33), SIMDE_FLOAT32_C(  -479.79), SIMDE_FLOAT32_C(   602.83), SIMDE_FLOAT32_C(     2.55),
                         SIMDE_FLOAT32_C(  -388.47), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(  -210.00), SIMDE_FLOAT32_C(    72.67),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(   145.63), SIMDE_FLOAT32_C(   529.44), SIMDE_FLOAT32_C(   214.37)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   915.68), SIMDE_FLOAT32_C(   -53.79), SIMDE_FLOAT32_C(   757.65), SIMDE_FLOAT32_C(   677.41),
                         SIMDE_FLOAT32_C(  -668.43), SIMDE_FLOAT32_C(  -479.79), SIMDE_FLOAT32_C(   602.83), SIMDE_FLOAT32_C(     2.55),
                         SIMDE_FLOAT32_C(  -388.47), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(   960.00), SIMDE_FLOAT32_C(    72.67),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(   145.63), SIMDE_FLOAT32_C(   529.44), SIMDE_FLOAT32_C(   214.37)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -668.43), SIMDE_FLOAT32_C(  -235.48), SIMDE_FLOAT32_C(   757.65), SIMDE_FLOAT32_C(   677.41),
                         SIMDE_FLOAT32_C(   111.33), SIMDE_FLOAT32_C(  -479.79), SIMDE_FLOAT32_C(   602.83), SIMDE_FLOAT32_C(     2.55),
                         SIMDE_FLOAT32_C(  -388.47), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(   960.00), SIMDE_FLOAT32_C(    72.67),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(   145.63), SIMDE_FLOAT32_C(   529.44), SIMDE_FLOAT32_C(   214.37)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(   -96.70), SIMDE_FLOAT32_C(   -44.05), SIMDE_FLOAT32_C(   432.42), SIMDE_FLOAT32_C(   421.92),
                         SIMDE_FLOAT32_C(   718.96), SIMDE_FLOAT32_C(  -864.59), SIMDE_FLOAT32_C(  -334.42), SIMDE_FLOAT32_C(   660.53),
                         SIMDE_FLOAT32_C(   748.73), SIMDE_FLOAT32_C(   996.15), SIMDE_FLOAT32_C(  -607.82), SIMDE_FLOAT32_C(   296.47),
                         SIMDE_FLOAT32_C(  -327.04), SIMDE_FLOAT32_C(   -23.06), SIMDE_FLOAT32_C(   -95.21), SIMDE_FLOAT32_C(    10.75)),
      UINT16_C(44895),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   409.27), SIMDE_FLOAT32_C(   481.83), SIMDE_FLOAT32_C(   601.37), SIMDE_FLOAT32_C(  -660.24),
                         SIMDE_FLOAT32_C(  -675.56), SIMDE_FLOAT32_C(  -194.09), SIMDE_FLOAT32_C(   149.22), SIMDE_FLOAT32_C(   161.52),
                         SIMDE_FLOAT32_C(   632.78), SIMDE_FLOAT32_C(   346.90), SIMDE_FLOAT32_C(  -777.05), SIMDE_FLOAT32_C(   621.95),
                         SIMDE_FLOAT32_C(  -116.18), SIMDE_FLOAT32_C(   909.84), SIMDE_FLOAT32_C(   696.35), SIMDE_FLOAT32_C(  -644.31)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   744.11), SIMDE_FLOAT32_C(   849.34), SIMDE_FLOAT32_C(   350.11), SIMDE_FLOAT32_C(   112.68)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   409.27), SIMDE_FLOAT32_C(   -44.05), SIMDE_FLOAT32_C(   601.37), SIMDE_FLOAT32_C(   421.92),
                         SIMDE_FLOAT32_C(  -675.56), SIMDE_FLOAT32_C(  -194.09), SIMDE_FLOAT32_C(   149.22), SIMDE_FLOAT32_C(   161.52),
                         SIMDE_FLOAT32_C(   748.73), SIMDE_FLOAT32_C(   346.90), SIMDE_FLOAT32_C(  -607.82), SIMDE_FLOAT32_C(   621.95),
                         SIMDE_FLOAT32_C(   744.11), SIMDE_FLOAT32_C(   849.34), SIMDE_FLOAT32_C(   350.11), SIMDE_FLOAT32_C(   112.68)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   409.27), SIMDE_FLOAT32_C(   -44.05), SIMDE_FLOAT32_C(   601.37), SIMDE_FLOAT32_C(   421.92),
                         SIMDE_FLOAT32_C(  -675.56), SIMDE_FLOAT32_C(  -194.09), SIMDE_FLOAT32_C(   149.22), SIMDE_FLOAT32_C(   161.52),
                         SIMDE_FLOAT32_C(   748.73), SIMDE_FLOAT32_C(   849.34), SIMDE_FLOAT32_C(  -607.82), SIMDE_FLOAT32_C(   112.68),
                         SIMDE_FLOAT32_C(  -116.18), SIMDE_FLOAT32_C(   909.84), SIMDE_FLOAT32_C(   696.35), SIMDE_FLOAT32_C(  -644.31)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   409.27), SIMDE_FLOAT32_C(   -44.05), SIMDE_FLOAT32_C(   601.37), SIMDE_FLOAT32_C(   421.92),
                         SIMDE_FLOAT32_C(   744.11), SIMDE_FLOAT32_C(   849.34), SIMDE_FLOAT32_C(   350.11), SIMDE_FLOAT32_C(   112.68),
                         SIMDE_FLOAT32_C(   748.73), SIMDE_FLOAT32_C(   346.90), SIMDE_FLOAT32_C(  -607.82), SIMDE_FLOAT32_C(   621.95),
                         SIMDE_FLOAT32_C(  -116.18), SIMDE_FLOAT32_C(   909.84), SIMDE_FLOAT32_C(   696.35), SIMDE_FLOAT32_C(  -644.31)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   744.11), SIMDE_FLOAT32_C(   -44.05), SIMDE_FLOAT32_C(   350.11), SIMDE_FLOAT32_C(   421.92),
                         SIMDE_FLOAT32_C(  -675.56), SIMDE_FLOAT32_C(  -194.09), SIMDE_FLOAT32_C(   149.22), SIMDE_FLOAT32_C(   161.52),
                         SIMDE_FLOAT32_C(   748.73), SIMDE_FLOAT32_C(   346.90), SIMDE_FLOAT32_C(  -607.82), SIMDE_FLOAT32_C(   621.95),
                         SIMDE_FLOAT32_C(  -116.18), SIMDE_FLOAT32_C(   909.84), SIMDE_FLOAT32_C(   696.35), SIMDE_FLOAT32_C(  -644.31)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -291.83), SIMDE_FLOAT32_C(   951.57), SIMDE_FLOAT32_C(   272.52), SIMDE_FLOAT32_C(  -735.05),
                         SIMDE_FLOAT32_C(     5.84), SIMDE_FLOAT32_C(    39.14), SIMDE_FLOAT32_C(   124.68), SIMDE_FLOAT32_C(  -448.70),
                         SIMDE_FLOAT32_C(   122.69), SIMDE_FLOAT32_C(    65.13), SIMDE_FLOAT32_C(  -972.27), SIMDE_FLOAT32_C(   628.22),
                         SIMDE_FLOAT32_C(   383.31), SIMDE_FLOAT32_C(   641.22), SIMDE_FLOAT32_C(  -747.07), SIMDE_FLOAT32_C(  -762.67)),
      UINT16_C(25691),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   830.24), SIMDE_FLOAT32_C(   903.53), SIMDE_FLOAT32_C(  -831.08), SIMDE_FLOAT32_C(   815.07),
                         SIMDE_FLOAT32_C(   196.06), SIMDE_FLOAT32_C(   -83.06), SIMDE_FLOAT32_C(   687.82), SIMDE_FLOAT32_C(  -517.82),
                         SIMDE_FLOAT32_C(  -294.36), SIMDE_FLOAT32_C(   702.71), SIMDE_FLOAT32_C(  -920.22), SIMDE_FLOAT32_C(  -923.04),
                         SIMDE_FLOAT32_C(  -251.41), SIMDE_FLOAT32_C(   223.24), SIMDE_FLOAT32_C(  -528.18), SIMDE_FLOAT32_C(   813.86)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   757.18), SIMDE_FLOAT32_C(   318.14), SIMDE_FLOAT32_C(   214.84), SIMDE_FLOAT32_C(   399.19)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -291.83), SIMDE_FLOAT32_C(   903.53), SIMDE_FLOAT32_C(  -831.08), SIMDE_FLOAT32_C(  -735.05),
                         SIMDE_FLOAT32_C(     5.84), SIMDE_FLOAT32_C(   -83.06), SIMDE_FLOAT32_C(   124.68), SIMDE_FLOAT32_C(  -448.70),
                         SIMDE_FLOAT32_C(   122.69), SIMDE_FLOAT32_C(   702.71), SIMDE_FLOAT32_C(  -972.27), SIMDE_FLOAT32_C(  -923.04),
                         SIMDE_FLOAT32_C(   757.18), SIMDE_FLOAT32_C(   641.22), SIMDE_FLOAT32_C(   214.84), SIMDE_FLOAT32_C(   399.19)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -291.83), SIMDE_FLOAT32_C(   903.53), SIMDE_FLOAT32_C(  -831.08), SIMDE_FLOAT32_C(  -735.05),
                         SIMDE_FLOAT32_C(     5.84), SIMDE_FLOAT32_C(   -83.06), SIMDE_FLOAT32_C(   124.68), SIMDE_FLOAT32_C(  -448.70),
                         SIMDE_FLOAT32_C(   122.69), SIMDE_FLOAT32_C(   318.14), SIMDE_FLOAT32_C(  -972.27), SIMDE_FLOAT32_C(   399.19),
                         SIMDE_FLOAT32_C(  -251.41), SIMDE_FLOAT32_C(   641.22), SIMDE_FLOAT32_C(  -528.18), SIMDE_FLOAT32_C(   813.86)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -291.83), SIMDE_FLOAT32_C(   903.53), SIMDE_FLOAT32_C(  -831.08), SIMDE_FLOAT32_C(  -735.05),
                         SIMDE_FLOAT32_C(     5.84), SIMDE_FLOAT32_C(   318.14), SIMDE_FLOAT32_C(   124.68), SIMDE_FLOAT32_C(  -448.70),
                         SIMDE_FLOAT32_C(   122.69), SIMDE_FLOAT32_C(   702.71), SIMDE_FLOAT32_C(  -972.27), SIMDE_FLOAT32_C(  -923.04),
                         SIMDE_FLOAT32_C(  -251.41), SIMDE_FLOAT32_C(   641.22), SIMDE_FLOAT32_C(  -528.18), SIMDE_FLOAT32_C(   813.86)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -291.83), SIMDE_FLOAT32_C(   318.14), SIMDE_FLOAT32_C(   214.84), SIMDE_FLOAT32_C(  -735.05),
                         SIMDE_FLOAT32_C(     5.84), SIMDE_FLOAT32_C(   -83.06), SIMDE_FLOAT32_C(   124.68), SIMDE_FLOAT32_C(  -448.70),
                         SIMDE_FLOAT32_C(   122.69), SIMDE_FLOAT32_C(   702.71), SIMDE_FLOAT32_C(  -972.27), SIMDE_FLOAT32_C(  -923.04),
                         SIMDE_FLOAT32_C(  -251.41), SIMDE_FLOAT32_C(   641.22), SIMDE_FLOAT32_C(  -528.18), SIMDE_FLOAT32_C(   813.86)) },
    { simde_mm512_set_ps(SIMDE_FLOAT32_C(  -836.14), SIMDE_FLOAT32_C(   203.81), SIMDE_FLOAT32_C(   976.04), SIMDE_FLOAT32_C(  -539.32),
                         SIMDE_FLOAT32_C(  -223.45), SIMDE_FLOAT32_C(   385.89), SIMDE_FLOAT32_C(   181.57), SIMDE_FLOAT32_C(   739.21),
                         SIMDE_FLOAT32_C(   355.61), SIMDE_FLOAT32_C(  -450.77), SIMDE_FLOAT32_C(   343.42), SIMDE_FLOAT32_C(  -703.95),
                         SIMDE_FLOAT32_C(   169.29), SIMDE_FLOAT32_C(   932.53), SIMDE_FLOAT32_C(  -653.71), SIMDE_FLOAT32_C(   371.73)),
      UINT16_C(40766),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -508.71), SIMDE_FLOAT32_C(  -257.73), SIMDE_FLOAT32_C(   937.76), SIMDE_FLOAT32_C(  -978.21),
                         SIMDE_FLOAT32_C(   677.79), SIMDE_FLOAT32_C(   768.71), SIMDE_FLOAT32_C(  -498.71), SIMDE_FLOAT32_C(   101.56),
                         SIMDE_FLOAT32_C(   211.34), SIMDE_FLOAT32_C(  -159.54), SIMDE_FLOAT32_C(   297.01), SIMDE_FLOAT32_C(   147.67),
                         SIMDE_FLOAT32_C(  -855.53), SIMDE_FLOAT32_C(   391.08), SIMDE_FLOAT32_C(  -710.54), SIMDE_FLOAT32_C(  -140.51)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   397.77), SIMDE_FLOAT32_C(   348.86), SIMDE_FLOAT32_C(    24.57), SIMDE_FLOAT32_C(  -908.02)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -508.71), SIMDE_FLOAT32_C(   203.81), SIMDE_FLOAT32_C(   976.04), SIMDE_FLOAT32_C(  -978.21),
                         SIMDE_FLOAT32_C(   677.79), SIMDE_FLOAT32_C(   768.71), SIMDE_FLOAT32_C(  -498.71), SIMDE_FLOAT32_C(   101.56),
                         SIMDE_FLOAT32_C(   355.61), SIMDE_FLOAT32_C(  -450.77), SIMDE_FLOAT32_C(   297.01), SIMDE_FLOAT32_C(   147.67),
                         SIMDE_FLOAT32_C(   397.77), SIMDE_FLOAT32_C(   348.86), SIMDE_FLOAT32_C(    24.57), SIMDE_FLOAT32_C(   371.73)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -508.71), SIMDE_FLOAT32_C(   203.81), SIMDE_FLOAT32_C(   976.04), SIMDE_FLOAT32_C(  -978.21),
                         SIMDE_FLOAT32_C(   677.79), SIMDE_FLOAT32_C(   768.71), SIMDE_FLOAT32_C(  -498.71), SIMDE_FLOAT32_C(   101.56),
                         SIMDE_FLOAT32_C(   355.61), SIMDE_FLOAT32_C(  -450.77), SIMDE_FLOAT32_C(    24.57), SIMDE_FLOAT32_C(  -908.02),
                         SIMDE_FLOAT32_C(  -855.53), SIMDE_FLOAT32_C(   391.08), SIMDE_FLOAT32_C(  -710.54), SIMDE_FLOAT32_C(   371.73)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -508.71), SIMDE_FLOAT32_C(   203.81), SIMDE_FLOAT32_C(   976.04), SIMDE_FLOAT32_C(  -978.21),
                         SIMDE_FLOAT32_C(   397.77), SIMDE_FLOAT32_C(   348.86), SIMDE_FLOAT32_C(    24.57), SIMDE_FLOAT32_C(  -908.02),
                         SIMDE_FLOAT32_C(   355.61), SIMDE_FLOAT32_C(  -450.77), SIMDE_FLOAT32_C(   297.01), SIMDE_FLOAT32_C(   147.67),
                         SIMDE_FLOAT32_C(  -855.53), SIMDE_FLOAT32_C(   391.08), SIMDE_FLOAT32_C(  -710.54), SIMDE_FLOAT32_C(   371.73)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(   397.77), SIMDE_FLOAT32_C(   203.81), SIMDE_FLOAT32_C(   976.04), SIMDE_FLOAT32_C(  -908.02),
                         SIMDE_FLOAT32_C(   677.79), SIMDE_FLOAT32_C(   768.71), SIMDE_FLOAT32_C(  -498.71), SIMDE_FLOAT32_C(   101.56),
                         SIMDE_FLOAT32_C(   355.61), SIMDE_FLOAT32_C(  -450.77), SIMDE_FLOAT32_C(   297.01), SIMDE_FLOAT32_C(   147.67),
                         SIMDE_FLOAT32_C(  -855.53), SIMDE_FLOAT32_C(   391.08), SIMDE_FLOAT32_C(  -710.54), SIMDE_FLOAT32_C(   371.73)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512 r;
    r = simde_mm512_mask_insertf32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512_close(r, test_vec[i].r0, 1);
    r = simde_mm512_mask_insertf32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512_close(r, test_vec[i].r1, 1);
    r = simde_mm512_mask_insertf32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 2);
    simde_assert_m512_close(r, test_vec[i].r2, 1);
    r = simde_mm512_mask_insertf32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 3);
    simde_assert_m512_close(r, test_vec[i].r3, 1);
  }

  return 0;
}

static int
test_simde_mm512_maskz_insertf32x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__mmask16 k;
    simde__m512 a;
    simde__m128 b;
    simde__m512 r0;
    simde__m512 r1;
    simde__m512 r2;
    simde__m512 r3;
  } test_vec[8] = {
    { UINT16_C(21335),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -556.90), SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(   160.98), SIMDE_FLOAT32_C(  -932.28),
                         SIMDE_FLOAT32_C(   391.82), SIMDE_FLOAT32_C(   600.12), SIMDE_FLOAT32_C(  -569.99), SIMDE_FLOAT32_C(  -491.12),
                         SIMDE_FLOAT32_C(  -327.63), SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(  -172.36), SIMDE_FLOAT32_C(  -268.86),
                         SIMDE_FLOAT32_C(   393.53), SIMDE_FLOAT32_C(   -71.72), SIMDE_FLOAT32_C(    36.69), SIMDE_FLOAT32_C(    98.47)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   240.79), SIMDE_FLOAT32_C(  -280.30), SIMDE_FLOAT32_C(  -839.80), SIMDE_FLOAT32_C(   128.51)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -932.28),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -569.99), SIMDE_FLOAT32_C(  -491.12),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -268.86),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -280.30), SIMDE_FLOAT32_C(  -839.80), SIMDE_FLOAT32_C(   128.51)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -932.28),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -569.99), SIMDE_FLOAT32_C(  -491.12),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -280.30), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   128.51),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -71.72), SIMDE_FLOAT32_C(    36.69), SIMDE_FLOAT32_C(    98.47)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   522.06), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -932.28),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -839.80), SIMDE_FLOAT32_C(   128.51),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -268.86),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -71.72), SIMDE_FLOAT32_C(    36.69), SIMDE_FLOAT32_C(    98.47)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -280.30), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   128.51),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -569.99), SIMDE_FLOAT32_C(  -491.12),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -139.11), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -268.86),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -71.72), SIMDE_FLOAT32_C(    36.69), SIMDE_FLOAT32_C(    98.47)) },
    { UINT16_C(30312),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -736.92), SIMDE_FLOAT32_C(  -921.00), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(  -471.60),
                         SIMDE_FLOAT32_C(  -333.94), SIMDE_FLOAT32_C(   483.08), SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(   232.04),
                         SIMDE_FLOAT32_C(   -43.35), SIMDE_FLOAT32_C(   774.81), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(  -599.01),
                         SIMDE_FLOAT32_C(   846.15), SIMDE_FLOAT32_C(    69.04), SIMDE_FLOAT32_C(  -514.56), SIMDE_FLOAT32_C(  -149.02)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(    47.59), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -895.71), SIMDE_FLOAT32_C(  -868.59)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -921.00), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(  -471.60),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   483.08), SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   774.81), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(    47.59), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -921.00), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(  -471.60),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   483.08), SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -895.71), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   846.15), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -921.00), SIMDE_FLOAT32_C(   283.06), SIMDE_FLOAT32_C(  -471.60),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -895.71), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   774.81), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   846.15), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    51.33), SIMDE_FLOAT32_C(  -895.71), SIMDE_FLOAT32_C(  -868.59),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   483.08), SIMDE_FLOAT32_C(   903.50), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   774.81), SIMDE_FLOAT32_C(   309.91), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   846.15), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)) },
    { UINT16_C(24099),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(    39.32), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(    29.68), SIMDE_FLOAT32_C(   -37.49),
                         SIMDE_FLOAT32_C(  -490.28), SIMDE_FLOAT32_C(  -373.66), SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(  -292.35),
                         SIMDE_FLOAT32_C(   526.21), SIMDE_FLOAT32_C(  -835.53), SIMDE_FLOAT32_C(  -203.04), SIMDE_FLOAT32_C(   571.79),
                         SIMDE_FLOAT32_C(   -80.71), SIMDE_FLOAT32_C(   675.92), SIMDE_FLOAT32_C(   632.01), SIMDE_FLOAT32_C(   490.41)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -278.32), SIMDE_FLOAT32_C(  -925.69), SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(   717.83)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -37.49),
                         SIMDE_FLOAT32_C(  -490.28), SIMDE_FLOAT32_C(  -373.66), SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -203.04), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(   717.83)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -37.49),
                         SIMDE_FLOAT32_C(  -490.28), SIMDE_FLOAT32_C(  -373.66), SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   632.01), SIMDE_FLOAT32_C(   490.41)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -489.88), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -37.49),
                         SIMDE_FLOAT32_C(  -278.32), SIMDE_FLOAT32_C(  -925.69), SIMDE_FLOAT32_C(  -744.41), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -203.04), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   632.01), SIMDE_FLOAT32_C(   490.41)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -925.69), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   717.83),
                         SIMDE_FLOAT32_C(  -490.28), SIMDE_FLOAT32_C(  -373.66), SIMDE_FLOAT32_C(   841.53), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -203.04), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   632.01), SIMDE_FLOAT32_C(   490.41)) },
    { UINT16_C(31949),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -760.88), SIMDE_FLOAT32_C(   149.72), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(   213.24),
                         SIMDE_FLOAT32_C(  -751.58), SIMDE_FLOAT32_C(  -577.36), SIMDE_FLOAT32_C(   907.23), SIMDE_FLOAT32_C(   957.37),
                         SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(  -934.92), SIMDE_FLOAT32_C(  -213.75), SIMDE_FLOAT32_C(  -657.02),
                         SIMDE_FLOAT32_C(   403.00), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(  -198.67), SIMDE_FLOAT32_C(   337.35)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -588.28), SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(   586.29), SIMDE_FLOAT32_C(   670.52)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   149.72), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(   213.24),
                         SIMDE_FLOAT32_C(  -751.58), SIMDE_FLOAT32_C(  -577.36), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(  -934.92), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(  -588.28), SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   670.52)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   149.72), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(   213.24),
                         SIMDE_FLOAT32_C(  -751.58), SIMDE_FLOAT32_C(  -577.36), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(  -588.28), SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   403.00), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   337.35)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   149.72), SIMDE_FLOAT32_C(  -617.12), SIMDE_FLOAT32_C(   213.24),
                         SIMDE_FLOAT32_C(  -588.28), SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(  -934.92), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   403.00), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   337.35)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   846.67), SIMDE_FLOAT32_C(   586.29), SIMDE_FLOAT32_C(   670.52),
                         SIMDE_FLOAT32_C(  -751.58), SIMDE_FLOAT32_C(  -577.36), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(  -359.60), SIMDE_FLOAT32_C(  -934.92), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   403.00), SIMDE_FLOAT32_C(  -629.37), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   337.35)) },
    { UINT16_C(10665),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -432.13), SIMDE_FLOAT32_C(   268.99), SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(  -207.87),
                         SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(  -765.42), SIMDE_FLOAT32_C(  -315.78), SIMDE_FLOAT32_C(   138.83),
                         SIMDE_FLOAT32_C(   -86.06), SIMDE_FLOAT32_C(   699.07), SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(  -143.73),
                         SIMDE_FLOAT32_C(   752.26), SIMDE_FLOAT32_C(   709.96), SIMDE_FLOAT32_C(   609.29), SIMDE_FLOAT32_C(  -767.34)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   873.30), SIMDE_FLOAT32_C(  -820.22), SIMDE_FLOAT32_C(   241.45), SIMDE_FLOAT32_C(  -959.11)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   138.83),
                         SIMDE_FLOAT32_C(   -86.06), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   873.30), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -959.11)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   138.83),
                         SIMDE_FLOAT32_C(   873.30), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   241.45), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   752.26), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -767.34)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -842.15), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   873.30), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -959.11),
                         SIMDE_FLOAT32_C(   -86.06), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   752.26), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -767.34)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   241.45), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   908.84), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   138.83),
                         SIMDE_FLOAT32_C(   -86.06), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -413.85), SIMDE_FLOAT32_C(     0.00),
                         SIMDE_FLOAT32_C(   752.26), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -767.34)) },
    { UINT16_C(12797),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -173.80), SIMDE_FLOAT32_C(  -492.61), SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   -68.16),
                         SIMDE_FLOAT32_C(   180.78), SIMDE_FLOAT32_C(   717.69), SIMDE_FLOAT32_C(  -289.23), SIMDE_FLOAT32_C(  -663.74),
                         SIMDE_FLOAT32_C(   918.52), SIMDE_FLOAT32_C(   179.29), SIMDE_FLOAT32_C(  -422.76), SIMDE_FLOAT32_C(   989.70),
                         SIMDE_FLOAT32_C(  -433.33), SIMDE_FLOAT32_C(  -695.21), SIMDE_FLOAT32_C(    48.49), SIMDE_FLOAT32_C(  -786.23)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -712.24), SIMDE_FLOAT32_C(  -619.50), SIMDE_FLOAT32_C(   518.12), SIMDE_FLOAT32_C(   952.47)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   -68.16),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -663.74),
                         SIMDE_FLOAT32_C(   918.52), SIMDE_FLOAT32_C(   179.29), SIMDE_FLOAT32_C(  -422.76), SIMDE_FLOAT32_C(   989.70),
                         SIMDE_FLOAT32_C(  -712.24), SIMDE_FLOAT32_C(  -619.50), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   952.47)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   -68.16),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -663.74),
                         SIMDE_FLOAT32_C(  -712.24), SIMDE_FLOAT32_C(  -619.50), SIMDE_FLOAT32_C(   518.12), SIMDE_FLOAT32_C(   952.47),
                         SIMDE_FLOAT32_C(  -433.33), SIMDE_FLOAT32_C(  -695.21), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -786.23)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   487.08), SIMDE_FLOAT32_C(   -68.16),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   952.47),
                         SIMDE_FLOAT32_C(   918.52), SIMDE_FLOAT32_C(   179.29), SIMDE_FLOAT32_C(  -422.76), SIMDE_FLOAT32_C(   989.70),
                         SIMDE_FLOAT32_C(  -433.33), SIMDE_FLOAT32_C(  -695.21), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -786.23)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   518.12), SIMDE_FLOAT32_C(   952.47),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -663.74),
                         SIMDE_FLOAT32_C(   918.52), SIMDE_FLOAT32_C(   179.29), SIMDE_FLOAT32_C(  -422.76), SIMDE_FLOAT32_C(   989.70),
                         SIMDE_FLOAT32_C(  -433.33), SIMDE_FLOAT32_C(  -695.21), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -786.23)) },
    { UINT16_C(46928),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -282.31), SIMDE_FLOAT32_C(  -211.91), SIMDE_FLOAT32_C(  -656.10), SIMDE_FLOAT32_C(  -925.76),
                         SIMDE_FLOAT32_C(  -789.54), SIMDE_FLOAT32_C(  -915.62), SIMDE_FLOAT32_C(  -790.16), SIMDE_FLOAT32_C(   -30.05),
                         SIMDE_FLOAT32_C(  -415.61), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(   994.61), SIMDE_FLOAT32_C(   493.65),
                         SIMDE_FLOAT32_C(  -659.70), SIMDE_FLOAT32_C(    52.79), SIMDE_FLOAT32_C(   493.30), SIMDE_FLOAT32_C(   835.54)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(  -904.81), SIMDE_FLOAT32_C(   380.83), SIMDE_FLOAT32_C(    50.50), SIMDE_FLOAT32_C(  -236.67)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -282.31), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -656.10), SIMDE_FLOAT32_C(  -925.76),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -915.62), SIMDE_FLOAT32_C(  -790.16), SIMDE_FLOAT32_C(   -30.05),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   493.65),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -282.31), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -656.10), SIMDE_FLOAT32_C(  -925.76),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -915.62), SIMDE_FLOAT32_C(  -790.16), SIMDE_FLOAT32_C(   -30.05),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   380.83), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -236.67),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -282.31), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -656.10), SIMDE_FLOAT32_C(  -925.76),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   380.83), SIMDE_FLOAT32_C(    50.50), SIMDE_FLOAT32_C(  -236.67),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   493.65),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -904.81), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    50.50), SIMDE_FLOAT32_C(  -236.67),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -915.62), SIMDE_FLOAT32_C(  -790.16), SIMDE_FLOAT32_C(   -30.05),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   -70.79), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   493.65),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)) },
    { UINT16_C(30100),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(  -388.47), SIMDE_FLOAT32_C(  -102.18), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(   960.00),
                         SIMDE_FLOAT32_C(  -331.34), SIMDE_FLOAT32_C(    22.93), SIMDE_FLOAT32_C(    72.67), SIMDE_FLOAT32_C(  -395.13),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(   145.63), SIMDE_FLOAT32_C(  -722.44), SIMDE_FLOAT32_C(  -149.04),
                         SIMDE_FLOAT32_C(   529.44), SIMDE_FLOAT32_C(   214.37), SIMDE_FLOAT32_C(  -949.73), SIMDE_FLOAT32_C(  -453.25)),
      simde_mm_set_ps(SIMDE_FLOAT32_C(   602.83), SIMDE_FLOAT32_C(   639.68), SIMDE_FLOAT32_C(     2.55), SIMDE_FLOAT32_C(  -783.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -102.18), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(   960.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    22.93), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -395.13),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -149.04),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   639.68), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -102.18), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(   960.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    22.93), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -395.13),
                         SIMDE_FLOAT32_C(   602.83), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -783.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   214.37), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -102.18), SIMDE_FLOAT32_C(  -643.43), SIMDE_FLOAT32_C(   960.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   639.68), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -783.00),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -149.04),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   214.37), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)),
      simde_mm512_set_ps(SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   639.68), SIMDE_FLOAT32_C(     2.55), SIMDE_FLOAT32_C(  -783.00),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    22.93), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -395.13),
                         SIMDE_FLOAT32_C(  -870.79), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -149.04),
                         SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   214.37), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512 r;
    r = simde_mm512_maskz_insertf32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512_close(r, test_vec[i].r0, 1);
    r = simde_mm512_maskz_insertf32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512_close(r, test_vec[i].r1, 1);
    r = simde_mm512_maskz_insertf32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 2);
    simde_assert_m512_close(r, test_vec[i].r2, 1);
    r = simde_mm512_maskz_insertf32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 3);
    simde_assert_m512_close(r, test_vec[i].r3, 1);
  }

  return 0;
}

static int
test_simde_mm512_insertf64x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512d a;
    simde__m256d b;
    simde__m512d r0;
    simde__m512d r1;
  } test_vec[8] = {
    { simde_mm512_set_pd(SIMDE_FLOAT64_C( -431.26), SIMDE_FLOAT64_C(  481.25),
                         SIMDE_FLOAT64_C(  -57.75), SIMDE_FLOAT64_C( -784.26),
                         SIMDE_FLOAT64_C(  438.04), SIMDE_FLOAT64_C(  549.03),
                         SIMDE_FLOAT64_C(  729.46), SIMDE_FLOAT64_C(  582.53)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -465.05), SIMDE_FLOAT64_C(  439.15),
                         SIMDE_FLOAT64_C( -104.57), SIMDE_FLOAT64_C(  -28.15)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -431.26), SIMDE_FLOAT64_C(  481.25),
                         SIMDE_FLOAT64_C(  -57.75), SIMDE_FLOAT64_C( -784.26),
                         SIMDE_FLOAT64_C( -465.05), SIMDE_FLOAT64_C(  439.15),
                         SIMDE_FLOAT64_C( -104.57), SIMDE_FLOAT64_C(  -28.15)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -465.05), SIMDE_FLOAT64_C(  439.15),
                         SIMDE_FLOAT64_C( -104.57), SIMDE_FLOAT64_C(  -28.15),
                         SIMDE_FLOAT64_C(  438.04), SIMDE_FLOAT64_C(  549.03),
                         SIMDE_FLOAT64_C(  729.46), SIMDE_FLOAT64_C(  582.53)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C( -202.49), SIMDE_FLOAT64_C( -470.36),
                         SIMDE_FLOAT64_C(  966.37), SIMDE_FLOAT64_C(  135.20),
                         SIMDE_FLOAT64_C( -563.83), SIMDE_FLOAT64_C(  799.30),
                         SIMDE_FLOAT64_C(  938.85), SIMDE_FLOAT64_C( -576.01)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  355.11), SIMDE_FLOAT64_C( -787.72),
                         SIMDE_FLOAT64_C(  472.82), SIMDE_FLOAT64_C( -703.51)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -202.49), SIMDE_FLOAT64_C( -470.36),
                         SIMDE_FLOAT64_C(  966.37), SIMDE_FLOAT64_C(  135.20),
                         SIMDE_FLOAT64_C(  355.11), SIMDE_FLOAT64_C( -787.72),
                         SIMDE_FLOAT64_C(  472.82), SIMDE_FLOAT64_C( -703.51)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  355.11), SIMDE_FLOAT64_C( -787.72),
                         SIMDE_FLOAT64_C(  472.82), SIMDE_FLOAT64_C( -703.51),
                         SIMDE_FLOAT64_C( -563.83), SIMDE_FLOAT64_C(  799.30),
                         SIMDE_FLOAT64_C(  938.85), SIMDE_FLOAT64_C( -576.01)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  120.10), SIMDE_FLOAT64_C(  -64.06),
                         SIMDE_FLOAT64_C( -620.03), SIMDE_FLOAT64_C(  559.81),
                         SIMDE_FLOAT64_C(  185.23), SIMDE_FLOAT64_C( -423.61),
                         SIMDE_FLOAT64_C(  -11.91), SIMDE_FLOAT64_C(  407.56)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -743.10), SIMDE_FLOAT64_C( -688.01),
                         SIMDE_FLOAT64_C(  442.76), SIMDE_FLOAT64_C(  931.17)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  120.10), SIMDE_FLOAT64_C(  -64.06),
                         SIMDE_FLOAT64_C( -620.03), SIMDE_FLOAT64_C(  559.81),
                         SIMDE_FLOAT64_C( -743.10), SIMDE_FLOAT64_C( -688.01),
                         SIMDE_FLOAT64_C(  442.76), SIMDE_FLOAT64_C(  931.17)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -743.10), SIMDE_FLOAT64_C( -688.01),
                         SIMDE_FLOAT64_C(  442.76), SIMDE_FLOAT64_C(  931.17),
                         SIMDE_FLOAT64_C(  185.23), SIMDE_FLOAT64_C( -423.61),
                         SIMDE_FLOAT64_C(  -11.91), SIMDE_FLOAT64_C(  407.56)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  208.07), SIMDE_FLOAT64_C(  -94.60),
                         SIMDE_FLOAT64_C(  834.28), SIMDE_FLOAT64_C(  260.50),
                         SIMDE_FLOAT64_C( -859.51), SIMDE_FLOAT64_C(  -69.45),
                         SIMDE_FLOAT64_C(   40.36), SIMDE_FLOAT64_C(   95.61)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  193.01), SIMDE_FLOAT64_C( -435.27),
                         SIMDE_FLOAT64_C(  -84.06), SIMDE_FLOAT64_C(  298.40)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  208.07), SIMDE_FLOAT64_C(  -94.60),
                         SIMDE_FLOAT64_C(  834.28), SIMDE_FLOAT64_C(  260.50),
                         SIMDE_FLOAT64_C(  193.01), SIMDE_FLOAT64_C( -435.27),
                         SIMDE_FLOAT64_C(  -84.06), SIMDE_FLOAT64_C(  298.40)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  193.01), SIMDE_FLOAT64_C( -435.27),
                         SIMDE_FLOAT64_C(  -84.06), SIMDE_FLOAT64_C(  298.40),
                         SIMDE_FLOAT64_C( -859.51), SIMDE_FLOAT64_C(  -69.45),
                         SIMDE_FLOAT64_C(   40.36), SIMDE_FLOAT64_C(   95.61)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  -98.08), SIMDE_FLOAT64_C(  464.19),
                         SIMDE_FLOAT64_C(  711.12), SIMDE_FLOAT64_C(  282.83),
                         SIMDE_FLOAT64_C( -774.08), SIMDE_FLOAT64_C(  841.24),
                         SIMDE_FLOAT64_C( -414.07), SIMDE_FLOAT64_C(   79.76)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -157.33), SIMDE_FLOAT64_C( -819.46),
                         SIMDE_FLOAT64_C(  541.44), SIMDE_FLOAT64_C(  112.81)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  -98.08), SIMDE_FLOAT64_C(  464.19),
                         SIMDE_FLOAT64_C(  711.12), SIMDE_FLOAT64_C(  282.83),
                         SIMDE_FLOAT64_C( -157.33), SIMDE_FLOAT64_C( -819.46),
                         SIMDE_FLOAT64_C(  541.44), SIMDE_FLOAT64_C(  112.81)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -157.33), SIMDE_FLOAT64_C( -819.46),
                         SIMDE_FLOAT64_C(  541.44), SIMDE_FLOAT64_C(  112.81),
                         SIMDE_FLOAT64_C( -774.08), SIMDE_FLOAT64_C(  841.24),
                         SIMDE_FLOAT64_C( -414.07), SIMDE_FLOAT64_C(   79.76)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  375.27), SIMDE_FLOAT64_C( -966.90),
                         SIMDE_FLOAT64_C( -512.98), SIMDE_FLOAT64_C( -737.78),
                         SIMDE_FLOAT64_C(  664.52), SIMDE_FLOAT64_C( -224.13),
                         SIMDE_FLOAT64_C(  633.65), SIMDE_FLOAT64_C( -834.15)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(   -2.60), SIMDE_FLOAT64_C(  -38.88),
                         SIMDE_FLOAT64_C(  165.88), SIMDE_FLOAT64_C(  218.73)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  375.27), SIMDE_FLOAT64_C( -966.90),
                         SIMDE_FLOAT64_C( -512.98), SIMDE_FLOAT64_C( -737.78),
                         SIMDE_FLOAT64_C(   -2.60), SIMDE_FLOAT64_C(  -38.88),
                         SIMDE_FLOAT64_C(  165.88), SIMDE_FLOAT64_C(  218.73)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(   -2.60), SIMDE_FLOAT64_C(  -38.88),
                         SIMDE_FLOAT64_C(  165.88), SIMDE_FLOAT64_C(  218.73),
                         SIMDE_FLOAT64_C(  664.52), SIMDE_FLOAT64_C( -224.13),
                         SIMDE_FLOAT64_C(  633.65), SIMDE_FLOAT64_C( -834.15)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  141.08), SIMDE_FLOAT64_C( -832.50),
                         SIMDE_FLOAT64_C( -990.15), SIMDE_FLOAT64_C(  438.46),
                         SIMDE_FLOAT64_C( -887.47), SIMDE_FLOAT64_C(  336.35),
                         SIMDE_FLOAT64_C( -396.24), SIMDE_FLOAT64_C(   99.21)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  -99.37), SIMDE_FLOAT64_C( -151.02),
                         SIMDE_FLOAT64_C(  551.65), SIMDE_FLOAT64_C(  155.58)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  141.08), SIMDE_FLOAT64_C( -832.50),
                         SIMDE_FLOAT64_C( -990.15), SIMDE_FLOAT64_C(  438.46),
                         SIMDE_FLOAT64_C(  -99.37), SIMDE_FLOAT64_C( -151.02),
                         SIMDE_FLOAT64_C(  551.65), SIMDE_FLOAT64_C(  155.58)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  -99.37), SIMDE_FLOAT64_C( -151.02),
                         SIMDE_FLOAT64_C(  551.65), SIMDE_FLOAT64_C(  155.58),
                         SIMDE_FLOAT64_C( -887.47), SIMDE_FLOAT64_C(  336.35),
                         SIMDE_FLOAT64_C( -396.24), SIMDE_FLOAT64_C(   99.21)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  666.32), SIMDE_FLOAT64_C(  364.80),
                         SIMDE_FLOAT64_C(  759.27), SIMDE_FLOAT64_C( -524.19),
                         SIMDE_FLOAT64_C( -726.51), SIMDE_FLOAT64_C(  381.71),
                         SIMDE_FLOAT64_C(  819.12), SIMDE_FLOAT64_C(  145.28)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -179.98), SIMDE_FLOAT64_C(  258.23),
                         SIMDE_FLOAT64_C(  246.22), SIMDE_FLOAT64_C(   97.85)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  666.32), SIMDE_FLOAT64_C(  364.80),
                         SIMDE_FLOAT64_C(  759.27), SIMDE_FLOAT64_C( -524.19),
                         SIMDE_FLOAT64_C( -179.98), SIMDE_FLOAT64_C(  258.23),
                         SIMDE_FLOAT64_C(  246.22), SIMDE_FLOAT64_C(   97.85)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -179.98), SIMDE_FLOAT64_C(  258.23),
                         SIMDE_FLOAT64_C(  246.22), SIMDE_FLOAT64_C(   97.85),
                         SIMDE_FLOAT64_C( -726.51), SIMDE_FLOAT64_C(  381.71),
                         SIMDE_FLOAT64_C(  819.12), SIMDE_FLOAT64_C(  145.28)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512d r;
    r = simde_mm512_insertf64x4(test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512d_close(r, test_vec[i].r0, 1);
    r = simde_mm512_insertf64x4(test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512d_close(r, test_vec[i].r1, 1);
  }

  return 0;
}

static int
test_simde_mm512_mask_insertf64x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512d src;
    simde__mmask8 k;
    simde__m512d a;
    simde__m256d b;
    simde__m512d r0;
    simde__m512d r1;
  } test_vec[8] = {
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  160.98), SIMDE_FLOAT64_C( -932.28),
                         SIMDE_FLOAT64_C( -569.99), SIMDE_FLOAT64_C( -327.63),
                         SIMDE_FLOAT64_C( -172.36), SIMDE_FLOAT64_C(  393.53),
                         SIMDE_FLOAT64_C(  128.51), SIMDE_FLOAT64_C( -556.90)),
      UINT8_C( 67),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  522.06), SIMDE_FLOAT64_C( -932.28),
                         SIMDE_FLOAT64_C(  600.12), SIMDE_FLOAT64_C( -491.12),
                         SIMDE_FLOAT64_C( -139.11), SIMDE_FLOAT64_C( -268.86),
                         SIMDE_FLOAT64_C(  -71.72), SIMDE_FLOAT64_C(   98.47)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -280.30), SIMDE_FLOAT64_C( -839.80),
                         SIMDE_FLOAT64_C(  128.51), SIMDE_FLOAT64_C( -556.90)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  160.98), SIMDE_FLOAT64_C( -932.28),
                         SIMDE_FLOAT64_C( -569.99), SIMDE_FLOAT64_C( -327.63),
                         SIMDE_FLOAT64_C( -172.36), SIMDE_FLOAT64_C(  393.53),
                         SIMDE_FLOAT64_C(  128.51), SIMDE_FLOAT64_C( -556.90)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  160.98), SIMDE_FLOAT64_C( -839.80),
                         SIMDE_FLOAT64_C( -569.99), SIMDE_FLOAT64_C( -327.63),
                         SIMDE_FLOAT64_C( -172.36), SIMDE_FLOAT64_C(  393.53),
                         SIMDE_FLOAT64_C(  -71.72), SIMDE_FLOAT64_C(   98.47)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  283.06), SIMDE_FLOAT64_C( -333.94),
                         SIMDE_FLOAT64_C(  903.50), SIMDE_FLOAT64_C(  232.04),
                         SIMDE_FLOAT64_C(  309.91), SIMDE_FLOAT64_C(  846.15),
                         SIMDE_FLOAT64_C( -514.56), SIMDE_FLOAT64_C( -736.92)),
      UINT8_C( 17),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -921.00), SIMDE_FLOAT64_C( -471.60),
                         SIMDE_FLOAT64_C(  483.08), SIMDE_FLOAT64_C(  232.04),
                         SIMDE_FLOAT64_C(  774.81), SIMDE_FLOAT64_C( -599.01),
                         SIMDE_FLOAT64_C(   69.04), SIMDE_FLOAT64_C( -149.02)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(   51.33), SIMDE_FLOAT64_C( -895.71),
                         SIMDE_FLOAT64_C( -868.59), SIMDE_FLOAT64_C( -736.92)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  283.06), SIMDE_FLOAT64_C( -333.94),
                         SIMDE_FLOAT64_C(  903.50), SIMDE_FLOAT64_C(  232.04),
                         SIMDE_FLOAT64_C(  309.91), SIMDE_FLOAT64_C(  846.15),
                         SIMDE_FLOAT64_C( -514.56), SIMDE_FLOAT64_C( -736.92)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  283.06), SIMDE_FLOAT64_C( -333.94),
                         SIMDE_FLOAT64_C(  903.50), SIMDE_FLOAT64_C( -736.92),
                         SIMDE_FLOAT64_C(  309.91), SIMDE_FLOAT64_C(  846.15),
                         SIMDE_FLOAT64_C( -514.56), SIMDE_FLOAT64_C( -149.02)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(   29.68), SIMDE_FLOAT64_C( -490.28),
                         SIMDE_FLOAT64_C( -373.66), SIMDE_FLOAT64_C(  526.21),
                         SIMDE_FLOAT64_C( -925.69), SIMDE_FLOAT64_C(  -80.71),
                         SIMDE_FLOAT64_C(  717.83), SIMDE_FLOAT64_C(   39.32)),
      UINT8_C( 43),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -489.88), SIMDE_FLOAT64_C(  -37.49),
                         SIMDE_FLOAT64_C( -373.66), SIMDE_FLOAT64_C( -292.35),
                         SIMDE_FLOAT64_C( -835.53), SIMDE_FLOAT64_C(  571.79),
                         SIMDE_FLOAT64_C(  675.92), SIMDE_FLOAT64_C(  490.41)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -925.69), SIMDE_FLOAT64_C( -744.41),
                         SIMDE_FLOAT64_C(  717.83), SIMDE_FLOAT64_C(   39.32)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(   29.68), SIMDE_FLOAT64_C( -490.28),
                         SIMDE_FLOAT64_C( -373.66), SIMDE_FLOAT64_C(  526.21),
                         SIMDE_FLOAT64_C( -925.69), SIMDE_FLOAT64_C(  -80.71),
                         SIMDE_FLOAT64_C(  717.83), SIMDE_FLOAT64_C(   39.32)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(   29.68), SIMDE_FLOAT64_C( -490.28),
                         SIMDE_FLOAT64_C(  717.83), SIMDE_FLOAT64_C(  526.21),
                         SIMDE_FLOAT64_C( -835.53), SIMDE_FLOAT64_C(  -80.71),
                         SIMDE_FLOAT64_C(  675.92), SIMDE_FLOAT64_C(  490.41)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C( -617.12), SIMDE_FLOAT64_C(  213.24),
                         SIMDE_FLOAT64_C( -577.36), SIMDE_FLOAT64_C(  957.37),
                         SIMDE_FLOAT64_C(  846.67), SIMDE_FLOAT64_C(  403.00),
                         SIMDE_FLOAT64_C( -198.67), SIMDE_FLOAT64_C(  447.98)),
      UINT8_C(120),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  149.72), SIMDE_FLOAT64_C(  213.24),
                         SIMDE_FLOAT64_C( -577.36), SIMDE_FLOAT64_C(  957.37),
                         SIMDE_FLOAT64_C( -934.92), SIMDE_FLOAT64_C( -657.02),
                         SIMDE_FLOAT64_C( -629.37), SIMDE_FLOAT64_C(  337.35)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  846.67), SIMDE_FLOAT64_C(  586.29),
                         SIMDE_FLOAT64_C(  670.52), SIMDE_FLOAT64_C( -760.88)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -617.12), SIMDE_FLOAT64_C(  213.24),
                         SIMDE_FLOAT64_C( -577.36), SIMDE_FLOAT64_C(  957.37),
                         SIMDE_FLOAT64_C(  846.67), SIMDE_FLOAT64_C(  403.00),
                         SIMDE_FLOAT64_C( -198.67), SIMDE_FLOAT64_C(  447.98)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -617.12), SIMDE_FLOAT64_C(  586.29),
                         SIMDE_FLOAT64_C(  670.52), SIMDE_FLOAT64_C( -760.88),
                         SIMDE_FLOAT64_C( -934.92), SIMDE_FLOAT64_C(  403.00),
                         SIMDE_FLOAT64_C( -198.67), SIMDE_FLOAT64_C(  447.98)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  268.99), SIMDE_FLOAT64_C( -207.87),
                         SIMDE_FLOAT64_C( -765.42), SIMDE_FLOAT64_C(  138.83),
                         SIMDE_FLOAT64_C( -413.85), SIMDE_FLOAT64_C(  241.45),
                         SIMDE_FLOAT64_C(  609.29), SIMDE_FLOAT64_C( -432.13)),
      UINT8_C(245),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  268.99), SIMDE_FLOAT64_C( -207.87),
                         SIMDE_FLOAT64_C( -765.42), SIMDE_FLOAT64_C(  138.83),
                         SIMDE_FLOAT64_C(  699.07), SIMDE_FLOAT64_C( -143.73),
                         SIMDE_FLOAT64_C(  709.96), SIMDE_FLOAT64_C( -767.34)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -820.22), SIMDE_FLOAT64_C(  241.45),
                         SIMDE_FLOAT64_C( -959.11), SIMDE_FLOAT64_C( -432.13)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  268.99), SIMDE_FLOAT64_C( -207.87),
                         SIMDE_FLOAT64_C( -765.42), SIMDE_FLOAT64_C(  138.83),
                         SIMDE_FLOAT64_C( -413.85), SIMDE_FLOAT64_C(  241.45),
                         SIMDE_FLOAT64_C(  609.29), SIMDE_FLOAT64_C( -432.13)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -820.22), SIMDE_FLOAT64_C(  241.45),
                         SIMDE_FLOAT64_C( -959.11), SIMDE_FLOAT64_C( -432.13),
                         SIMDE_FLOAT64_C( -413.85), SIMDE_FLOAT64_C( -143.73),
                         SIMDE_FLOAT64_C(  609.29), SIMDE_FLOAT64_C( -767.34)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C(  487.08), SIMDE_FLOAT64_C(  -68.16),
                         SIMDE_FLOAT64_C( -289.23), SIMDE_FLOAT64_C(  918.52),
                         SIMDE_FLOAT64_C( -422.76), SIMDE_FLOAT64_C(  518.12),
                         SIMDE_FLOAT64_C(  952.47), SIMDE_FLOAT64_C( -173.80)),
      UINT8_C( 71),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -492.61), SIMDE_FLOAT64_C(  -68.16),
                         SIMDE_FLOAT64_C(  717.69), SIMDE_FLOAT64_C( -663.74),
                         SIMDE_FLOAT64_C(  179.29), SIMDE_FLOAT64_C(  989.70),
                         SIMDE_FLOAT64_C( -695.21), SIMDE_FLOAT64_C( -786.23)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -619.50), SIMDE_FLOAT64_C(  518.12),
                         SIMDE_FLOAT64_C(  952.47), SIMDE_FLOAT64_C( -173.80)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  487.08), SIMDE_FLOAT64_C(  -68.16),
                         SIMDE_FLOAT64_C( -289.23), SIMDE_FLOAT64_C(  918.52),
                         SIMDE_FLOAT64_C( -422.76), SIMDE_FLOAT64_C(  518.12),
                         SIMDE_FLOAT64_C(  952.47), SIMDE_FLOAT64_C( -173.80)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  487.08), SIMDE_FLOAT64_C(  518.12),
                         SIMDE_FLOAT64_C( -289.23), SIMDE_FLOAT64_C(  918.52),
                         SIMDE_FLOAT64_C( -422.76), SIMDE_FLOAT64_C(  989.70),
                         SIMDE_FLOAT64_C( -695.21), SIMDE_FLOAT64_C( -786.23)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C( -656.10), SIMDE_FLOAT64_C( -789.54),
                         SIMDE_FLOAT64_C( -790.16), SIMDE_FLOAT64_C(  -30.05),
                         SIMDE_FLOAT64_C(  994.61), SIMDE_FLOAT64_C(   50.50),
                         SIMDE_FLOAT64_C(  493.30), SIMDE_FLOAT64_C(  831.29)),
      UINT8_C( 20),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -211.91), SIMDE_FLOAT64_C( -925.76),
                         SIMDE_FLOAT64_C( -915.62), SIMDE_FLOAT64_C(  -30.05),
                         SIMDE_FLOAT64_C(  -70.79), SIMDE_FLOAT64_C(  493.65),
                         SIMDE_FLOAT64_C(   52.79), SIMDE_FLOAT64_C(  835.54)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  380.83), SIMDE_FLOAT64_C(   50.50),
                         SIMDE_FLOAT64_C( -236.67), SIMDE_FLOAT64_C( -282.31)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -656.10), SIMDE_FLOAT64_C( -789.54),
                         SIMDE_FLOAT64_C( -790.16), SIMDE_FLOAT64_C(  -30.05),
                         SIMDE_FLOAT64_C(  994.61), SIMDE_FLOAT64_C(   50.50),
                         SIMDE_FLOAT64_C(  493.30), SIMDE_FLOAT64_C(  831.29)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -656.10), SIMDE_FLOAT64_C( -789.54),
                         SIMDE_FLOAT64_C( -790.16), SIMDE_FLOAT64_C( -282.31),
                         SIMDE_FLOAT64_C(  994.61), SIMDE_FLOAT64_C(  493.65),
                         SIMDE_FLOAT64_C(  493.30), SIMDE_FLOAT64_C(  831.29)) },
    { simde_mm512_set_pd(SIMDE_FLOAT64_C( -643.43), SIMDE_FLOAT64_C( -331.34),
                         SIMDE_FLOAT64_C(   22.93), SIMDE_FLOAT64_C( -395.13),
                         SIMDE_FLOAT64_C(  639.68), SIMDE_FLOAT64_C(    2.55),
                         SIMDE_FLOAT64_C( -949.73), SIMDE_FLOAT64_C( -388.47)),
      UINT8_C( 61),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -102.18), SIMDE_FLOAT64_C(  960.00),
                         SIMDE_FLOAT64_C(   22.93), SIMDE_FLOAT64_C( -395.13),
                         SIMDE_FLOAT64_C(  145.63), SIMDE_FLOAT64_C( -149.04),
                         SIMDE_FLOAT64_C(  214.37), SIMDE_FLOAT64_C( -453.25)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  639.68), SIMDE_FLOAT64_C(    2.55),
                         SIMDE_FLOAT64_C( -783.00), SIMDE_FLOAT64_C( -388.47)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -643.43), SIMDE_FLOAT64_C( -331.34),
                         SIMDE_FLOAT64_C(   22.93), SIMDE_FLOAT64_C( -395.13),
                         SIMDE_FLOAT64_C(  639.68), SIMDE_FLOAT64_C(    2.55),
                         SIMDE_FLOAT64_C( -949.73), SIMDE_FLOAT64_C( -388.47)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -643.43), SIMDE_FLOAT64_C( -331.34),
                         SIMDE_FLOAT64_C( -783.00), SIMDE_FLOAT64_C( -388.47),
                         SIMDE_FLOAT64_C(  145.63), SIMDE_FLOAT64_C( -149.04),
                         SIMDE_FLOAT64_C( -949.73), SIMDE_FLOAT64_C( -453.25)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512d r;
    r = simde_mm512_mask_insertf64x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512d_close(r, test_vec[i].r0, 1);
    r = simde_mm512_mask_insertf64x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512d_close(r, test_vec[i].r1, 1);
  }

  return 0;
}

static int
test_simde_mm512_maskz_insertf64x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__mmask8 k;
    simde__m512d a;
    simde__m256d b;
    simde__m512d r0;
    simde__m512d r1;
  } test_vec[8] = {
    { UINT8_C( 32),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -139.11), SIMDE_FLOAT64_C( -172.36),
                         SIMDE_FLOAT64_C( -268.86), SIMDE_FLOAT64_C(  393.53),
                         SIMDE_FLOAT64_C(  -71.72), SIMDE_FLOAT64_C(   36.69),
                         SIMDE_FLOAT64_C(   98.47), SIMDE_FLOAT64_C( -135.52)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  600.12), SIMDE_FLOAT64_C( -569.99),
                         SIMDE_FLOAT64_C( -491.12), SIMDE_FLOAT64_C( -327.63)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C( -268.86), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C( -491.12), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)) },
    { UINT8_C(109),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  240.79), SIMDE_FLOAT64_C( -280.30),
                         SIMDE_FLOAT64_C( -839.80), SIMDE_FLOAT64_C(  128.51),
                         SIMDE_FLOAT64_C( -556.90), SIMDE_FLOAT64_C(  522.06),
                         SIMDE_FLOAT64_C(  160.98), SIMDE_FLOAT64_C( -932.28)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(   69.04), SIMDE_FLOAT64_C( -514.56),
                         SIMDE_FLOAT64_C( -149.02), SIMDE_FLOAT64_C( -860.98)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -280.30),
                         SIMDE_FLOAT64_C( -839.80), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(   69.04), SIMDE_FLOAT64_C( -514.56),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -860.98)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -514.56),
                         SIMDE_FLOAT64_C( -149.02), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C( -556.90), SIMDE_FLOAT64_C(  522.06),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -932.28)) },
    { UINT8_C( 64),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -333.94), SIMDE_FLOAT64_C(  483.08),
                         SIMDE_FLOAT64_C(  903.50), SIMDE_FLOAT64_C(  232.04),
                         SIMDE_FLOAT64_C(  -43.35), SIMDE_FLOAT64_C(  774.81),
                         SIMDE_FLOAT64_C(  309.91), SIMDE_FLOAT64_C( -599.01)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -736.92), SIMDE_FLOAT64_C( -921.00),
                         SIMDE_FLOAT64_C(  283.06), SIMDE_FLOAT64_C( -471.60)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(  483.08),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -921.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)) },
    { UINT8_C(  7),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  -80.71), SIMDE_FLOAT64_C(  675.92),
                         SIMDE_FLOAT64_C(  632.01), SIMDE_FLOAT64_C(  490.41),
                         SIMDE_FLOAT64_C(  456.89), SIMDE_FLOAT64_C(   47.59),
                         SIMDE_FLOAT64_C(   51.33), SIMDE_FLOAT64_C( -895.71)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  526.21), SIMDE_FLOAT64_C( -835.53),
                         SIMDE_FLOAT64_C( -203.04), SIMDE_FLOAT64_C(  571.79)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -835.53),
                         SIMDE_FLOAT64_C( -203.04), SIMDE_FLOAT64_C(  571.79)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(   47.59),
                         SIMDE_FLOAT64_C(   51.33), SIMDE_FLOAT64_C( -895.71)) },
    { UINT8_C(100),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  717.83), SIMDE_FLOAT64_C(   39.32),
                         SIMDE_FLOAT64_C( -489.88), SIMDE_FLOAT64_C(   29.68),
                         SIMDE_FLOAT64_C(  -37.49), SIMDE_FLOAT64_C( -490.28),
                         SIMDE_FLOAT64_C( -373.66), SIMDE_FLOAT64_C(  841.53)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  447.98), SIMDE_FLOAT64_C( -278.32),
                         SIMDE_FLOAT64_C( -925.69), SIMDE_FLOAT64_C( -744.41)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(   39.32),
                         SIMDE_FLOAT64_C( -489.88), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -278.32),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -278.32),
                         SIMDE_FLOAT64_C( -925.69), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -490.28),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)) },
    { UINT8_C( 84),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  957.37), SIMDE_FLOAT64_C( -359.60),
                         SIMDE_FLOAT64_C( -934.92), SIMDE_FLOAT64_C( -213.75),
                         SIMDE_FLOAT64_C( -657.02), SIMDE_FLOAT64_C(  403.00),
                         SIMDE_FLOAT64_C( -629.37), SIMDE_FLOAT64_C( -198.67)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  213.24), SIMDE_FLOAT64_C( -751.58),
                         SIMDE_FLOAT64_C( -577.36), SIMDE_FLOAT64_C(  907.23)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -359.60),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -213.75),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -751.58),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C( -751.58),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(  907.23),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(  403.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00)) },
    { UINT8_C( 14),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -767.34), SIMDE_FLOAT64_C(  878.85),
                         SIMDE_FLOAT64_C( -588.28), SIMDE_FLOAT64_C(  846.67),
                         SIMDE_FLOAT64_C(  586.29), SIMDE_FLOAT64_C(  670.52),
                         SIMDE_FLOAT64_C( -760.88), SIMDE_FLOAT64_C(  149.72)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C( -143.73), SIMDE_FLOAT64_C(  752.26),
                         SIMDE_FLOAT64_C(  709.96), SIMDE_FLOAT64_C(  609.29)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C( -143.73), SIMDE_FLOAT64_C(  752.26),
                         SIMDE_FLOAT64_C(  709.96), SIMDE_FLOAT64_C(    0.00)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(  586.29), SIMDE_FLOAT64_C(  670.52),
                         SIMDE_FLOAT64_C( -760.88), SIMDE_FLOAT64_C(    0.00)) },
    { UINT8_C(237),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -842.15), SIMDE_FLOAT64_C( -207.87),
                         SIMDE_FLOAT64_C(  908.84), SIMDE_FLOAT64_C( -765.42),
                         SIMDE_FLOAT64_C( -315.78), SIMDE_FLOAT64_C(  138.83),
                         SIMDE_FLOAT64_C(  -86.06), SIMDE_FLOAT64_C(  699.07)),
      simde_mm256_set_pd(SIMDE_FLOAT64_C(  241.45), SIMDE_FLOAT64_C( -959.11),
                         SIMDE_FLOAT64_C( -432.13), SIMDE_FLOAT64_C(  268.99)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C( -842.15), SIMDE_FLOAT64_C( -207.87),
                         SIMDE_FLOAT64_C(  908.84), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C(  241.45), SIMDE_FLOAT64_C( -959.11),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(  268.99)),
      simde_mm512_set_pd(SIMDE_FLOAT64_C(  241.45), SIMDE_FLOAT64_C( -959.11),
                         SIMDE_FLOAT64_C( -432.13), SIMDE_FLOAT64_C(    0.00),
                         SIMDE_FLOAT64_C( -315.78), SIMDE_FLOAT64_C(  138.83),
                         SIMDE_FLOAT64_C(    0.00), SIMDE_FLOAT64_C(  699.07)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512d r;
    r = simde_mm512_maskz_insertf64x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512d_close(r, test_vec[i].r0, 1);
    r = simde_mm512_maskz_insertf64x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512d_close(r, test_vec[i].r1, 1);
  }

  return 0;
}

static int
test_simde_mm512_inserti32x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512i a;
    simde__m128i b;
    simde__m512i r0;
    simde__m512i r1;
    simde__m512i r2;
    simde__m512i r3;
  } test_vec[8] = {
    { simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C(-1801776439), INT32_C(  145438126), INT32_C(-1306064352),
                            INT32_C( -858736392), INT32_C(  923442479), INT32_C( 1092805562), INT32_C( 1443901717),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1570116932), INT32_C(-1302383354),
                            INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201), INT32_C( 1856459607)),
      simde_mm_set_epi32(INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754), INT32_C(  951544639)),
      simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C(-1801776439), INT32_C(  145438126), INT32_C(-1306064352),
                            INT32_C( -858736392), INT32_C(  923442479), INT32_C( 1092805562), INT32_C( 1443901717),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1570116932), INT32_C(-1302383354),
                            INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754), INT32_C(  951544639)),
      simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C(-1801776439), INT32_C(  145438126), INT32_C(-1306064352),
                            INT32_C( -858736392), INT32_C(  923442479), INT32_C( 1092805562), INT32_C( 1443901717),
                            INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754), INT32_C(  951544639),
                            INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201), INT32_C( 1856459607)),
      simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C(-1801776439), INT32_C(  145438126), INT32_C(-1306064352),
                            INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754), INT32_C(  951544639),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1570116932), INT32_C(-1302383354),
                            INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201), INT32_C( 1856459607)),
      simde_mm512_set_epi32(INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754), INT32_C(  951544639),
                            INT32_C( -858736392), INT32_C(  923442479), INT32_C( 1092805562), INT32_C( 1443901717),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1570116932), INT32_C(-1302383354),
                            INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201), INT32_C( 1856459607)) },
    { simde_mm512_set_epi32(INT32_C(-1539616610), INT32_C( 1134735685), INT32_C( 1430356381), INT32_C(-1110068455),
                            INT32_C( -207240031), INT32_C(-1649179267), INT32_C( 2054398444), INT32_C( -483586503),
                            INT32_C(-1481960002), INT32_C(  861125508), INT32_C( -330381203), INT32_C(-1999224530),
                            INT32_C( 1042470181), INT32_C( 1827473477), INT32_C(  298546792), INT32_C(-1630396605)),
      simde_mm_set_epi32(INT32_C(  223952317), INT32_C(  282198336), INT32_C(  564965997), INT32_C(  169645898)),
      simde_mm512_set_epi32(INT32_C(-1539616610), INT32_C( 1134735685), INT32_C( 1430356381), INT32_C(-1110068455),
                            INT32_C( -207240031), INT32_C(-1649179267), INT32_C( 2054398444), INT32_C( -483586503),
                            INT32_C(-1481960002), INT32_C(  861125508), INT32_C( -330381203), INT32_C(-1999224530),
                            INT32_C(  223952317), INT32_C(  282198336), INT32_C(  564965997), INT32_C(  169645898)),
      simde_mm512_set_epi32(INT32_C(-1539616610), INT32_C( 1134735685), INT32_C( 1430356381), INT32_C(-1110068455),
                            INT32_C( -207240031), INT32_C(-1649179267), INT32_C( 2054398444), INT32_C( -483586503),
                            INT32_C(  223952317), INT32_C(  282198336), INT32_C(  564965997), INT32_C(  169645898),
                            INT32_C( 1042470181), INT32_C( 1827473477), INT32_C(  298546792), INT32_C(-1630396605)),
      simde_mm512_set_epi32(INT32_C(-1539616610), INT32_C( 1134735685), INT32_C( 1430356381), INT32_C(-1110068455),
                            INT32_C(  223952317), INT32_C(  282198336), INT32_C(  564965997), INT32_C(  169645898),
                            INT32_C(-1481960002), INT32_C(  861125508), INT32_C( -330381203), INT32_C(-1999224530),
                            INT32_C( 1042470181), INT32_C( 1827473477), INT32_C(  298546792), INT32_C(-1630396605)),
      simde_mm512_set_epi32(INT32_C(  223952317), INT32_C(  282198336), INT32_C(  564965997), INT32_C(  169645898),
                            INT32_C( -207240031), INT32_C(-1649179267), INT32_C( 2054398444), INT32_C( -483586503),
                            INT32_C(-1481960002), INT32_C(  861125508), INT32_C( -330381203), INT32_C(-1999224530),
                            INT32_C( 1042470181), INT32_C( 1827473477), INT32_C(  298546792), INT32_C(-1630396605)) },
    { simde_mm512_set_epi32(INT32_C( 2066979701), INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359),
                            INT32_C( 1519671047), INT32_C(-1017461983), INT32_C(  353198331), INT32_C( 1711460779),
                            INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043), INT32_C( -790242624),
                            INT32_C(-1094331335), INT32_C(-1166320093), INT32_C(-2045280751), INT32_C(-2037261521)),
      simde_mm_set_epi32(INT32_C( -605945909), INT32_C(-2063050181), INT32_C( 1095467003), INT32_C(-2083755741)),
      simde_mm512_set_epi32(INT32_C( 2066979701), INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359),
                            INT32_C( 1519671047), INT32_C(-1017461983), INT32_C(  353198331), INT32_C( 1711460779),
                            INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043), INT32_C( -790242624),
                            INT32_C( -605945909), INT32_C(-2063050181), INT32_C( 1095467003), INT32_C(-2083755741)),
      simde_mm512_set_epi32(INT32_C( 2066979701), INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359),
                            INT32_C( 1519671047), INT32_C(-1017461983), INT32_C(  353198331), INT32_C( 1711460779),
                            INT32_C( -605945909), INT32_C(-2063050181), INT32_C( 1095467003), INT32_C(-2083755741),
                            INT32_C(-1094331335), INT32_C(-1166320093), INT32_C(-2045280751), INT32_C(-2037261521)),
      simde_mm512_set_epi32(INT32_C( 2066979701), INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359),
                            INT32_C( -605945909), INT32_C(-2063050181), INT32_C( 1095467003), INT32_C(-2083755741),
                            INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043), INT32_C( -790242624),
                            INT32_C(-1094331335), INT32_C(-1166320093), INT32_C(-2045280751), INT32_C(-2037261521)),
      simde_mm512_set_epi32(INT32_C( -605945909), INT32_C(-2063050181), INT32_C( 1095467003), INT32_C(-2083755741),
                            INT32_C( 1519671047), INT32_C(-1017461983), INT32_C(  353198331), INT32_C( 1711460779),
                            INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043), INT32_C( -790242624),
                            INT32_C(-1094331335), INT32_C(-1166320093), INT32_C(-2045280751), INT32_C(-2037261521)) },
    { simde_mm512_set_epi32(INT32_C(  533478787), INT32_C(  907615417), INT32_C( -199229058), INT32_C(  -91537812),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C( 1688468565), INT32_C(  736544549),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C( 1720852541), INT32_C(-1423023772),
                            INT32_C(-1185448755), INT32_C( 1549802795), INT32_C(  159583350), INT32_C(  548883180)),
      simde_mm_set_epi32(INT32_C(  513515868), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027)),
      simde_mm512_set_epi32(INT32_C(  533478787), INT32_C(  907615417), INT32_C( -199229058), INT32_C(  -91537812),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C( 1688468565), INT32_C(  736544549),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C( 1720852541), INT32_C(-1423023772),
                            INT32_C(  513515868), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027)),
      simde_mm512_set_epi32(INT32_C(  533478787), INT32_C(  907615417), INT32_C( -199229058), INT32_C(  -91537812),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C( 1688468565), INT32_C(  736544549),
                            INT32_C(  513515868), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027),
                            INT32_C(-1185448755), INT32_C( 1549802795), INT32_C(  159583350), INT32_C(  548883180)),
      simde_mm512_set_epi32(INT32_C(  533478787), INT32_C(  907615417), INT32_C( -199229058), INT32_C(  -91537812),
                            INT32_C(  513515868), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C( 1720852541), INT32_C(-1423023772),
                            INT32_C(-1185448755), INT32_C( 1549802795), INT32_C(  159583350), INT32_C(  548883180)),
      simde_mm512_set_epi32(INT32_C(  513515868), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C( 1688468565), INT32_C(  736544549),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C( 1720852541), INT32_C(-1423023772),
                            INT32_C(-1185448755), INT32_C( 1549802795), INT32_C(  159583350), INT32_C(  548883180)) },
    { simde_mm512_set_epi32(INT32_C(  503748315), INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621),
                            INT32_C( -646247370), INT32_C( 1258747662), INT32_C( 1838830023), INT32_C( -532007659),
                            INT32_C( -622852205), INT32_C( -839037220), INT32_C(  499633910), INT32_C( -260167255),
                            INT32_C(  884163960), INT32_C( -329275629), INT32_C( -888441293), INT32_C( -707551350)),
      simde_mm_set_epi32(INT32_C(-1569831145), INT32_C(  338985942), INT32_C( 1701079465), INT32_C( -195770682)),
      simde_mm512_set_epi32(INT32_C(  503748315), INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621),
                            INT32_C( -646247370), INT32_C( 1258747662), INT32_C( 1838830023), INT32_C( -532007659),
                            INT32_C( -622852205), INT32_C( -839037220), INT32_C(  499633910), INT32_C( -260167255),
                            INT32_C(-1569831145), INT32_C(  338985942), INT32_C( 1701079465), INT32_C( -195770682)),
      simde_mm512_set_epi32(INT32_C(  503748315), INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621),
                            INT32_C( -646247370), INT32_C( 1258747662), INT32_C( 1838830023), INT32_C( -532007659),
                            INT32_C(-1569831145), INT32_C(  338985942), INT32_C( 1701079465), INT32_C( -195770682),
                            INT32_C(  884163960), INT32_C( -329275629), INT32_C( -888441293), INT32_C( -707551350)),
      simde_mm512_set_epi32(INT32_C(  503748315), INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621),
                            INT32_C(-1569831145), INT32_C(  338985942), INT32_C( 1701079465), INT32_C( -195770682),
                            INT32_C( -622852205), INT32_C( -839037220), INT32_C(  499633910), INT32_C( -260167255),
                            INT32_C(  884163960), INT32_C( -329275629), INT32_C( -888441293), INT32_C( -707551350)),
      simde_mm512_set_epi32(INT32_C(-1569831145), INT32_C(  338985942), INT32_C( 1701079465), INT32_C( -195770682),
                            INT32_C( -646247370), INT32_C( 1258747662), INT32_C( 1838830023), INT32_C( -532007659),
                            INT32_C( -622852205), INT32_C( -839037220), INT32_C(  499633910), INT32_C( -260167255),
                            INT32_C(  884163960), INT32_C( -329275629), INT32_C( -888441293), INT32_C( -707551350)) },
    { simde_mm512_set_epi32(INT32_C( 1526367108), INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023),
                            INT32_C( 1239606494), INT32_C(  -22119232), INT32_C( 1216907749), INT32_C(  654527510),
                            INT32_C(-2043358500), INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075),
                            INT32_C(  386072301), INT32_C(-1628984154), INT32_C(   87817524), INT32_C( 1219490517)),
      simde_mm_set_epi32(INT32_C(-1101477862), INT32_C( 2001101785), INT32_C(-1759250988), INT32_C( -606254738)),
      simde_mm512_set_epi32(INT32_C( 1526367108), INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023),
                            INT32_C( 1239606494), INT32_C(  -22119232), INT32_C( 1216907749), INT32_C(  654527510),
                            INT32_C(-2043358500), INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075),
                            INT32_C(-1101477862), INT32_C( 2001101785), INT32_C(-1759250988), INT32_C( -606254738)),
      simde_mm512_set_epi32(INT32_C( 1526367108), INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023),
                            INT32_C( 1239606494), INT32_C(  -22119232), INT32_C( 1216907749), INT32_C(  654527510),
                            INT32_C(-1101477862), INT32_C( 2001101785), INT32_C(-1759250988), INT32_C( -606254738),
                            INT32_C(  386072301), INT32_C(-1628984154), INT32_C(   87817524), INT32_C( 1219490517)),
      simde_mm512_set_epi32(INT32_C( 1526367108), INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023),
                            INT32_C(-1101477862), INT32_C( 2001101785), INT32_C(-1759250988), INT32_C( -606254738),
                            INT32_C(-2043358500), INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075),
                            INT32_C(  386072301), INT32_C(-1628984154), INT32_C(   87817524), INT32_C( 1219490517)),
      simde_mm512_set_epi32(INT32_C(-1101477862), INT32_C( 2001101785), INT32_C(-1759250988), INT32_C( -606254738),
                            INT32_C( 1239606494), INT32_C(  -22119232), INT32_C( 1216907749), INT32_C(  654527510),
                            INT32_C(-2043358500), INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075),
                            INT32_C(  386072301), INT32_C(-1628984154), INT32_C(   87817524), INT32_C( 1219490517)) },
    { simde_mm512_set_epi32(INT32_C( 2082954477), INT32_C( 1254960767), INT32_C( 1995459397), INT32_C(  -11572946),
                            INT32_C(-1087388220), INT32_C(  730787370), INT32_C(-2034110695), INT32_C(-1088138491),
                            INT32_C( -353174912), INT32_C( -362301616), INT32_C(  617951303), INT32_C(  817116152),
                            INT32_C(-1034835761), INT32_C( -102069057), INT32_C( 1774242298), INT32_C( 1089620040)),
      simde_mm_set_epi32(INT32_C(  159429100), INT32_C(  451955897), INT32_C(  181201098), INT32_C(  450627934)),
      simde_mm512_set_epi32(INT32_C( 2082954477), INT32_C( 1254960767), INT32_C( 1995459397), INT32_C(  -11572946),
                            INT32_C(-1087388220), INT32_C(  730787370), INT32_C(-2034110695), INT32_C(-1088138491),
                            INT32_C( -353174912), INT32_C( -362301616), INT32_C(  617951303), INT32_C(  817116152),
                            INT32_C(  159429100), INT32_C(  451955897), INT32_C(  181201098), INT32_C(  450627934)),
      simde_mm512_set_epi32(INT32_C( 2082954477), INT32_C( 1254960767), INT32_C( 1995459397), INT32_C(  -11572946),
                            INT32_C(-1087388220), INT32_C(  730787370), INT32_C(-2034110695), INT32_C(-1088138491),
                            INT32_C(  159429100), INT32_C(  451955897), INT32_C(  181201098), INT32_C(  450627934),
                            INT32_C(-1034835761), INT32_C( -102069057), INT32_C( 1774242298), INT32_C( 1089620040)),
      simde_mm512_set_epi32(INT32_C( 2082954477), INT32_C( 1254960767), INT32_C( 1995459397), INT32_C(  -11572946),
                            INT32_C(  159429100), INT32_C(  451955897), INT32_C(  181201098), INT32_C(  450627934),
                            INT32_C( -353174912), INT32_C( -362301616), INT32_C(  617951303), INT32_C(  817116152),
                            INT32_C(-1034835761), INT32_C( -102069057), INT32_C( 1774242298), INT32_C( 1089620040)),
      simde_mm512_set_epi32(INT32_C(  159429100), INT32_C(  451955897), INT32_C(  181201098), INT32_C(  450627934),
                            INT32_C(-1087388220), INT32_C(  730787370), INT32_C(-2034110695), INT32_C(-1088138491),
                            INT32_C( -353174912), INT32_C( -362301616), INT32_C(  617951303), INT32_C(  817116152),
                            INT32_C(-1034835761), INT32_C( -102069057), INT32_C( 1774242298), INT32_C( 1089620040)) },
    { simde_mm512_set_epi32(INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C(-1010527612), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677),
                            INT32_C(-1544325740), INT32_C(  204417556), INT32_C(-1329665093), INT32_C(-2039025377),
                            INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275)),
      simde_mm_set_epi32(INT32_C( 1435935141), INT32_C(-2098236580), INT32_C(-1991433794), INT32_C( 1298943776)),
      simde_mm512_set_epi32(INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C(-1010527612), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677),
                            INT32_C(-1544325740), INT32_C(  204417556), INT32_C(-1329665093), INT32_C(-2039025377),
                            INT32_C( 1435935141), INT32_C(-2098236580), INT32_C(-1991433794), INT32_C( 1298943776)),
      simde_mm512_set_epi32(INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C(-1010527612), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677),
                            INT32_C( 1435935141), INT32_C(-2098236580), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275)),
      simde_mm512_set_epi32(INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C( 1435935141), INT32_C(-2098236580), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(-1544325740), INT32_C(  204417556), INT32_C(-1329665093), INT32_C(-2039025377),
                            INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275)),
      simde_mm512_set_epi32(INT32_C( 1435935141), INT32_C(-2098236580), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(-1010527612), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677),
                            INT32_C(-1544325740), INT32_C(  204417556), INT32_C(-1329665093), INT32_C(-2039025377),
                            INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512i r;
    r = simde_mm512_inserti32x4(test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512i_i32(r, ==, test_vec[i].r0);
    r = simde_mm512_inserti32x4(test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512i_i32(r, ==, test_vec[i].r1);
    r = simde_mm512_inserti32x4(test_vec[i].a, test_vec[i].b, 2);
    simde_assert_m512i_i32(r, ==, test_vec[i].r2);
    r = simde_mm512_inserti32x4(test_vec[i].a, test_vec[i].b, 3);
    simde_assert_m512i_i32(r, ==, test_vec[i].r3);
  }

  return 0;
}

static int
test_simde_mm512_mask_inserti32x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512i src;
    simde__mmask16 k;
    simde__m512i a;
    simde__m128i b;
    simde__m512i r0;
    simde__m512i r1;
    simde__m512i r2;
    simde__m512i r3;
  } test_vec[8] = {
    { simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C(-1801776439), INT32_C(  145438126), INT32_C(-1306064352),
                            INT32_C( -858736392), INT32_C(  923442479), INT32_C( 1092805562), INT32_C( 1443901717),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1570116932), INT32_C(-1302383354),
                            INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201), INT32_C( 1856459607)),
      UINT16_C(27455),
      simde_mm512_set_epi32(INT32_C(-1110068455), INT32_C( -207240031), INT32_C(-1649179267), INT32_C( 2054398444),
                            INT32_C( -483586503), INT32_C(-1481960002), INT32_C(  861125508), INT32_C( -330381203),
                            INT32_C(-1999224530), INT32_C( 1042470181), INT32_C( 1827473477), INT32_C(  298546792),
                            INT32_C(-1630396605), INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754)),
      simde_mm_set_epi32(INT32_C(  169645898), INT32_C(-1539616610), INT32_C( 1134735685), INT32_C( 1430356381)),
      simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C( -207240031), INT32_C(-1649179267), INT32_C(-1306064352),
                            INT32_C( -483586503), INT32_C(  923442479), INT32_C(  861125508), INT32_C( -330381203),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1827473477), INT32_C(  298546792),
                            INT32_C(  169645898), INT32_C(-1539616610), INT32_C( 1134735685), INT32_C( 1430356381)),
      simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C( -207240031), INT32_C(-1649179267), INT32_C(-1306064352),
                            INT32_C( -483586503), INT32_C(  923442479), INT32_C(  861125508), INT32_C( -330381203),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1134735685), INT32_C( 1430356381),
                            INT32_C(-1630396605), INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754)),
      simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C( -207240031), INT32_C(-1649179267), INT32_C(-1306064352),
                            INT32_C(  169645898), INT32_C(  923442479), INT32_C( 1134735685), INT32_C( 1430356381),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1827473477), INT32_C(  298546792),
                            INT32_C(-1630396605), INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754)),
      simde_mm512_set_epi32(INT32_C(-1026363374), INT32_C(-1539616610), INT32_C( 1134735685), INT32_C(-1306064352),
                            INT32_C( -483586503), INT32_C(  923442479), INT32_C(  861125508), INT32_C( -330381203),
                            INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1827473477), INT32_C(  298546792),
                            INT32_C(-1630396605), INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754)) },
    { simde_mm512_set_epi32(INT32_C( -340318359), INT32_C( 1519671047), INT32_C(-1017461983), INT32_C(  353198331),
                            INT32_C( 1711460779), INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043),
                            INT32_C( -790242624), INT32_C(-1094331335), INT32_C(-1166320093), INT32_C(-2045280751),
                            INT32_C(-2037261521), INT32_C(  223952317), INT32_C(  282198336), INT32_C(  564965997)),
      UINT16_C(63697),
      simde_mm512_set_epi32(INT32_C( 1688468565), INT32_C(  736544549), INT32_C(-1282057552), INT32_C(  795925067),
                            INT32_C( 1720852541), INT32_C(-1423023772), INT32_C(-1185448755), INT32_C( 1549802795),
                            INT32_C(  159583350), INT32_C(  548883180), INT32_C( -605945909), INT32_C(-2063050181),
                            INT32_C( 1095467003), INT32_C(-2083755741), INT32_C( 2066979701), INT32_C( 1094609712)),
      simde_mm_set_epi32(INT32_C( -199229058), INT32_C(  -91537812), INT32_C( 1375258232), INT32_C(  139748399)),
      simde_mm512_set_epi32(INT32_C( 1688468565), INT32_C(  736544549), INT32_C(-1282057552), INT32_C(  795925067),
                            INT32_C( 1720852541), INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043),
                            INT32_C(  159583350), INT32_C(  548883180), INT32_C(-1166320093), INT32_C(-2063050181),
                            INT32_C(-2037261521), INT32_C(  223952317), INT32_C(  282198336), INT32_C(  139748399)),
      simde_mm512_set_epi32(INT32_C( 1688468565), INT32_C(  736544549), INT32_C(-1282057552), INT32_C(  795925067),
                            INT32_C( 1720852541), INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043),
                            INT32_C( -199229058), INT32_C(  -91537812), INT32_C(-1166320093), INT32_C(  139748399),
                            INT32_C(-2037261521), INT32_C(  223952317), INT32_C(  282198336), INT32_C( 1094609712)),
      simde_mm512_set_epi32(INT32_C( 1688468565), INT32_C(  736544549), INT32_C(-1282057552), INT32_C(  795925067),
                            INT32_C( -199229058), INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043),
                            INT32_C(  159583350), INT32_C(  548883180), INT32_C(-1166320093), INT32_C(-2063050181),
                            INT32_C(-2037261521), INT32_C(  223952317), INT32_C(  282198336), INT32_C( 1094609712)),
      simde_mm512_set_epi32(INT32_C( -199229058), INT32_C(  -91537812), INT32_C( 1375258232), INT32_C(  139748399),
                            INT32_C( 1720852541), INT32_C( -919570191), INT32_C( 1974152373), INT32_C( -695949043),
                            INT32_C(  159583350), INT32_C(  548883180), INT32_C(-1166320093), INT32_C(-2063050181),
                            INT32_C(-2037261521), INT32_C(  223952317), INT32_C(  282198336), INT32_C( 1094609712)) },
    { simde_mm512_set_epi32(INT32_C( 1838830023), INT32_C( -532007659), INT32_C( -622852205), INT32_C( -839037220),
                            INT32_C(  499633910), INT32_C( -260167255), INT32_C(  884163960), INT32_C( -329275629),
                            INT32_C( -888441293), INT32_C( -707551350), INT32_C(  513515868), INT32_C(-1825967755),
                            INT32_C(  822222164), INT32_C(-1689559027), INT32_C(  533478787), INT32_C(  907615417)),
      UINT16_C(63246),
      simde_mm512_set_epi32(INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075), INT32_C(  386072301),
                            INT32_C(-1628984154), INT32_C(   87817524), INT32_C( 1219490517), INT32_C(-1569831145),
                            INT32_C(  338985942), INT32_C( 1701079465), INT32_C( -195770682), INT32_C(  503748315),
                            INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621), INT32_C( -646247370)),
      simde_mm_set_epi32(INT32_C(  -22119232), INT32_C( 1216907749), INT32_C(  654527510), INT32_C(-2043358500)),
      simde_mm512_set_epi32(INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075), INT32_C(  386072301),
                            INT32_C(  499633910), INT32_C(   87817524), INT32_C( 1219490517), INT32_C(-1569831145),
                            INT32_C( -888441293), INT32_C( -707551350), INT32_C(  513515868), INT32_C(-1825967755),
                            INT32_C(  -22119232), INT32_C( 1216907749), INT32_C(  654527510), INT32_C(  907615417)),
      simde_mm512_set_epi32(INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075), INT32_C(  386072301),
                            INT32_C(  499633910), INT32_C(   87817524), INT32_C( 1219490517), INT32_C(-1569831145),
                            INT32_C( -888441293), INT32_C( -707551350), INT32_C(  513515868), INT32_C(-1825967755),
                            INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621), INT32_C(  907615417)),
      simde_mm512_set_epi32(INT32_C(  459072440), INT32_C( -430427651), INT32_C( -272088075), INT32_C(  386072301),
                            INT32_C(  499633910), INT32_C( 1216907749), INT32_C(  654527510), INT32_C(-2043358500),
                            INT32_C( -888441293), INT32_C( -707551350), INT32_C(  513515868), INT32_C(-1825967755),
                            INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621), INT32_C(  907615417)),
      simde_mm512_set_epi32(INT32_C(  -22119232), INT32_C( 1216907749), INT32_C(  654527510), INT32_C(-2043358500),
                            INT32_C(  499633910), INT32_C(   87817524), INT32_C( 1219490517), INT32_C(-1569831145),
                            INT32_C( -888441293), INT32_C( -707551350), INT32_C(  513515868), INT32_C(-1825967755),
                            INT32_C( 1469355417), INT32_C(-1849349632), INT32_C( 1962664621), INT32_C(  907615417)) },
    { simde_mm512_set_epi32(INT32_C( -362301616), INT32_C(  617951303), INT32_C(  817116152), INT32_C(-1034835761),
                            INT32_C( -102069057), INT32_C( 1774242298), INT32_C( 1089620040), INT32_C(-1101477862),
                            INT32_C( 2001101785), INT32_C(-1759250988), INT32_C( -606254738), INT32_C( 1526367108),
                            INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494)),
      UINT16_C(64128),
      simde_mm512_set_epi32(INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275),
                            INT32_C(  159429100), INT32_C(  451955897), INT32_C(  181201098), INT32_C(  450627934),
                            INT32_C( 2082954477), INT32_C( 1254960767), INT32_C( 1995459397), INT32_C(  -11572946),
                            INT32_C(-1087388220), INT32_C(  730787370), INT32_C(-2034110695), INT32_C(-1088138491)),
      simde_mm_set_epi32(INT32_C(-1544325740), INT32_C(  204417556), INT32_C(-1329665093), INT32_C(-2039025377)),
      simde_mm512_set_epi32(INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275),
                            INT32_C(  159429100), INT32_C( 1774242298), INT32_C(  181201098), INT32_C(-1101477862),
                            INT32_C( 2082954477), INT32_C(-1759250988), INT32_C( -606254738), INT32_C( 1526367108),
                            INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494)),
      simde_mm512_set_epi32(INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275),
                            INT32_C(  159429100), INT32_C( 1774242298), INT32_C(  181201098), INT32_C(-1101477862),
                            INT32_C(-1544325740), INT32_C(-1759250988), INT32_C( -606254738), INT32_C( 1526367108),
                            INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494)),
      simde_mm512_set_epi32(INT32_C( 1639231015), INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275),
                            INT32_C(-1544325740), INT32_C( 1774242298), INT32_C(-1329665093), INT32_C(-1101477862),
                            INT32_C( 2082954477), INT32_C(-1759250988), INT32_C( -606254738), INT32_C( 1526367108),
                            INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494)),
      simde_mm512_set_epi32(INT32_C(-1544325740), INT32_C(  204417556), INT32_C(-1329665093), INT32_C(-2039025377),
                            INT32_C(  159429100), INT32_C( 1774242298), INT32_C(  181201098), INT32_C(-1101477862),
                            INT32_C( 2082954477), INT32_C(-1759250988), INT32_C( -606254738), INT32_C( 1526367108),
                            INT32_C(  722122834), INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494)) },
    { simde_mm512_set_epi32(INT32_C( 1313258175), INT32_C( 1928049651), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C( 1435935141), INT32_C(-2098236580), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C(-1010527612), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677)),
      UINT16_C(52232),
      simde_mm512_set_epi32(INT32_C( -181070601), INT32_C( 1463729035), INT32_C( 2031968571), INT32_C(  333434400),
                            INT32_C( -637142874), INT32_C( -520435756), INT32_C( -148623413), INT32_C( -692754616),
                            INT32_C(-1908406411), INT32_C( 1391053429), INT32_C( 1767908668), INT32_C( 1117151413),
                            INT32_C( 1466854108), INT32_C( -852914371), INT32_C( -773785464), INT32_C(-2142007253)),
      simde_mm_set_epi32(INT32_C(  712044568), INT32_C( 1641785760), INT32_C( 1696516135), INT32_C(-1123374630)),
      simde_mm512_set_epi32(INT32_C( -181070601), INT32_C( 1463729035), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C( -637142874), INT32_C( -520435756), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C(  712044568), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677)),
      simde_mm512_set_epi32(INT32_C( -181070601), INT32_C( 1463729035), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C( -637142874), INT32_C( -520435756), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C( 1466854108), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677)),
      simde_mm512_set_epi32(INT32_C( -181070601), INT32_C( 1463729035), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C(  712044568), INT32_C( 1641785760), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C( 1466854108), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677)),
      simde_mm512_set_epi32(INT32_C(  712044568), INT32_C( 1641785760), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C( -637142874), INT32_C( -520435756), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C( 1466854108), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677)) },
    { simde_mm512_set_epi32(INT32_C( -539592973), INT32_C(-1402526875), INT32_C(   -8263463), INT32_C(  478788156),
                            INT32_C(  842200487), INT32_C( -811849174), INT32_C(-1510825074), INT32_C( 1897985966),
                            INT32_C( 1445172644), INT32_C( -193622280), INT32_C( 2097959091), INT32_C( -652080500),
                            INT32_C( 1943026961), INT32_C(  763848022), INT32_C(-2124387583), INT32_C(-1102663841)),
      UINT16_C(53796),
      simde_mm512_set_epi32(INT32_C(-1268587914), INT32_C( 1939823644), INT32_C(-1112752789), INT32_C( 2052878307),
                            INT32_C( -856056848), INT32_C(-1218860495), INT32_C(  729621709), INT32_C(-1241407128),
                            INT32_C(  696721321), INT32_C( -603523965), INT32_C( 1730687689), INT32_C(  290786615),
                            INT32_C(-1827031380), INT32_C( 1429317129), INT32_C(-1800615955), INT32_C( -728999228)),
      simde_mm_set_epi32(INT32_C( -549528402), INT32_C( -323547130), INT32_C(-1395624565), INT32_C(-1905505546)),
      simde_mm512_set_epi32(INT32_C(-1268587914), INT32_C( 1939823644), INT32_C(   -8263463), INT32_C( 2052878307),
                            INT32_C(  842200487), INT32_C( -811849174), INT32_C(  729621709), INT32_C( 1897985966),
                            INT32_C( 1445172644), INT32_C( -193622280), INT32_C( 1730687689), INT32_C( -652080500),
                            INT32_C( 1943026961), INT32_C( -323547130), INT32_C(-2124387583), INT32_C(-1102663841)),
      simde_mm512_set_epi32(INT32_C(-1268587914), INT32_C( 1939823644), INT32_C(   -8263463), INT32_C( 2052878307),
                            INT32_C(  842200487), INT32_C( -811849174), INT32_C(  729621709), INT32_C( 1897985966),
                            INT32_C( 1445172644), INT32_C( -193622280), INT32_C(-1395624565), INT32_C( -652080500),
                            INT32_C( 1943026961), INT32_C( 1429317129), INT32_C(-2124387583), INT32_C(-1102663841)),
      simde_mm512_set_epi32(INT32_C(-1268587914), INT32_C( 1939823644), INT32_C(   -8263463), INT32_C( 2052878307),
                            INT32_C(  842200487), INT32_C( -811849174), INT32_C(-1395624565), INT32_C( 1897985966),
                            INT32_C( 1445172644), INT32_C( -193622280), INT32_C( 1730687689), INT32_C( -652080500),
                            INT32_C( 1943026961), INT32_C( 1429317129), INT32_C(-2124387583), INT32_C(-1102663841)),
      simde_mm512_set_epi32(INT32_C( -549528402), INT32_C( -323547130), INT32_C(   -8263463), INT32_C(-1905505546),
                            INT32_C(  842200487), INT32_C( -811849174), INT32_C(  729621709), INT32_C( 1897985966),
                            INT32_C( 1445172644), INT32_C( -193622280), INT32_C( 1730687689), INT32_C( -652080500),
                            INT32_C( 1943026961), INT32_C( 1429317129), INT32_C(-2124387583), INT32_C(-1102663841)) },
    { simde_mm512_set_epi32(INT32_C(-1884003639), INT32_C( -638430290), INT32_C(-2007622482), INT32_C(  171336877),
                            INT32_C(   59553613), INT32_C(  165266600), INT32_C( -798384264), INT32_C( 1607584815),
                            INT32_C(-1324336584), INT32_C(-1668086905), INT32_C( -770469750), INT32_C( 1013231130),
                            INT32_C(  543156562), INT32_C( -399740514), INT32_C(  509655415), INT32_C( -160537509)),
      UINT16_C(22542),
      simde_mm512_set_epi32(INT32_C( -364563113), INT32_C( 1520783126), INT32_C( -207159885), INT32_C( -104006691),
                            INT32_C(  362759403), INT32_C(-1562242573), INT32_C( -397133039), INT32_C(  568974515),
                            INT32_C(-1726442446), INT32_C(-2134949944), INT32_C( 1969107101), INT32_C(-2063427243),
                            INT32_C( -670405092), INT32_C(-1879729053), INT32_C( 1035482990), INT32_C( 1183910939)),
      simde_mm_set_epi32(INT32_C( -521443925), INT32_C(-1464291783), INT32_C(-1686112999), INT32_C(-1290233716)),
      simde_mm512_set_epi32(INT32_C(-1884003639), INT32_C( 1520783126), INT32_C(-2007622482), INT32_C( -104006691),
                            INT32_C(  362759403), INT32_C(  165266600), INT32_C( -798384264), INT32_C( 1607584815),
                            INT32_C(-1324336584), INT32_C(-1668086905), INT32_C( -770469750), INT32_C( 1013231130),
                            INT32_C( -521443925), INT32_C(-1464291783), INT32_C(-1686112999), INT32_C( -160537509)),
      simde_mm512_set_epi32(INT32_C(-1884003639), INT32_C( 1520783126), INT32_C(-2007622482), INT32_C( -104006691),
                            INT32_C(  362759403), INT32_C(  165266600), INT32_C( -798384264), INT32_C( 1607584815),
                            INT32_C(-1324336584), INT32_C(-1668086905), INT32_C( -770469750), INT32_C( 1013231130),
                            INT32_C( -670405092), INT32_C(-1879729053), INT32_C( 1035482990), INT32_C( -160537509)),
      simde_mm512_set_epi32(INT32_C(-1884003639), INT32_C( 1520783126), INT32_C(-2007622482), INT32_C( -104006691),
                            INT32_C( -521443925), INT32_C(  165266600), INT32_C( -798384264), INT32_C( 1607584815),
                            INT32_C(-1324336584), INT32_C(-1668086905), INT32_C( -770469750), INT32_C( 1013231130),
                            INT32_C( -670405092), INT32_C(-1879729053), INT32_C( 1035482990), INT32_C( -160537509)),
      simde_mm512_set_epi32(INT32_C(-1884003639), INT32_C(-1464291783), INT32_C(-2007622482), INT32_C(-1290233716),
                            INT32_C(  362759403), INT32_C(  165266600), INT32_C( -798384264), INT32_C( 1607584815),
                            INT32_C(-1324336584), INT32_C(-1668086905), INT32_C( -770469750), INT32_C( 1013231130),
                            INT32_C( -670405092), INT32_C(-1879729053), INT32_C( 1035482990), INT32_C( -160537509)) },
    { simde_mm512_set_epi32(INT32_C(-1383827159), INT32_C( 1804875719), INT32_C( 1179452315), INT32_C(-1509656190),
                            INT32_C(-1409992701), INT32_C(-1830359468), INT32_C(  635753031), INT32_C(  310246197),
                            INT32_C(-1783943034), INT32_C(-1307643183), INT32_C( -144888334), INT32_C(  621611179),
                            INT32_C(  743650285), INT32_C( 1845744981), INT32_C(-1349190316), INT32_C(-1403674818)),
      UINT16_C( 4521),
      simde_mm512_set_epi32(INT32_C( 1055036471), INT32_C(  351897115), INT32_C( 1594003471), INT32_C(-1709813294),
                            INT32_C( -133653364), INT32_C(  -51462036), INT32_C(   46796230), INT32_C(  989301899),
                            INT32_C( -691937914), INT32_C( 1667629581), INT32_C( -496700661), INT32_C(-1318801755),
                            INT32_C( 1076515270), INT32_C(-1757573505), INT32_C(-1929379353), INT32_C( -560036292)),
      simde_mm_set_epi32(INT32_C(-1293286075), INT32_C(-1398303881), INT32_C(-2094713086), INT32_C(  197529411)),
      simde_mm512_set_epi32(INT32_C(-1383827159), INT32_C( 1804875719), INT32_C( 1179452315), INT32_C(-1709813294),
                            INT32_C(-1409992701), INT32_C(-1830359468), INT32_C(  635753031), INT32_C(  989301899),
                            INT32_C( -691937914), INT32_C(-1307643183), INT32_C( -496700661), INT32_C(  621611179),
                            INT32_C(-1293286075), INT32_C( 1845744981), INT32_C(-1349190316), INT32_C(  197529411)),
      simde_mm512_set_epi32(INT32_C(-1383827159), INT32_C( 1804875719), INT32_C( 1179452315), INT32_C(-1709813294),
                            INT32_C(-1409992701), INT32_C(-1830359468), INT32_C(  635753031), INT32_C(  989301899),
                            INT32_C(-1293286075), INT32_C(-1307643183), INT32_C(-2094713086), INT32_C(  621611179),
                            INT32_C( 1076515270), INT32_C( 1845744981), INT32_C(-1349190316), INT32_C( -560036292)),
      simde_mm512_set_epi32(INT32_C(-1383827159), INT32_C( 1804875719), INT32_C( 1179452315), INT32_C(-1709813294),
                            INT32_C(-1409992701), INT32_C(-1830359468), INT32_C(  635753031), INT32_C(  197529411),
                            INT32_C( -691937914), INT32_C(-1307643183), INT32_C( -496700661), INT32_C(  621611179),
                            INT32_C( 1076515270), INT32_C( 1845744981), INT32_C(-1349190316), INT32_C( -560036292)),
      simde_mm512_set_epi32(INT32_C(-1383827159), INT32_C( 1804875719), INT32_C( 1179452315), INT32_C(  197529411),
                            INT32_C(-1409992701), INT32_C(-1830359468), INT32_C(  635753031), INT32_C(  989301899),
                            INT32_C( -691937914), INT32_C(-1307643183), INT32_C( -496700661), INT32_C(  621611179),
                            INT32_C( 1076515270), INT32_C( 1845744981), INT32_C(-1349190316), INT32_C( -560036292)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512i r;
    r = simde_mm512_mask_inserti32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512i_i32(r, ==, test_vec[i].r0);
    r = simde_mm512_mask_inserti32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512i_i32(r, ==, test_vec[i].r1);
    r = simde_mm512_mask_inserti32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 2);
    simde_assert_m512i_i32(r, ==, test_vec[i].r2);
    r = simde_mm512_mask_inserti32x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 3);
    simde_assert_m512i_i32(r, ==, test_vec[i].r3);
  }

  return 0;
}

static int
test_simde_mm512_maskz_inserti32x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__mmask16 k;
    simde__m512i a;
    simde__m128i b;
    simde__m512i r0;
    simde__m512i r1;
    simde__m512i r2;
    simde__m512i r3;
  } test_vec[8] = {
    { UINT16_C(21335),
      simde_mm512_set_epi32(INT32_C(  951544639), INT32_C(-1026363374), INT32_C(-1801776439), INT32_C(  145438126),
                            INT32_C(-1306064352), INT32_C( -858736392), INT32_C(  923442479), INT32_C( 1092805562),
                            INT32_C( 1443901717), INT32_C( 1848749100), INT32_C( 1777333881), INT32_C( 1570116932),
                            INT32_C(-1302383354), INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201)),
      simde_mm_set_epi32(INT32_C(-1630396605), INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(-1026363374), INT32_C(          0), INT32_C(  145438126),
                            INT32_C(          0), INT32_C(          0), INT32_C(  923442479), INT32_C( 1092805562),
                            INT32_C(          0), INT32_C( 1848749100), INT32_C(          0), INT32_C( 1570116932),
                            INT32_C(          0), INT32_C( 1545554432), INT32_C(  344023940), INT32_C(-1871515754)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(-1026363374), INT32_C(          0), INT32_C(  145438126),
                            INT32_C(          0), INT32_C(          0), INT32_C(  923442479), INT32_C( 1092805562),
                            INT32_C(          0), INT32_C( 1545554432), INT32_C(          0), INT32_C(-1871515754),
                            INT32_C(          0), INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(-1026363374), INT32_C(          0), INT32_C(  145438126),
                            INT32_C(          0), INT32_C(          0), INT32_C(  344023940), INT32_C(-1871515754),
                            INT32_C(          0), INT32_C( 1848749100), INT32_C(          0), INT32_C( 1570116932),
                            INT32_C(          0), INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( 1545554432), INT32_C(          0), INT32_C(-1871515754),
                            INT32_C(          0), INT32_C(          0), INT32_C(  923442479), INT32_C( 1092805562),
                            INT32_C(          0), INT32_C( 1848749100), INT32_C(          0), INT32_C( 1570116932),
                            INT32_C(          0), INT32_C( 1993455974), INT32_C(-2068684593), INT32_C(-1936012201)) },
    { UINT16_C(30312),
      simde_mm512_set_epi32(INT32_C(  564965997), INT32_C(  169645898), INT32_C(-1539616610), INT32_C( 1134735685),
                            INT32_C( 1430356381), INT32_C(-1110068455), INT32_C( -207240031), INT32_C(-1649179267),
                            INT32_C( 2054398444), INT32_C( -483586503), INT32_C(-1481960002), INT32_C(  861125508),
                            INT32_C( -330381203), INT32_C(-1999224530), INT32_C( 1042470181), INT32_C( 1827473477)),
      simde_mm_set_epi32(INT32_C(-2045280751), INT32_C(-2037261521), INT32_C(  223952317), INT32_C(  282198336)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(  169645898), INT32_C(-1539616610), INT32_C( 1134735685),
                            INT32_C(          0), INT32_C(-1110068455), INT32_C( -207240031), INT32_C(          0),
                            INT32_C(          0), INT32_C( -483586503), INT32_C(-1481960002), INT32_C(          0),
                            INT32_C(-2045280751), INT32_C(          0), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(  169645898), INT32_C(-1539616610), INT32_C( 1134735685),
                            INT32_C(          0), INT32_C(-1110068455), INT32_C( -207240031), INT32_C(          0),
                            INT32_C(          0), INT32_C(-2037261521), INT32_C(  223952317), INT32_C(          0),
                            INT32_C( -330381203), INT32_C(          0), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(  169645898), INT32_C(-1539616610), INT32_C( 1134735685),
                            INT32_C(          0), INT32_C(-2037261521), INT32_C(  223952317), INT32_C(          0),
                            INT32_C(          0), INT32_C( -483586503), INT32_C(-1481960002), INT32_C(          0),
                            INT32_C( -330381203), INT32_C(          0), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(-2037261521), INT32_C(  223952317), INT32_C(  282198336),
                            INT32_C(          0), INT32_C(-1110068455), INT32_C( -207240031), INT32_C(          0),
                            INT32_C(          0), INT32_C( -483586503), INT32_C(-1481960002), INT32_C(          0),
                            INT32_C( -330381203), INT32_C(          0), INT32_C(          0), INT32_C(          0)) },
    { UINT16_C(24099),
      simde_mm512_set_epi32(INT32_C(-2063050181), INT32_C( 1095467003), INT32_C(-2083755741), INT32_C( 2066979701),
                            INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359), INT32_C( 1519671047),
                            INT32_C(-1017461983), INT32_C(  353198331), INT32_C( 1711460779), INT32_C( -919570191),
                            INT32_C( 1974152373), INT32_C( -695949043), INT32_C( -790242624), INT32_C(-1094331335)),
      simde_mm_set_epi32(INT32_C( 1549802795), INT32_C(  159583350), INT32_C(  548883180), INT32_C( -605945909)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( 1095467003), INT32_C(          0), INT32_C( 2066979701),
                            INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C( 1711460779), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C(  548883180), INT32_C( -605945909)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( 1095467003), INT32_C(          0), INT32_C( 2066979701),
                            INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C(  548883180), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C( -790242624), INT32_C(-1094331335)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( 1095467003), INT32_C(          0), INT32_C( 2066979701),
                            INT32_C( 1549802795), INT32_C(  159583350), INT32_C(  548883180), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C( 1711460779), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C( -790242624), INT32_C(-1094331335)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(  159583350), INT32_C(          0), INT32_C( -605945909),
                            INT32_C( 1094609712), INT32_C( 1345059025), INT32_C( -340318359), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C( 1711460779), INT32_C(          0),
                            INT32_C(          0), INT32_C(          0), INT32_C( -790242624), INT32_C(-1094331335)) },
    { UINT16_C(31949),
      simde_mm512_set_epi32(INT32_C(  513515868), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027),
                            INT32_C(  533478787), INT32_C(  907615417), INT32_C( -199229058), INT32_C(  -91537812),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C( 1688468565), INT32_C(  736544549),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C( 1720852541), INT32_C(-1423023772)),
      simde_mm_set_epi32(INT32_C(  884163960), INT32_C( -329275629), INT32_C( -888441293), INT32_C( -707551350)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027),
                            INT32_C(  533478787), INT32_C(  907615417), INT32_C(          0), INT32_C(          0),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C(          0), INT32_C(          0),
                            INT32_C(  884163960), INT32_C( -329275629), INT32_C(          0), INT32_C( -707551350)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027),
                            INT32_C(  533478787), INT32_C(  907615417), INT32_C(          0), INT32_C(          0),
                            INT32_C(  884163960), INT32_C( -329275629), INT32_C(          0), INT32_C(          0),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C(          0), INT32_C(-1423023772)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(-1825967755), INT32_C(  822222164), INT32_C(-1689559027),
                            INT32_C(  884163960), INT32_C( -329275629), INT32_C(          0), INT32_C(          0),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C(          0), INT32_C(          0),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C(          0), INT32_C(-1423023772)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( -329275629), INT32_C( -888441293), INT32_C( -707551350),
                            INT32_C(  533478787), INT32_C(  907615417), INT32_C(          0), INT32_C(          0),
                            INT32_C( 1375258232), INT32_C(  139748399), INT32_C(          0), INT32_C(          0),
                            INT32_C(-1282057552), INT32_C(  795925067), INT32_C(          0), INT32_C(-1423023772)) },
    { UINT16_C(10665),
      simde_mm512_set_epi32(INT32_C( 1219490517), INT32_C(-1569831145), INT32_C(  338985942), INT32_C( 1701079465),
                            INT32_C( -195770682), INT32_C(  503748315), INT32_C( 1469355417), INT32_C(-1849349632),
                            INT32_C( 1962664621), INT32_C( -646247370), INT32_C( 1258747662), INT32_C( 1838830023),
                            INT32_C( -532007659), INT32_C( -622852205), INT32_C( -839037220), INT32_C(  499633910)),
      simde_mm_set_epi32(INT32_C( -272088075), INT32_C(  386072301), INT32_C(-1628984154), INT32_C(   87817524)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(  338985942), INT32_C(          0),
                            INT32_C( -195770682), INT32_C(          0), INT32_C(          0), INT32_C(-1849349632),
                            INT32_C( 1962664621), INT32_C(          0), INT32_C( 1258747662), INT32_C(          0),
                            INT32_C( -272088075), INT32_C(          0), INT32_C(          0), INT32_C(   87817524)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(  338985942), INT32_C(          0),
                            INT32_C( -195770682), INT32_C(          0), INT32_C(          0), INT32_C(-1849349632),
                            INT32_C( -272088075), INT32_C(          0), INT32_C(-1628984154), INT32_C(          0),
                            INT32_C( -532007659), INT32_C(          0), INT32_C(          0), INT32_C(  499633910)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(  338985942), INT32_C(          0),
                            INT32_C( -272088075), INT32_C(          0), INT32_C(          0), INT32_C(   87817524),
                            INT32_C( 1962664621), INT32_C(          0), INT32_C( 1258747662), INT32_C(          0),
                            INT32_C( -532007659), INT32_C(          0), INT32_C(          0), INT32_C(  499633910)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(-1628984154), INT32_C(          0),
                            INT32_C( -195770682), INT32_C(          0), INT32_C(          0), INT32_C(-1849349632),
                            INT32_C( 1962664621), INT32_C(          0), INT32_C( 1258747662), INT32_C(          0),
                            INT32_C( -532007659), INT32_C(          0), INT32_C(          0), INT32_C(  499633910)) },
    { UINT16_C(12797),
      simde_mm512_set_epi32(INT32_C( 1774242298), INT32_C( 1089620040), INT32_C(-1101477862), INT32_C( 2001101785),
                            INT32_C(-1759250988), INT32_C( -606254738), INT32_C( 1526367108), INT32_C(  722122834),
                            INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494), INT32_C(  -22119232),
                            INT32_C( 1216907749), INT32_C(  654527510), INT32_C(-2043358500), INT32_C(  459072440)),
      simde_mm_set_epi32(INT32_C(  617951303), INT32_C(  817116152), INT32_C(-1034835761), INT32_C( -102069057)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(-1101477862), INT32_C( 2001101785),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C(  722122834),
                            INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494), INT32_C(  -22119232),
                            INT32_C(  617951303), INT32_C(  817116152), INT32_C(          0), INT32_C( -102069057)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(-1101477862), INT32_C( 2001101785),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C(  722122834),
                            INT32_C(  617951303), INT32_C(  817116152), INT32_C(-1034835761), INT32_C( -102069057),
                            INT32_C( 1216907749), INT32_C(  654527510), INT32_C(          0), INT32_C(  459072440)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(-1101477862), INT32_C( 2001101785),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C( -102069057),
                            INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494), INT32_C(  -22119232),
                            INT32_C( 1216907749), INT32_C(  654527510), INT32_C(          0), INT32_C(  459072440)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C(          0), INT32_C(-1034835761), INT32_C( -102069057),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C(  722122834),
                            INT32_C( -174985661), INT32_C(-1762469023), INT32_C( 1239606494), INT32_C(  -22119232),
                            INT32_C( 1216907749), INT32_C(  654527510), INT32_C(          0), INT32_C(  459072440)) },
    { UINT16_C(46928),
      simde_mm512_set_epi32(INT32_C( 1541217841), INT32_C( 1692413538), INT32_C(  738521275), INT32_C(  159429100),
                            INT32_C(  451955897), INT32_C(  181201098), INT32_C(  450627934), INT32_C( 2082954477),
                            INT32_C( 1254960767), INT32_C( 1995459397), INT32_C(  -11572946), INT32_C(-1087388220),
                            INT32_C(  730787370), INT32_C(-2034110695), INT32_C(-1088138491), INT32_C( -353174912)),
      simde_mm_set_epi32(INT32_C(  204417556), INT32_C(-1329665093), INT32_C(-2039025377), INT32_C( 1639231015)),
      simde_mm512_set_epi32(INT32_C( 1541217841), INT32_C(          0), INT32_C(  738521275), INT32_C(  159429100),
                            INT32_C(          0), INT32_C(  181201098), INT32_C(  450627934), INT32_C( 2082954477),
                            INT32_C(          0), INT32_C( 1995459397), INT32_C(          0), INT32_C(-1087388220),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C( 1541217841), INT32_C(          0), INT32_C(  738521275), INT32_C(  159429100),
                            INT32_C(          0), INT32_C(  181201098), INT32_C(  450627934), INT32_C( 2082954477),
                            INT32_C(          0), INT32_C(-1329665093), INT32_C(          0), INT32_C( 1639231015),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C( 1541217841), INT32_C(          0), INT32_C(  738521275), INT32_C(  159429100),
                            INT32_C(          0), INT32_C(-1329665093), INT32_C(-2039025377), INT32_C( 1639231015),
                            INT32_C(          0), INT32_C( 1995459397), INT32_C(          0), INT32_C(-1087388220),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C(  204417556), INT32_C(          0), INT32_C(-2039025377), INT32_C( 1639231015),
                            INT32_C(          0), INT32_C(  181201098), INT32_C(  450627934), INT32_C( 2082954477),
                            INT32_C(          0), INT32_C( 1995459397), INT32_C(          0), INT32_C(-1087388220),
                            INT32_C(          0), INT32_C(          0), INT32_C(          0), INT32_C(          0)) },
    { UINT16_C(30100),
      simde_mm512_set_epi32(INT32_C( 1313258175), INT32_C( 1928049651), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C( 1435935141), INT32_C(-2098236580), INT32_C(-1991433794), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(-1834748849), INT32_C(  596054477), INT32_C( 1827419510),
                            INT32_C(-1010527612), INT32_C(-1687118128), INT32_C(  107945377), INT32_C( 1174128677)),
      simde_mm_set_epi32(INT32_C( -852914371), INT32_C( -773785464), INT32_C(-2142007253), INT32_C(  466013192)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( 1928049651), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C(          0), INT32_C(-2098236580), INT32_C(          0), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(          0), INT32_C(          0), INT32_C( 1827419510),
                            INT32_C(          0), INT32_C( -773785464), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( 1928049651), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C(          0), INT32_C(-2098236580), INT32_C(          0), INT32_C( 1298943776),
                            INT32_C( -852914371), INT32_C(          0), INT32_C(          0), INT32_C(  466013192),
                            INT32_C(          0), INT32_C(-1687118128), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( 1928049651), INT32_C(  765730488), INT32_C(  -85899231),
                            INT32_C(          0), INT32_C( -773785464), INT32_C(          0), INT32_C(  466013192),
                            INT32_C(  277470244), INT32_C(          0), INT32_C(          0), INT32_C( 1827419510),
                            INT32_C(          0), INT32_C(-1687118128), INT32_C(          0), INT32_C(          0)),
      simde_mm512_set_epi32(INT32_C(          0), INT32_C( -773785464), INT32_C(-2142007253), INT32_C(  466013192),
                            INT32_C(          0), INT32_C(-2098236580), INT32_C(          0), INT32_C( 1298943776),
                            INT32_C(  277470244), INT32_C(          0), INT32_C(          0), INT32_C( 1827419510),
                            INT32_C(          0), INT32_C(-1687118128), INT32_C(          0), INT32_C(          0)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512i r;
    r = simde_mm512_maskz_inserti32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512i_i32(r, ==, test_vec[i].r0);
    r = simde_mm512_maskz_inserti32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512i_i32(r, ==, test_vec[i].r1);
    r = simde_mm512_maskz_inserti32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 2);
    simde_assert_m512i_i32(r, ==, test_vec[i].r2);
    r = simde_mm512_maskz_inserti32x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 3);
    simde_assert_m512i_i32(r, ==, test_vec[i].r3);
  }

  return 0;
}

static int
test_simde_mm512_inserti64x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512i a;
    simde__m256i b;
    simde__m512i r0;
    simde__m512i r1;
  } test_vec[8] = {
    { simde_mm512_set_epi64(INT64_C( 4022993628330696330), INT64_C( -564047204985781920),
                            INT64_C( 4934063986128071877), INT64_C( 8258886799903261224),
                            INT64_C( 5245738308211416456), INT64_C( 8690736315259258337),
                            INT64_C(-5183161890921602420), INT64_C(-2495336383094170141)),
      simde_mm256_set_epi64x(INT64_C(-5948029684411535130), INT64_C(-4862378680423071053),
                             INT64_C( 7355766231574189317), INT64_C( -310150959079746096)),
      simde_mm512_set_epi64(INT64_C( 4022993628330696330), INT64_C( -564047204985781920),
                            INT64_C( 4934063986128071877), INT64_C( 8258886799903261224),
                            INT64_C(-5948029684411535130), INT64_C(-4862378680423071053),
                            INT64_C( 7355766231574189317), INT64_C( -310150959079746096)),
      simde_mm512_set_epi64(INT64_C(-5948029684411535130), INT64_C(-4862378680423071053),
                            INT64_C( 7355766231574189317), INT64_C( -310150959079746096),
                            INT64_C( 5245738308211416456), INT64_C( 8690736315259258337),
                            INT64_C(-5183161890921602420), INT64_C(-2495336383094170141)) },
    { simde_mm512_set_epi64(INT64_C( 1295774678670654457), INT64_C(-8851107363323835123),
                            INT64_C( 2369486750103851747), INT64_C(-5139586436110975467),
                            INT64_C(-8115609027568940125), INT64_C( 3504612124823893047),
                            INT64_C(-7514888466798804666), INT64_C( 9113506312589344178)),
      simde_mm256_set_epi64x(INT64_C(-7443148953768886026), INT64_C( 8448077846545567514),
                             INT64_C(-7304267332935478206), INT64_C(-1528489088828046422)),
      simde_mm512_set_epi64(INT64_C( 1295774678670654457), INT64_C(-8851107363323835123),
                            INT64_C( 2369486750103851747), INT64_C(-5139586436110975467),
                            INT64_C(-7443148953768886026), INT64_C( 8448077846545567514),
                            INT64_C(-7304267332935478206), INT64_C(-1528489088828046422)),
      simde_mm512_set_epi64(INT64_C(-7443148953768886026), INT64_C( 8448077846545567514),
                            INT64_C(-7304267332935478206), INT64_C(-1528489088828046422),
                            INT64_C(-8115609027568940125), INT64_C( 3504612124823893047),
                            INT64_C(-7514888466798804666), INT64_C( 9113506312589344178)) },
    { simde_mm512_set_epi64(INT64_C(-3094219001013742557), INT64_C(-3379016320921474793),
                            INT64_C( 7772273849745001049), INT64_C(-4229480058937372017),
                            INT64_C( 8318730560275653847), INT64_C(-2664412856586094061),
                            INT64_C( 2083707536546841162), INT64_C( 5404230241318444880)),
      simde_mm256_set_epi64x(INT64_C( 9199350188047982974), INT64_C(-7693432910203882071),
                             INT64_C(-5762072963977532348), INT64_C( 4491924425059371454)),
      simde_mm512_set_epi64(INT64_C(-3094219001013742557), INT64_C(-3379016320921474793),
                            INT64_C( 7772273849745001049), INT64_C(-4229480058937372017),
                            INT64_C( 9199350188047982974), INT64_C(-7693432910203882071),
                            INT64_C(-5762072963977532348), INT64_C( 4491924425059371454)),
      simde_mm512_set_epi64(INT64_C( 9199350188047982974), INT64_C(-7693432910203882071),
                            INT64_C(-5762072963977532348), INT64_C( 4491924425059371454),
                            INT64_C( 8318730560275653847), INT64_C(-2664412856586094061),
                            INT64_C( 2083707536546841162), INT64_C( 5404230241318444880)) },
    { simde_mm512_set_epi64(INT64_C( 2522518958303333112), INT64_C(-1668307566098600867),
                            INT64_C( 8306832211054389426), INT64_C(-4135341282024622606),
                            INT64_C(-7922172549839933132), INT64_C(   90826243433254935),
                            INT64_C( 1037923706586637130), INT64_C( 5568688997300093349)),
      simde_mm256_set_epi64x(INT64_C( 7563354526679147255), INT64_C(-6952412028107066884),
                             INT64_C(-3077616107881632928), INT64_C(-2220298267656761827)),
      simde_mm512_set_epi64(INT64_C( 2522518958303333112), INT64_C(-1668307566098600867),
                            INT64_C( 8306832211054389426), INT64_C(-4135341282024622606),
                            INT64_C( 7563354526679147255), INT64_C(-6952412028107066884),
                            INT64_C(-3077616107881632928), INT64_C(-2220298267656761827)),
      simde_mm512_set_epi64(INT64_C( 7563354526679147255), INT64_C(-6952412028107066884),
                            INT64_C(-3077616107881632928), INT64_C(-2220298267656761827),
                            INT64_C(-7922172549839933132), INT64_C(   90826243433254935),
                            INT64_C( 1037923706586637130), INT64_C( 5568688997300093349)) },
    { simde_mm512_set_epi64(INT64_C(-6876215301736363293), INT64_C(-2253243373865166954),
                            INT64_C( 5866706473820467911), INT64_C(-1945184283153250111),
                            INT64_C(-6043663531296462836), INT64_C(-3201199251206898425),
                            INT64_C(-7517867743898200758), INT64_C( 5023666877462679332)),
      simde_mm256_set_epi64x(INT64_C( 1419500527032411112), INT64_C( 5424087511148175828),
                             INT64_C(-4780701435803039630), INT64_C( 6069825193561024149)),
      simde_mm512_set_epi64(INT64_C(-6876215301736363293), INT64_C(-2253243373865166954),
                            INT64_C( 5866706473820467911), INT64_C(-1945184283153250111),
                            INT64_C( 1419500527032411112), INT64_C( 5424087511148175828),
                            INT64_C(-4780701435803039630), INT64_C( 6069825193561024149)),
      simde_mm512_set_epi64(INT64_C( 1419500527032411112), INT64_C( 5424087511148175828),
                            INT64_C(-4780701435803039630), INT64_C( 6069825193561024149),
                            INT64_C(-6043663531296462836), INT64_C(-3201199251206898425),
                            INT64_C(-7517867743898200758), INT64_C( 5023666877462679332)) },
    { simde_mm512_set_epi64(INT64_C( 5698026186558744964), INT64_C( 6269499859520580584),
                            INT64_C( 7385991043015762011), INT64_C( 2173549174497415259),
                            INT64_C(  135432210503006619), INT64_C(-7059566968128636366),
                            INT64_C(-1295026765047609725), INT64_C( 5447800525707046939)),
      simde_mm256_set_epi64x(INT64_C(-7404082530836275478), INT64_C(-6011864495242619751),
                             INT64_C(-2639903919112693390), INT64_C( 3391502071027493622)),
      simde_mm512_set_epi64(INT64_C( 5698026186558744964), INT64_C( 6269499859520580584),
                            INT64_C( 7385991043015762011), INT64_C( 2173549174497415259),
                            INT64_C(-7404082530836275478), INT64_C(-6011864495242619751),
                            INT64_C(-2639903919112693390), INT64_C( 3391502071027493622)),
      simde_mm512_set_epi64(INT64_C(-7404082530836275478), INT64_C(-6011864495242619751),
                            INT64_C(-2639903919112693390), INT64_C( 3391502071027493622),
                            INT64_C(  135432210503006619), INT64_C(-7059566968128636366),
                            INT64_C(-1295026765047609725), INT64_C( 5447800525707046939)) },
    { simde_mm512_set_epi64(INT64_C(-7778482448656032654), INT64_C(-7388935565641111344),
                            INT64_C( 2154583157079273400), INT64_C( 4649728279138736034),
                            INT64_C( 1896125478609903946), INT64_C( 6795120210135498653),
                            INT64_C(-8532964392806396349), INT64_C(-8044512602622188161)),
      simde_mm256_set_epi64x(INT64_C(-7828848640852632692), INT64_C(-9058711782958006347),
                             INT64_C(-6631984369075385878), INT64_C(  312385656423386943)),
      simde_mm512_set_epi64(INT64_C(-7778482448656032654), INT64_C(-7388935565641111344),
                            INT64_C( 2154583157079273400), INT64_C( 4649728279138736034),
                            INT64_C(-7828848640852632692), INT64_C(-9058711782958006347),
                            INT64_C(-6631984369075385878), INT64_C(  312385656423386943)),
      simde_mm512_set_epi64(INT64_C(-7828848640852632692), INT64_C(-9058711782958006347),
                            INT64_C(-6631984369075385878), INT64_C(  312385656423386943),
                            INT64_C( 1896125478609903946), INT64_C( 6795120210135498653),
                            INT64_C(-8532964392806396349), INT64_C(-8044512602622188161)) },
    { simde_mm512_set_epi64(INT64_C(-8313572030703954107), INT64_C( 8197482817575228316),
                            INT64_C( 7734796813438689885), INT64_C(-7308014241195865956),
                            INT64_C( 8618855955534148826), INT64_C(-1358620153905394442),
                            INT64_C(-6300735262609682931), INT64_C(-6423460006708841158)),
      simde_mm256_set_epi64x(INT64_C( 2330675318709913935), INT64_C( 8512876982035459145),
                             INT64_C( -754385814369639096), INT64_C(-5873166547629617678)),
      simde_mm512_set_epi64(INT64_C(-8313572030703954107), INT64_C( 8197482817575228316),
                            INT64_C( 7734796813438689885), INT64_C(-7308014241195865956),
                            INT64_C( 2330675318709913935), INT64_C( 8512876982035459145),
                            INT64_C( -754385814369639096), INT64_C(-5873166547629617678)),
      simde_mm512_set_epi64(INT64_C( 2330675318709913935), INT64_C( 8512876982035459145),
                            INT64_C( -754385814369639096), INT64_C(-5873166547629617678),
                            INT64_C( 8618855955534148826), INT64_C(-1358620153905394442),
                            INT64_C(-6300735262609682931), INT64_C(-6423460006708841158)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512i r;
    r = simde_mm512_inserti64x4(test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512i_i64(r, ==, test_vec[i].r0);
    r = simde_mm512_inserti64x4(test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512i_i64(r, ==, test_vec[i].r1);
  }

  return 0;
}

static int
test_simde_mm512_mask_inserti64x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__m512i src;
    simde__mmask8 k;
    simde__m512i a;
    simde__m256i b;
    simde__m512i r0;
    simde__m512i r1;
  } test_vec[8] = {
    { simde_mm512_set_epi64(INT64_C(-4408197122649025847), INT64_C(  624651997750430240),
                            INT64_C(-3688244718601593553), INT64_C( 4693564151120802069),
                            INT64_C( 7940316924786767481), INT64_C( 6743600876828439814),
                            INT64_C( 8561828216572109007), INT64_C(-8315109086095518889)),
      UINT8_C( 47),
      simde_mm512_set_epi64(INT64_C( -890089152921238147), INT64_C( 8823574133744668217),
                            INT64_C(-6364969741708969084), INT64_C(-1418976459802394322),
                            INT64_C( 4477375336277674053), INT64_C( 1282248710630285123),
                            INT64_C( 6638105739971879812), INT64_C(-8038098956427236545)),
      simde_mm256_set_epi64x(INT64_C(  961867877660623168), INT64_C( 2426510480636680010),
                             INT64_C(-6612602987193650875), INT64_C( 6143333881204814617)),
      simde_mm512_set_epi64(INT64_C(-4408197122649025847), INT64_C(  624651997750430240),
                            INT64_C(-6364969741708969084), INT64_C( 4693564151120802069),
                            INT64_C(  961867877660623168), INT64_C( 2426510480636680010),
                            INT64_C(-6612602987193650875), INT64_C( 6143333881204814617)),
      simde_mm512_set_epi64(INT64_C(-4408197122649025847), INT64_C(  624651997750430240),
                            INT64_C(-6612602987193650875), INT64_C( 4693564151120802069),
                            INT64_C( 4477375336277674053), INT64_C( 1282248710630285123),
                            INT64_C( 6638105739971879812), INT64_C(-8038098956427236545)) },
    { simde_mm512_set_epi64(INT64_C(-8949662758380266635), INT64_C( 4701312916269037777),
                            INT64_C(-1461656220613716217), INT64_C(-4369965941555109637),
                            INT64_C( 7350668077567080689), INT64_C( 8478919882954811661),
                            INT64_C(-3394066222784588743), INT64_C(-5009306653852991983)),
      UINT8_C( 51),
      simde_mm512_set_epi64(INT64_C( -393151907512138120), INT64_C(  600214805061827669),
                            INT64_C( 3163434753014979248), INT64_C( 3418472134552461373),
                            INT64_C(-6111840559061041971), INT64_C( 6656352319933975670),
                            INT64_C( 2357435311113502667), INT64_C(-8860733056306413573)),
      simde_mm256_set_epi64x(INT64_C(-3038909907977133732), INT64_C(-7842471790453318316),
                             INT64_C(-7256600765093102205), INT64_C( 3898178537456140670)),
      simde_mm512_set_epi64(INT64_C(-8949662758380266635), INT64_C( 4701312916269037777),
                            INT64_C( 3163434753014979248), INT64_C( 3418472134552461373),
                            INT64_C( 7350668077567080689), INT64_C( 8478919882954811661),
                            INT64_C(-7256600765093102205), INT64_C( 3898178537456140670)),
      simde_mm512_set_epi64(INT64_C(-8949662758380266635), INT64_C( 4701312916269037777),
                            INT64_C(-7256600765093102205), INT64_C( 3898178537456140670),
                            INT64_C( 7350668077567080689), INT64_C( 8478919882954811661),
                            INT64_C( 2357435311113502667), INT64_C(-8860733056306413573)) },
    { simde_mm512_set_epi64(INT64_C( 7306080674171373254), INT64_C( 2163582539809461657),
                            INT64_C(-7942896186346970451), INT64_C(-2775611318017263858),
                            INT64_C( 7897714815450887445), INT64_C(-2675129847260557604),
                            INT64_C( 2145911307457407401), INT64_C( 3797455296467543827)),
      UINT8_C(191),
      simde_mm512_set_epi64(INT64_C( -751557688731444383), INT64_C( 5324069355912068288),
                            INT64_C( 5226578984858504214), INT64_C(-8776157931044543560),
                            INT64_C(-1848672680316222475), INT64_C( 1658167909352451238),
                            INT64_C(  377173394815185621), INT64_C(-6742373427678247978)),
      simde_mm256_set_epi64x(INT64_C( 7620312646179506248), INT64_C(-4730811392556899367),
                             INT64_C(-7555925455226975890), INT64_C( 6555696811272222802)),
      simde_mm512_set_epi64(INT64_C( -751557688731444383), INT64_C( 2163582539809461657),
                            INT64_C( 5226578984858504214), INT64_C(-8776157931044543560),
                            INT64_C( 7620312646179506248), INT64_C(-4730811392556899367),
                            INT64_C(-7555925455226975890), INT64_C( 6555696811272222802)),
      simde_mm512_set_epi64(INT64_C( 7620312646179506248), INT64_C( 2163582539809461657),
                            INT64_C(-7555925455226975890), INT64_C( 6555696811272222802),
                            INT64_C(-1848672680316222475), INT64_C( 1658167909352451238),
                            INT64_C(  377173394815185621), INT64_C(-6742373427678247978)) },
    { simde_mm512_set_epi64(INT64_C( 1941135797030545610), INT64_C( 1935432241277000941),
                            INT64_C( 5390015454023535429), INT64_C(  -49705421380794940),
                            INT64_C( 3138707856740708121), INT64_C(-4673519228421997952),
                            INT64_C(-1556073591389999033), INT64_C( 3509487153133496527)),
      UINT8_C(191),
      simde_mm512_set_epi64(INT64_C(-7880186302232587827), INT64_C( 7848707034806784644),
                            INT64_C(-7246117184140796511), INT64_C( 5042844271761388948),
                            INT64_C(  877966720713550779), INT64_C(-8757547308289839577),
                            INT64_C( 6619480224799141474), INT64_C( 3171924723684651500)),
      simde_mm256_set_epi64x(INT64_C( 8280910196874944184), INT64_C( -368934386460614235),
                             INT64_C(-9011857488067354178), INT64_C( 5578921037540219940)),
      simde_mm512_set_epi64(INT64_C(-7880186302232587827), INT64_C( 1935432241277000941),
                            INT64_C(-7246117184140796511), INT64_C( 5042844271761388948),
                            INT64_C( 8280910196874944184), INT64_C( -368934386460614235),
                            INT64_C(-9011857488067354178), INT64_C( 5578921037540219940)),
      simde_mm512_set_epi64(INT64_C( 8280910196874944184), INT64_C( 1935432241277000941),
                            INT64_C(-9011857488067354178), INT64_C( 5578921037540219940),
                            INT64_C(  877966720713550779), INT64_C(-8757547308289839577),
                            INT64_C( 6619480224799141474), INT64_C( 3171924723684651500)) },
    { simde_mm512_set_epi64(INT64_C( 6286668337562607931), INT64_C( 1432089847019206822),
                            INT64_C(-2235254547542691893), INT64_C(-2975358417486477451),
                            INT64_C( 5974528986311566652), INT64_C( 4798128784982043356),
                            INT64_C(-3663239326212228984), INT64_C(-9199851098963784696)),
      UINT8_C(  9),
      simde_mm512_set_epi64(INT64_C(-3486865648830471282), INT64_C( 8151787653682140580),
                            INT64_C( -831601358278995789), INT64_C(-2800664419916301039),
                            INT64_C( 3280702275774868225), INT64_C(-4735905134864699368),
                            INT64_C( 7051416147935021095), INT64_C(-4824857292892203785)),
      simde_mm256_set_epi64x(INT64_C(-7733586635814839612), INT64_C(-3387038813920004365),
                             INT64_C(-6023807055599376167), INT64_C( 2056379472574346663)),
      simde_mm512_set_epi64(INT64_C( 6286668337562607931), INT64_C( 1432089847019206822),
                            INT64_C(-2235254547542691893), INT64_C(-2975358417486477451),
                            INT64_C(-7733586635814839612), INT64_C( 4798128784982043356),
                            INT64_C(-3663239326212228984), INT64_C( 2056379472574346663)),
      simde_mm512_set_epi64(INT64_C( 6286668337562607931), INT64_C( 1432089847019206822),
                            INT64_C(-2235254547542691893), INT64_C(-2975358417486477451),
                            INT64_C( 3280702275774868225), INT64_C( 4798128784982043356),
                            INT64_C(-3663239326212228984), INT64_C(-4824857292892203785)) },
    { simde_mm512_set_epi64(INT64_C(-1389624339165317749), INT64_C(-8184083999390244234),
                            INT64_C( 8331479114169761131), INT64_C( 8817045194671758320),
                            INT64_C(-5234965963681749811), INT64_C(-5331803015084564567),
                            INT64_C(-2592115690296560951), INT64_C( 1248919004007478956)),
      UINT8_C(200),
      simde_mm512_set_epi64(INT64_C(-2742037214038451026), INT64_C(  735886283373328205),
                            INT64_C(  709814645617696632), INT64_C( 6904524208941840952),
                            INT64_C(-7164378700336361334), INT64_C( 4351794567182281042),
                            INT64_C(-1716872434006574729), INT64_C( -689503347190866770)),
      simde_mm256_set_epi64x(INT64_C( 8457250603347908949), INT64_C(-2879367942796632989),
                             INT64_C( 4447365578798205979), INT64_C( 6508361231067538121)),
      simde_mm512_set_epi64(INT64_C(-2742037214038451026), INT64_C(  735886283373328205),
                            INT64_C( 8331479114169761131), INT64_C( 8817045194671758320),
                            INT64_C( 8457250603347908949), INT64_C(-5331803015084564567),
                            INT64_C(-2592115690296560951), INT64_C( 1248919004007478956)),
      simde_mm512_set_epi64(INT64_C( 8457250603347908949), INT64_C(-2879367942796632989),
                            INT64_C( 8331479114169761131), INT64_C( 8817045194671758320),
                            INT64_C(-7164378700336361334), INT64_C(-5331803015084564567),
                            INT64_C(-2592115690296560951), INT64_C( 1248919004007478956)) },
    { simde_mm512_set_epi64(INT64_C( 7927414333096918356), INT64_C(-6028737433755228757),
                            INT64_C(-6289085317177674471), INT64_C(-5541511610486147753),
                            INT64_C( 6531713794566454707), INT64_C( -446705336047418133),
                            INT64_C(-6709780755556058351), INT64_C( 2443726936750986290)),
      UINT8_C(108),
      simde_mm512_set_epi64(INT64_C(-8286621218977708484), INT64_C(-7274138402675197655),
                            INT64_C( 7751882187628938139), INT64_C(-6483923961368987645),
                            INT64_C(-7861334054348205497), INT64_C( 1332497272334397574),
                            INT64_C(-5616284701672264206), INT64_C( 2669799685376652269)),
      simde_mm256_set_epi64x(INT64_C(  200988278415395979), INT64_C(-2971850709824830963),
                             INT64_C(-2133313091920417115), INT64_C( 4623597880832003711)),
      simde_mm512_set_epi64(INT64_C( 7927414333096918356), INT64_C(-7274138402675197655),
                            INT64_C( 7751882187628938139), INT64_C(-5541511610486147753),
                            INT64_C(  200988278415395979), INT64_C(-2971850709824830963),
                            INT64_C(-6709780755556058351), INT64_C( 2443726936750986290)),
      simde_mm512_set_epi64(INT64_C( 7927414333096918356), INT64_C(-2971850709824830963),
                            INT64_C(-2133313091920417115), INT64_C(-5541511610486147753),
                            INT64_C(-7861334054348205497), INT64_C( 1332497272334397574),
                            INT64_C(-6709780755556058351), INT64_C( 2443726936750986290)) },
    { simde_mm512_set_epi64(INT64_C(-2107226359725098394), INT64_C(-4111796092278699383),
                            INT64_C(-7795021097560230286), INT64_C( -756190175563217595),
                            INT64_C(-6005669436564621566), INT64_C(  848382361298179127),
                            INT64_C( 1511386602075754511), INT64_C(-7343592175834719092)),
      UINT8_C(114),
      simde_mm512_set_epi64(INT64_C(-5446377680450598123), INT64_C( 6545920141858823590),
                            INT64_C(-6109676225565942508), INT64_C( 7950769636462343621),
                            INT64_C(-2554331370738443173), INT64_C( 3394005203063129217),
                            INT64_C(-2129862572478557053), INT64_C( 6740280704142266940)),
      simde_mm256_set_epi64x(INT64_C(-7150215929147729012), INT64_C( 4777590230543990164),
                             INT64_C(-7212709010936609343), INT64_C(-5423311652387614668)),
      simde_mm512_set_epi64(INT64_C(-2107226359725098394), INT64_C( 6545920141858823590),
                            INT64_C(-6109676225565942508), INT64_C( 7950769636462343621),
                            INT64_C(-6005669436564621566), INT64_C(  848382361298179127),
                            INT64_C(-7212709010936609343), INT64_C(-7343592175834719092)),
      simde_mm512_set_epi64(INT64_C(-2107226359725098394), INT64_C( 4777590230543990164),
                            INT64_C(-7212709010936609343), INT64_C(-5423311652387614668),
                            INT64_C(-6005669436564621566), INT64_C(  848382361298179127),
                            INT64_C(-2129862572478557053), INT64_C(-7343592175834719092)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512i r;
    r = simde_mm512_mask_inserti64x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512i_i64(r, ==, test_vec[i].r0);
    r = simde_mm512_mask_inserti64x4(test_vec[i].src, test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512i_i64(r, ==, test_vec[i].r1);
  }

  return 0;
}

static int
test_simde_mm512_maskz_inserti64x4(SIMDE_MUNIT_TEST_ARGS) {
  const struct {
    simde__mmask8 k;
    simde__m512i a;
    simde__m256i b;
    simde__m512i r0;
    simde__m512i r1;
  } test_vec[8] = {
    { UINT8_C( 46),
      simde_mm512_set_epi64(INT64_C(-4408197122649025847), INT64_C(  624651997750430240),
                            INT64_C(-3688244718601593553), INT64_C( 4693564151120802069),
                            INT64_C( 7940316924786767481), INT64_C( 6743600876828439814),
                            INT64_C( 8561828216572109007), INT64_C(-8315109086095518889)),
      simde_mm256_set_epi64x(INT64_C( 4477375336277674053), INT64_C( 1282248710630285123),
                             INT64_C( 6638105739971879812), INT64_C(-8038098956427236545)),
      simde_mm512_set_epi64(INT64_C(                   0), INT64_C(                   0),
                            INT64_C(-3688244718601593553), INT64_C(                   0),
                            INT64_C( 4477375336277674053), INT64_C( 1282248710630285123),
                            INT64_C( 6638105739971879812), INT64_C(                   0)),
      simde_mm512_set_epi64(INT64_C(                   0), INT64_C(                   0),
                            INT64_C( 6638105739971879812), INT64_C(                   0),
                            INT64_C( 7940316924786767481), INT64_C( 6743600876828439814),
                            INT64_C( 8561828216572109007), INT64_C(                   0)) },
    { UINT8_C(251),
      simde_mm512_set_epi64(INT64_C(-8749971605870264899), INT64_C( 1212032624670585453),
                            INT64_C(  728623586565902494), INT64_C( 4873652658109514141),
                            INT64_C(-4767707706458520415), INT64_C(-7083171014951853588),
                            INT64_C(-2076988212358998594), INT64_C( 3698505898575972461)),
      simde_mm256_set_epi64x(INT64_C( 7350668077567080689), INT64_C( 8478919882954811661),
                             INT64_C(-3394066222784588743), INT64_C(-5009306653852991983)),
      simde_mm512_set_epi64(INT64_C(-8749971605870264899), INT64_C( 1212032624670585453),
                            INT64_C(  728623586565902494), INT64_C( 4873652658109514141),
                            INT64_C( 7350668077567080689), INT64_C(                   0),
                            INT64_C(-3394066222784588743), INT64_C(-5009306653852991983)),
      simde_mm512_set_epi64(INT64_C( 7350668077567080689), INT64_C( 8478919882954811661),
                            INT64_C(-3394066222784588743), INT64_C(-5009306653852991983),
                            INT64_C(-4767707706458520415), INT64_C(                   0),
                            INT64_C(-2076988212358998594), INT64_C( 3698505898575972461)) },
    { UINT8_C(185),
      simde_mm512_set_epi64(INT64_C( 7391005387705442660), INT64_C(-5091463632259113685),
                            INT64_C(  685405269785004780), INT64_C(-2602517860068074949),
                            INT64_C( 4704994953943345443), INT64_C( 8877610218385468208),
                            INT64_C( 5776984527519295337), INT64_C( 6526937450820584225)),
      simde_mm256_set_epi64x(INT64_C( -855682284319457684), INT64_C( 5906689130134529071),
                             INT64_C( 7251917267735594789), INT64_C(-5506395256633894325)),
      simde_mm512_set_epi64(INT64_C( 7391005387705442660), INT64_C(                   0),
                            INT64_C(  685405269785004780), INT64_C(-2602517860068074949),
                            INT64_C( -855682284319457684), INT64_C(                   0),
                            INT64_C(                   0), INT64_C(-5506395256633894325)),
      simde_mm512_set_epi64(INT64_C( -855682284319457684), INT64_C(                   0),
                            INT64_C( 7251917267735594789), INT64_C(-5506395256633894325),
                            INT64_C( 4704994953943345443), INT64_C(                   0),
                            INT64_C(                   0), INT64_C( 6526937450820584225)) },
    { UINT8_C( 23),
      simde_mm512_set_epi64(INT64_C( 5406280044045291975), INT64_C(-2284955492954404973),
                            INT64_C(-3603637419527123210), INT64_C(-1117409850830928520),
                            INT64_C(-1414228054518303181), INT64_C(-3038909907977133732),
                            INT64_C(-7842471790453318316), INT64_C(-7256600765093102205)),
      simde_mm256_set_epi64x(INT64_C( 1455933536394832297), INT64_C( -840828676201867557),
                             INT64_C( 6310833464661060096), INT64_C( 8429580363859954742)),
      simde_mm512_set_epi64(INT64_C(                   0), INT64_C(                   0),
                            INT64_C(                   0), INT64_C(-1117409850830928520),
                            INT64_C(                   0), INT64_C( -840828676201867557),
                            INT64_C( 6310833464661060096), INT64_C( 8429580363859954742)),
      simde_mm512_set_epi64(INT64_C(                   0), INT64_C(                   0),
                            INT64_C(                   0), INT64_C( 8429580363859954742),
                            INT64_C(                   0), INT64_C(-3038909907977133732),
                            INT64_C(-7842471790453318316), INT64_C(-7256600765093102205)) },
    { UINT8_C(248),
      simde_mm512_set_epi64(INT64_C( 6555696811272222802), INT64_C( -751557688731444383),
                            INT64_C( 5324069355912068288), INT64_C( 5226578984858504214),
                            INT64_C(-8776157931044543560), INT64_C(-1848672680316222475),
                            INT64_C( 1658167909352451238), INT64_C(  377173394815185621)),
      simde_mm256_set_epi64x(INT64_C(-4444585746033374017), INT64_C( 7620312646179506248),
                             INT64_C(-4730811392556899367), INT64_C(-7555925455226975890)),
      simde_mm512_set_epi64(INT64_C( 6555696811272222802), INT64_C( -751557688731444383),
                            INT64_C( 5324069355912068288), INT64_C( 5226578984858504214),
                            INT64_C(-4444585746033374017), INT64_C(                   0),
                            INT64_C(                   0), INT64_C(                   0)),
      simde_mm512_set_epi64(INT64_C(-4444585746033374017), INT64_C( 7620312646179506248),
                            INT64_C(-4730811392556899367), INT64_C(-7555925455226975890),
                            INT64_C(-8776157931044543560), INT64_C(                   0),
                            INT64_C(                   0), INT64_C(                   0)) },
    { UINT8_C(161),
      simde_mm512_set_epi64(INT64_C( 3171924723684651500), INT64_C( 1941135797030545610),
                            INT64_C( 1935432241277000941), INT64_C( 5390015454023535429),
                            INT64_C(  -49705421380794940), INT64_C( 3138707856740708121),
                            INT64_C(-4673519228421997952), INT64_C(-1556073591389999033)),
      simde_mm256_set_epi64x(INT64_C( 5042844271761388948), INT64_C(  877966720713550779),
                             INT64_C(-8757547308289839577), INT64_C( 6619480224799141474)),
      simde_mm512_set_epi64(INT64_C( 3171924723684651500), INT64_C(                   0),
                            INT64_C( 1935432241277000941), INT64_C(                   0),
                            INT64_C(                   0), INT64_C(                   0),
                            INT64_C(                   0), INT64_C( 6619480224799141474)),
      simde_mm512_set_epi64(INT64_C( 5042844271761388948), INT64_C(                   0),
                            INT64_C(-8757547308289839577), INT64_C(                   0),
                            INT64_C(                   0), INT64_C(                   0),
                            INT64_C(                   0), INT64_C(-1556073591389999033)) },
    { UINT8_C(203),
      simde_mm512_set_epi64(INT64_C(-9199851098963784696), INT64_C( 5640400914757694451),
                            INT64_C( 3288787407719188513), INT64_C( 6167294471968879452),
                            INT64_C(-8553143016080257248), INT64_C( 1191725626053358671),
                            INT64_C( 2560034487176803702), INT64_C(-4340183042637127984)),
      simde_mm256_set_epi64x(INT64_C(-2975358417486477451), INT64_C( 5974528986311566652),
                             INT64_C( 4798128784982043356), INT64_C(-3663239326212228984)),
      simde_mm512_set_epi64(INT64_C(-9199851098963784696), INT64_C( 5640400914757694451),
                            INT64_C(                   0), INT64_C(                   0),
                            INT64_C(-2975358417486477451), INT64_C(                   0),
                            INT64_C( 4798128784982043356), INT64_C(-3663239326212228984)),
      simde_mm512_set_epi64(INT64_C(-2975358417486477451), INT64_C( 5974528986311566652),
                            INT64_C(                   0), INT64_C(                   0),
                            INT64_C(-8553143016080257248), INT64_C(                   0),
                            INT64_C( 2560034487176803702), INT64_C(-4340183042637127984)) },
    { UINT8_C(101),
      simde_mm512_set_epi64(INT64_C( 9010665687833774732), INT64_C( 8345237253505115478),
                            INT64_C(-9124175189821182113), INT64_C( 3058208134496233888),
                            INT64_C( 7286481320132913626), INT64_C( -777692308098335861),
                            INT64_C( 8727238559278288416), INT64_C(-2736507802934917164)),
      simde_mm256_set_epi64x(INT64_C(  -35491302857917892), INT64_C( 3617223551823391274),
                             INT64_C(-6488944280908793938), INT64_C( 6206969247155195640)),
      simde_mm512_set_epi64(INT64_C(                   0), INT64_C( 8345237253505115478),
                            INT64_C(-9124175189821182113), INT64_C(                   0),
                            INT64_C(                   0), INT64_C( 3617223551823391274),
                            INT64_C(                   0), INT64_C( 6206969247155195640)),
      simde_mm512_set_epi64(INT64_C(                   0), INT64_C( 3617223551823391274),
                            INT64_C(-6488944280908793938), INT64_C(                   0),
                            INT64_C(                   0), INT64_C( -777692308098335861),
                            INT64_C(                   0), INT64_C(-2736507802934917164)) },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])); i++) {
    simde__m512i r;
    r = simde_mm512_maskz_inserti64x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 0);
    simde_assert_m512i_i64(r, ==, test_vec[i].r0);
    r = simde_mm512_maskz_inserti64x4(test_vec[i].k, test_vec[i].a, test_vec[i].b, 1);
    simde_assert_m512i_i64(r, ==, test_vec[i].r1);
  }

  return 0;
}

static int
test_simde_mm512_insertf32x8 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const float a[16];
    const float b[8];
    const int imm8;
    const float r[16];
  } test_vec[] = {
    { { SIMDE_FLOAT32_C(   271.14), SIMDE_FLOAT32_C(    18.39), SIMDE_FLOAT32_C(   871.18), SIMDE_FLOAT32_C(   355.90),
        SIMDE_FLOAT32_C(    81.96), SIMDE_FLOAT32_C(   592.94), SIMDE_FLOAT32_C(  -897.62), SIMDE_FLOAT32_C(   426.38),
        SIMDE_FLOAT32_C(  -120.60), SIMDE_FLOAT32_C(   937.95), SIMDE_FLOAT32_C(  -237.51), SIMDE_FLOAT32_C(   297.24),
        SIMDE_FLOAT32_C(   534.31), SIMDE_FLOAT32_C(  -905.98), SIMDE_FLOAT32_C(  -347.43), SIMDE_FLOAT32_C(  -998.14) },
      { SIMDE_FLOAT32_C(  -710.19), SIMDE_FLOAT32_C(   440.86), SIMDE_FLOAT32_C(  -892.51), SIMDE_FLOAT32_C(  -459.34),
        SIMDE_FLOAT32_C(   515.39), SIMDE_FLOAT32_C(   869.24), SIMDE_FLOAT32_C(  -556.25), SIMDE_FLOAT32_C(   169.39) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(  -710.19), SIMDE_FLOAT32_C(   440.86), SIMDE_FLOAT32_C(  -892.51), SIMDE_FLOAT32_C(  -459.34),
        SIMDE_FLOAT32_C(   515.39), SIMDE_FLOAT32_C(   869.24), SIMDE_FLOAT32_C(  -556.25), SIMDE_FLOAT32_C(   169.39),
        SIMDE_FLOAT32_C(  -120.60), SIMDE_FLOAT32_C(   937.95), SIMDE_FLOAT32_C(  -237.51), SIMDE_FLOAT32_C(   297.24),
        SIMDE_FLOAT32_C(   534.31), SIMDE_FLOAT32_C(  -905.98), SIMDE_FLOAT32_C(  -347.43), SIMDE_FLOAT32_C(  -998.14) } },
    { { SIMDE_FLOAT32_C(   829.09), SIMDE_FLOAT32_C(  -352.06), SIMDE_FLOAT32_C(  -145.19), SIMDE_FLOAT32_C(   875.46),
        SIMDE_FLOAT32_C(   -70.44), SIMDE_FLOAT32_C(  -187.99), SIMDE_FLOAT32_C(   146.60), SIMDE_FLOAT32_C(   947.95),
        SIMDE_FLOAT32_C(  -316.81), SIMDE_FLOAT32_C(  -497.50), SIMDE_FLOAT32_C(    29.90), SIMDE_FLOAT32_C(  -723.88),
        SIMDE_FLOAT32_C(  -395.12), SIMDE_FLOAT32_C(  -543.72), SIMDE_FLOAT32_C(   155.53), SIMDE_FLOAT32_C(  -457.17) },
      { SIMDE_FLOAT32_C(   218.77), SIMDE_FLOAT32_C(  -547.23), SIMDE_FLOAT32_C(  -922.86), SIMDE_FLOAT32_C(   312.79),
        SIMDE_FLOAT32_C(   105.34), SIMDE_FLOAT32_C(  -921.00), SIMDE_FLOAT32_C(   602.61), SIMDE_FLOAT32_C(  -453.80) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(   829.09), SIMDE_FLOAT32_C(  -352.06), SIMDE_FLOAT32_C(  -145.19), SIMDE_FLOAT32_C(   875.46),
        SIMDE_FLOAT32_C(   -70.44), SIMDE_FLOAT32_C(  -187.99), SIMDE_FLOAT32_C(   146.60), SIMDE_FLOAT32_C(   947.95),
        SIMDE_FLOAT32_C(   218.77), SIMDE_FLOAT32_C(  -547.23), SIMDE_FLOAT32_C(  -922.86), SIMDE_FLOAT32_C(   312.79),
        SIMDE_FLOAT32_C(   105.34), SIMDE_FLOAT32_C(  -921.00), SIMDE_FLOAT32_C(   602.61), SIMDE_FLOAT32_C(  -453.80) } },
    { { SIMDE_FLOAT32_C(  -856.74), SIMDE_FLOAT32_C(  -938.42), SIMDE_FLOAT32_C(  -944.27), SIMDE_FLOAT32_C(  -412.99),
        SIMDE_FLOAT32_C(   230.98), SIMDE_FLOAT32_C(  -594.73), SIMDE_FLOAT32_C(  -583.90), SIMDE_FLOAT32_C(   878.92),
        SIMDE_FLOAT32_C(   260.08), SIMDE_FLOAT32_C(  -708.44), SIMDE_FLOAT32_C(  -191.52), SIMDE_FLOAT32_C(  -927.90),
        SIMDE_FLOAT32_C(   438.16), SIMDE_FLOAT32_C(  -243.58), SIMDE_FLOAT32_C(  -244.72), SIMDE_FLOAT32_C(   940.66) },
      { SIMDE_FLOAT32_C(   786.33), SIMDE_FLOAT32_C(    31.41), SIMDE_FLOAT32_C(  -454.46), SIMDE_FLOAT32_C(  -757.39),
        SIMDE_FLOAT32_C(  -813.07), SIMDE_FLOAT32_C(    88.38), SIMDE_FLOAT32_C(   461.38), SIMDE_FLOAT32_C(  -360.30) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -856.74), SIMDE_FLOAT32_C(  -938.42), SIMDE_FLOAT32_C(  -944.27), SIMDE_FLOAT32_C(  -412.99),
        SIMDE_FLOAT32_C(   230.98), SIMDE_FLOAT32_C(  -594.73), SIMDE_FLOAT32_C(  -583.90), SIMDE_FLOAT32_C(   878.92),
        SIMDE_FLOAT32_C(   786.33), SIMDE_FLOAT32_C(    31.41), SIMDE_FLOAT32_C(  -454.46), SIMDE_FLOAT32_C(  -757.39),
        SIMDE_FLOAT32_C(  -813.07), SIMDE_FLOAT32_C(    88.38), SIMDE_FLOAT32_C(   461.38), SIMDE_FLOAT32_C(  -360.30) } },
    { { SIMDE_FLOAT32_C(  -225.83), SIMDE_FLOAT32_C(   745.04), SIMDE_FLOAT32_C(   244.52), SIMDE_FLOAT32_C(  -623.22),
        SIMDE_FLOAT32_C(  -708.77), SIMDE_FLOAT32_C(   431.01), SIMDE_FLOAT32_C(  -479.96), SIMDE_FLOAT32_C(  -647.18),
        SIMDE_FLOAT32_C(   486.74), SIMDE_FLOAT32_C(   107.05), SIMDE_FLOAT32_C(   583.79), SIMDE_FLOAT32_C(   892.01),
        SIMDE_FLOAT32_C(   523.15), SIMDE_FLOAT32_C(   462.71), SIMDE_FLOAT32_C(   152.10), SIMDE_FLOAT32_C(   814.72) },
      { SIMDE_FLOAT32_C(  -728.81), SIMDE_FLOAT32_C(   224.19), SIMDE_FLOAT32_C(   252.88), SIMDE_FLOAT32_C(    27.62),
        SIMDE_FLOAT32_C(   979.48), SIMDE_FLOAT32_C(   193.54), SIMDE_FLOAT32_C(  -186.06), SIMDE_FLOAT32_C(    10.88) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -225.83), SIMDE_FLOAT32_C(   745.04), SIMDE_FLOAT32_C(   244.52), SIMDE_FLOAT32_C(  -623.22),
        SIMDE_FLOAT32_C(  -708.77), SIMDE_FLOAT32_C(   431.01), SIMDE_FLOAT32_C(  -479.96), SIMDE_FLOAT32_C(  -647.18),
        SIMDE_FLOAT32_C(  -728.81), SIMDE_FLOAT32_C(   224.19), SIMDE_FLOAT32_C(   252.88), SIMDE_FLOAT32_C(    27.62),
        SIMDE_FLOAT32_C(   979.48), SIMDE_FLOAT32_C(   193.54), SIMDE_FLOAT32_C(  -186.06), SIMDE_FLOAT32_C(    10.88) } },
    { { SIMDE_FLOAT32_C(    56.55), SIMDE_FLOAT32_C(   197.82), SIMDE_FLOAT32_C(  -172.54), SIMDE_FLOAT32_C(  -482.07),
        SIMDE_FLOAT32_C(   837.52), SIMDE_FLOAT32_C(   992.97), SIMDE_FLOAT32_C(   292.10), SIMDE_FLOAT32_C(   582.56),
        SIMDE_FLOAT32_C(   237.49), SIMDE_FLOAT32_C(   668.88), SIMDE_FLOAT32_C(   873.79), SIMDE_FLOAT32_C(  -331.50),
        SIMDE_FLOAT32_C(  -811.08), SIMDE_FLOAT32_C(  -773.40), SIMDE_FLOAT32_C(  -844.75), SIMDE_FLOAT32_C(   295.97) },
      { SIMDE_FLOAT32_C(   810.40), SIMDE_FLOAT32_C(  -952.74), SIMDE_FLOAT32_C(  -180.87), SIMDE_FLOAT32_C(   273.11),
        SIMDE_FLOAT32_C(   199.36), SIMDE_FLOAT32_C(  -366.16), SIMDE_FLOAT32_C(   544.30), SIMDE_FLOAT32_C(  -576.45) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(   810.40), SIMDE_FLOAT32_C(  -952.74), SIMDE_FLOAT32_C(  -180.87), SIMDE_FLOAT32_C(   273.11),
        SIMDE_FLOAT32_C(   199.36), SIMDE_FLOAT32_C(  -366.16), SIMDE_FLOAT32_C(   544.30), SIMDE_FLOAT32_C(  -576.45),
        SIMDE_FLOAT32_C(   237.49), SIMDE_FLOAT32_C(   668.88), SIMDE_FLOAT32_C(   873.79), SIMDE_FLOAT32_C(  -331.50),
        SIMDE_FLOAT32_C(  -811.08), SIMDE_FLOAT32_C(  -773.40), SIMDE_FLOAT32_C(  -844.75), SIMDE_FLOAT32_C(   295.97) } },
    { { SIMDE_FLOAT32_C(  -428.09), SIMDE_FLOAT32_C(  -596.98), SIMDE_FLOAT32_C(    80.26), SIMDE_FLOAT32_C(   385.86),
        SIMDE_FLOAT32_C(   413.91), SIMDE_FLOAT32_C(  -180.65), SIMDE_FLOAT32_C(  -557.59), SIMDE_FLOAT32_C(  -388.27),
        SIMDE_FLOAT32_C(   646.80), SIMDE_FLOAT32_C(   -39.67), SIMDE_FLOAT32_C(  -550.75), SIMDE_FLOAT32_C(   639.78),
        SIMDE_FLOAT32_C(  -747.57), SIMDE_FLOAT32_C(  -968.20), SIMDE_FLOAT32_C(  -122.73), SIMDE_FLOAT32_C(   921.31) },
      { SIMDE_FLOAT32_C(   905.59), SIMDE_FLOAT32_C(   545.77), SIMDE_FLOAT32_C(  -889.77), SIMDE_FLOAT32_C(  -867.81),
        SIMDE_FLOAT32_C(   701.02), SIMDE_FLOAT32_C(   406.20), SIMDE_FLOAT32_C(   942.59), SIMDE_FLOAT32_C(   748.28) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -428.09), SIMDE_FLOAT32_C(  -596.98), SIMDE_FLOAT32_C(    80.26), SIMDE_FLOAT32_C(   385.86),
        SIMDE_FLOAT32_C(   413.91), SIMDE_FLOAT32_C(  -180.65), SIMDE_FLOAT32_C(  -557.59), SIMDE_FLOAT32_C(  -388.27),
        SIMDE_FLOAT32_C(   905.59), SIMDE_FLOAT32_C(   545.77), SIMDE_FLOAT32_C(  -889.77), SIMDE_FLOAT32_C(  -867.81),
        SIMDE_FLOAT32_C(   701.02), SIMDE_FLOAT32_C(   406.20), SIMDE_FLOAT32_C(   942.59), SIMDE_FLOAT32_C(   748.28) } },
    { { SIMDE_FLOAT32_C(   215.70), SIMDE_FLOAT32_C(   -52.36), SIMDE_FLOAT32_C(  -140.83), SIMDE_FLOAT32_C(  -240.00),
        SIMDE_FLOAT32_C(   371.19), SIMDE_FLOAT32_C(  -254.11), SIMDE_FLOAT32_C(   331.91), SIMDE_FLOAT32_C(   774.21),
        SIMDE_FLOAT32_C(   826.16), SIMDE_FLOAT32_C(  -282.23), SIMDE_FLOAT32_C(   188.12), SIMDE_FLOAT32_C(  -354.50),
        SIMDE_FLOAT32_C(   160.18), SIMDE_FLOAT32_C(   799.85), SIMDE_FLOAT32_C(  -707.70), SIMDE_FLOAT32_C(  -879.49) },
      { SIMDE_FLOAT32_C(  -750.91), SIMDE_FLOAT32_C(   932.08), SIMDE_FLOAT32_C(  -627.06), SIMDE_FLOAT32_C(  -719.11),
        SIMDE_FLOAT32_C(  -190.65), SIMDE_FLOAT32_C(  -705.75), SIMDE_FLOAT32_C(  -813.52), SIMDE_FLOAT32_C(  -644.88) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(  -750.91), SIMDE_FLOAT32_C(   932.08), SIMDE_FLOAT32_C(  -627.06), SIMDE_FLOAT32_C(  -719.11),
        SIMDE_FLOAT32_C(  -190.65), SIMDE_FLOAT32_C(  -705.75), SIMDE_FLOAT32_C(  -813.52), SIMDE_FLOAT32_C(  -644.88),
        SIMDE_FLOAT32_C(   826.16), SIMDE_FLOAT32_C(  -282.23), SIMDE_FLOAT32_C(   188.12), SIMDE_FLOAT32_C(  -354.50),
        SIMDE_FLOAT32_C(   160.18), SIMDE_FLOAT32_C(   799.85), SIMDE_FLOAT32_C(  -707.70), SIMDE_FLOAT32_C(  -879.49) } },
    { { SIMDE_FLOAT32_C(  -681.33), SIMDE_FLOAT32_C(  -943.86), SIMDE_FLOAT32_C(   810.67), SIMDE_FLOAT32_C(  -738.74),
        SIMDE_FLOAT32_C(   804.43), SIMDE_FLOAT32_C(  -964.00), SIMDE_FLOAT32_C(   476.96), SIMDE_FLOAT32_C(  -247.93),
        SIMDE_FLOAT32_C(  -104.83), SIMDE_FLOAT32_C(  -763.04), SIMDE_FLOAT32_C(  -876.74), SIMDE_FLOAT32_C(   641.06),
        SIMDE_FLOAT32_C(   568.88), SIMDE_FLOAT32_C(   897.47), SIMDE_FLOAT32_C(   467.22), SIMDE_FLOAT32_C(  -713.35) },
      { SIMDE_FLOAT32_C(    85.59), SIMDE_FLOAT32_C(  -887.28), SIMDE_FLOAT32_C(   446.83), SIMDE_FLOAT32_C(  -114.57),
        SIMDE_FLOAT32_C(  -594.98), SIMDE_FLOAT32_C(   567.34), SIMDE_FLOAT32_C(   134.53), SIMDE_FLOAT32_C(  -662.90) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(    85.59), SIMDE_FLOAT32_C(  -887.28), SIMDE_FLOAT32_C(   446.83), SIMDE_FLOAT32_C(  -114.57),
        SIMDE_FLOAT32_C(  -594.98), SIMDE_FLOAT32_C(   567.34), SIMDE_FLOAT32_C(   134.53), SIMDE_FLOAT32_C(  -662.90),
        SIMDE_FLOAT32_C(  -104.83), SIMDE_FLOAT32_C(  -763.04), SIMDE_FLOAT32_C(  -876.74), SIMDE_FLOAT32_C(   641.06),
        SIMDE_FLOAT32_C(   568.88), SIMDE_FLOAT32_C(   897.47), SIMDE_FLOAT32_C(   467.22), SIMDE_FLOAT32_C(  -713.35) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512 a = simde_mm512_loadu_ps(test_vec[i].a);
    simde__m256 b = simde_mm256_loadu_ps(test_vec[i].b);
    simde__m512 r;
    SIMDE_CONSTIFY_2_(simde_mm512_insertf32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_ps ()), test_vec[i].imm8, a, b);
    simde_assert_m512_close(r, simde_mm512_loadu_ps(test_vec[i].r), 1);
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512 a = simde_test_x86_random_f32x16(SIMDE_FLOAT32_C(-1000.0), SIMDE_FLOAT32_C(1000.0));
    simde__m256 b = simde_test_x86_random_f32x8(SIMDE_FLOAT32_C(-1000.0), SIMDE_FLOAT32_C(1000.0));
    int imm8 = simde_test_codegen_rand() & 0x01;
    simde__m512 r;
    SIMDE_CONSTIFY_2_(simde_mm512_insertf32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_ps ()), imm8, a,b);

    simde_test_x86_write_f32x16(2, a, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_f32x8(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_mask_insertf32x8 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const float src[16];
    const simde__mmask16 k;
    const float a[16];
    const float b[8];
    const int imm8;
    const float r[16];
  } test_vec[] = {
    { { SIMDE_FLOAT32_C(   300.07), SIMDE_FLOAT32_C(   599.54), SIMDE_FLOAT32_C(   320.34), SIMDE_FLOAT32_C(   698.39),
        SIMDE_FLOAT32_C(  -154.22), SIMDE_FLOAT32_C(   545.10), SIMDE_FLOAT32_C(  -362.33), SIMDE_FLOAT32_C(   372.62),
        SIMDE_FLOAT32_C(   310.62), SIMDE_FLOAT32_C(   581.56), SIMDE_FLOAT32_C(  -243.70), SIMDE_FLOAT32_C(  -403.69),
        SIMDE_FLOAT32_C(   557.59), SIMDE_FLOAT32_C(   483.93), SIMDE_FLOAT32_C(  -282.13), SIMDE_FLOAT32_C(  -505.82) },
      UINT16_C( 8020),
      { SIMDE_FLOAT32_C(  -127.75), SIMDE_FLOAT32_C(  -168.03), SIMDE_FLOAT32_C(  -732.28), SIMDE_FLOAT32_C(   695.43),
        SIMDE_FLOAT32_C(  -514.09), SIMDE_FLOAT32_C(  -190.91), SIMDE_FLOAT32_C(   412.65), SIMDE_FLOAT32_C(   -54.40),
        SIMDE_FLOAT32_C(  -121.77), SIMDE_FLOAT32_C(   733.43), SIMDE_FLOAT32_C(   245.21), SIMDE_FLOAT32_C(   596.14),
        SIMDE_FLOAT32_C(  -710.34), SIMDE_FLOAT32_C(  -454.72), SIMDE_FLOAT32_C(   195.68), SIMDE_FLOAT32_C(   610.00) },
      { SIMDE_FLOAT32_C(  -756.33), SIMDE_FLOAT32_C(  -958.54), SIMDE_FLOAT32_C(   155.10), SIMDE_FLOAT32_C(  -118.66),
        SIMDE_FLOAT32_C(   414.08), SIMDE_FLOAT32_C(  -534.29), SIMDE_FLOAT32_C(  -537.10), SIMDE_FLOAT32_C(  -829.62) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(   300.07), SIMDE_FLOAT32_C(   599.54), SIMDE_FLOAT32_C(  -732.28), SIMDE_FLOAT32_C(   698.39),
        SIMDE_FLOAT32_C(  -514.09), SIMDE_FLOAT32_C(   545.10), SIMDE_FLOAT32_C(   412.65), SIMDE_FLOAT32_C(   372.62),
        SIMDE_FLOAT32_C(  -756.33), SIMDE_FLOAT32_C(  -958.54), SIMDE_FLOAT32_C(   155.10), SIMDE_FLOAT32_C(  -118.66),
        SIMDE_FLOAT32_C(   414.08), SIMDE_FLOAT32_C(   483.93), SIMDE_FLOAT32_C(  -282.13), SIMDE_FLOAT32_C(  -505.82) } },
    { { SIMDE_FLOAT32_C(  -979.51), SIMDE_FLOAT32_C(   654.31), SIMDE_FLOAT32_C(   779.88), SIMDE_FLOAT32_C(  -485.33),
        SIMDE_FLOAT32_C(   358.06), SIMDE_FLOAT32_C(   -67.37), SIMDE_FLOAT32_C(   386.93), SIMDE_FLOAT32_C(  -809.96),
        SIMDE_FLOAT32_C(   200.35), SIMDE_FLOAT32_C(    82.36), SIMDE_FLOAT32_C(  -324.06), SIMDE_FLOAT32_C(  -990.56),
        SIMDE_FLOAT32_C(  -504.99), SIMDE_FLOAT32_C(   621.55), SIMDE_FLOAT32_C(  -112.32), SIMDE_FLOAT32_C(  -771.56) },
      UINT16_C(31134),
      { SIMDE_FLOAT32_C(  -481.90), SIMDE_FLOAT32_C(   412.03), SIMDE_FLOAT32_C(   679.49), SIMDE_FLOAT32_C(  -871.91),
        SIMDE_FLOAT32_C(   655.70), SIMDE_FLOAT32_C(   720.95), SIMDE_FLOAT32_C(   283.19), SIMDE_FLOAT32_C(  -462.96),
        SIMDE_FLOAT32_C(   135.03), SIMDE_FLOAT32_C(   748.90), SIMDE_FLOAT32_C(    -0.06), SIMDE_FLOAT32_C(   305.41),
        SIMDE_FLOAT32_C(  -189.08), SIMDE_FLOAT32_C(    20.43), SIMDE_FLOAT32_C(   -40.27), SIMDE_FLOAT32_C(  -409.19) },
      { SIMDE_FLOAT32_C(   535.10), SIMDE_FLOAT32_C(  -682.21), SIMDE_FLOAT32_C(   523.44), SIMDE_FLOAT32_C(   -77.97),
        SIMDE_FLOAT32_C(  -492.17), SIMDE_FLOAT32_C(  -276.21), SIMDE_FLOAT32_C(  -995.62), SIMDE_FLOAT32_C(   183.77) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -979.51), SIMDE_FLOAT32_C(   412.03), SIMDE_FLOAT32_C(   679.49), SIMDE_FLOAT32_C(  -871.91),
        SIMDE_FLOAT32_C(   655.70), SIMDE_FLOAT32_C(   -67.37), SIMDE_FLOAT32_C(   386.93), SIMDE_FLOAT32_C(  -462.96),
        SIMDE_FLOAT32_C(   535.10), SIMDE_FLOAT32_C(    82.36), SIMDE_FLOAT32_C(  -324.06), SIMDE_FLOAT32_C(   -77.97),
        SIMDE_FLOAT32_C(  -492.17), SIMDE_FLOAT32_C(  -276.21), SIMDE_FLOAT32_C(  -995.62), SIMDE_FLOAT32_C(  -771.56) } },
    { { SIMDE_FLOAT32_C(  -500.61), SIMDE_FLOAT32_C(  -194.68), SIMDE_FLOAT32_C(   620.91), SIMDE_FLOAT32_C(  -272.17),
        SIMDE_FLOAT32_C(   672.07), SIMDE_FLOAT32_C(  -895.27), SIMDE_FLOAT32_C(   245.92), SIMDE_FLOAT32_C(    84.11),
        SIMDE_FLOAT32_C(   784.22), SIMDE_FLOAT32_C(   374.02), SIMDE_FLOAT32_C(  -260.19), SIMDE_FLOAT32_C(   505.17),
        SIMDE_FLOAT32_C(  -342.79), SIMDE_FLOAT32_C(   276.85), SIMDE_FLOAT32_C(  -359.80), SIMDE_FLOAT32_C(  -593.89) },
      UINT16_C(41694),
      { SIMDE_FLOAT32_C(   217.03), SIMDE_FLOAT32_C(   297.23), SIMDE_FLOAT32_C(   -94.66), SIMDE_FLOAT32_C(   807.84),
        SIMDE_FLOAT32_C(  -167.67), SIMDE_FLOAT32_C(   223.13), SIMDE_FLOAT32_C(   331.28), SIMDE_FLOAT32_C(   754.36),
        SIMDE_FLOAT32_C(   730.96), SIMDE_FLOAT32_C(  -944.93), SIMDE_FLOAT32_C(   758.74), SIMDE_FLOAT32_C(   -85.27),
        SIMDE_FLOAT32_C(  -211.69), SIMDE_FLOAT32_C(  -741.87), SIMDE_FLOAT32_C(   720.05), SIMDE_FLOAT32_C(  -590.78) },
      { SIMDE_FLOAT32_C(   -14.04), SIMDE_FLOAT32_C(   392.12), SIMDE_FLOAT32_C(  -486.06), SIMDE_FLOAT32_C(  -768.12),
        SIMDE_FLOAT32_C(  -523.78), SIMDE_FLOAT32_C(  -701.84), SIMDE_FLOAT32_C(   605.90), SIMDE_FLOAT32_C(   216.03) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -500.61), SIMDE_FLOAT32_C(   297.23), SIMDE_FLOAT32_C(   -94.66), SIMDE_FLOAT32_C(   807.84),
        SIMDE_FLOAT32_C(  -167.67), SIMDE_FLOAT32_C(  -895.27), SIMDE_FLOAT32_C(   331.28), SIMDE_FLOAT32_C(   754.36),
        SIMDE_FLOAT32_C(   784.22), SIMDE_FLOAT32_C(   392.12), SIMDE_FLOAT32_C(  -260.19), SIMDE_FLOAT32_C(   505.17),
        SIMDE_FLOAT32_C(  -342.79), SIMDE_FLOAT32_C(  -701.84), SIMDE_FLOAT32_C(  -359.80), SIMDE_FLOAT32_C(   216.03) } },
    { { SIMDE_FLOAT32_C(  -736.89), SIMDE_FLOAT32_C(  -507.11), SIMDE_FLOAT32_C(  -556.47), SIMDE_FLOAT32_C(  -330.78),
        SIMDE_FLOAT32_C(  -230.32), SIMDE_FLOAT32_C(  -610.86), SIMDE_FLOAT32_C(   886.26), SIMDE_FLOAT32_C(  -933.09),
        SIMDE_FLOAT32_C(   294.48), SIMDE_FLOAT32_C(   694.09), SIMDE_FLOAT32_C(  -100.77), SIMDE_FLOAT32_C(  -482.39),
        SIMDE_FLOAT32_C(    25.37), SIMDE_FLOAT32_C(  -346.41), SIMDE_FLOAT32_C(  -751.43), SIMDE_FLOAT32_C(    80.44) },
      UINT16_C(21804),
      { SIMDE_FLOAT32_C(   868.75), SIMDE_FLOAT32_C(  -329.54), SIMDE_FLOAT32_C(  -116.65), SIMDE_FLOAT32_C(  -722.03),
        SIMDE_FLOAT32_C(   656.41), SIMDE_FLOAT32_C(  -724.53), SIMDE_FLOAT32_C(  -208.09), SIMDE_FLOAT32_C(   888.29),
        SIMDE_FLOAT32_C(  -248.30), SIMDE_FLOAT32_C(    90.07), SIMDE_FLOAT32_C(   494.19), SIMDE_FLOAT32_C(   967.73),
        SIMDE_FLOAT32_C(  -106.60), SIMDE_FLOAT32_C(   757.30), SIMDE_FLOAT32_C(  -539.38), SIMDE_FLOAT32_C(   336.93) },
      { SIMDE_FLOAT32_C(  -573.48), SIMDE_FLOAT32_C(   230.30), SIMDE_FLOAT32_C(   726.07), SIMDE_FLOAT32_C(  -687.22),
        SIMDE_FLOAT32_C(   297.20), SIMDE_FLOAT32_C(    20.55), SIMDE_FLOAT32_C(  -993.12), SIMDE_FLOAT32_C(  -803.56) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -736.89), SIMDE_FLOAT32_C(  -507.11), SIMDE_FLOAT32_C(  -116.65), SIMDE_FLOAT32_C(  -722.03),
        SIMDE_FLOAT32_C(  -230.32), SIMDE_FLOAT32_C(  -724.53), SIMDE_FLOAT32_C(   886.26), SIMDE_FLOAT32_C(  -933.09),
        SIMDE_FLOAT32_C(  -573.48), SIMDE_FLOAT32_C(   694.09), SIMDE_FLOAT32_C(   726.07), SIMDE_FLOAT32_C(  -482.39),
        SIMDE_FLOAT32_C(   297.20), SIMDE_FLOAT32_C(  -346.41), SIMDE_FLOAT32_C(  -993.12), SIMDE_FLOAT32_C(    80.44) } },
    { { SIMDE_FLOAT32_C(    32.25), SIMDE_FLOAT32_C(  -149.97), SIMDE_FLOAT32_C(   786.73), SIMDE_FLOAT32_C(  -887.31),
        SIMDE_FLOAT32_C(   262.36), SIMDE_FLOAT32_C(   -49.96), SIMDE_FLOAT32_C(   981.44), SIMDE_FLOAT32_C(   932.81),
        SIMDE_FLOAT32_C(   833.39), SIMDE_FLOAT32_C(  -740.60), SIMDE_FLOAT32_C(   589.23), SIMDE_FLOAT32_C(  -891.13),
        SIMDE_FLOAT32_C(    51.31), SIMDE_FLOAT32_C(   477.52), SIMDE_FLOAT32_C(  -139.44), SIMDE_FLOAT32_C(  -858.62) },
      UINT16_C(34568),
      { SIMDE_FLOAT32_C(    34.78), SIMDE_FLOAT32_C(  -270.98), SIMDE_FLOAT32_C(   288.91), SIMDE_FLOAT32_C(  -628.29),
        SIMDE_FLOAT32_C(   155.54), SIMDE_FLOAT32_C(  -480.79), SIMDE_FLOAT32_C(  -902.22), SIMDE_FLOAT32_C(   468.32),
        SIMDE_FLOAT32_C(   816.42), SIMDE_FLOAT32_C(   118.32), SIMDE_FLOAT32_C(   475.20), SIMDE_FLOAT32_C(  -987.15),
        SIMDE_FLOAT32_C(  -343.52), SIMDE_FLOAT32_C(  -492.56), SIMDE_FLOAT32_C(  -137.12), SIMDE_FLOAT32_C(  -556.78) },
      { SIMDE_FLOAT32_C(  -379.87), SIMDE_FLOAT32_C(  -874.76), SIMDE_FLOAT32_C(   393.26), SIMDE_FLOAT32_C(  -398.43),
        SIMDE_FLOAT32_C(  -941.95), SIMDE_FLOAT32_C(   226.65), SIMDE_FLOAT32_C(  -139.02), SIMDE_FLOAT32_C(   647.28) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(    32.25), SIMDE_FLOAT32_C(  -149.97), SIMDE_FLOAT32_C(   786.73), SIMDE_FLOAT32_C(  -398.43),
        SIMDE_FLOAT32_C(   262.36), SIMDE_FLOAT32_C(   -49.96), SIMDE_FLOAT32_C(   981.44), SIMDE_FLOAT32_C(   932.81),
        SIMDE_FLOAT32_C(   816.42), SIMDE_FLOAT32_C(   118.32), SIMDE_FLOAT32_C(   475.20), SIMDE_FLOAT32_C(  -891.13),
        SIMDE_FLOAT32_C(    51.31), SIMDE_FLOAT32_C(   477.52), SIMDE_FLOAT32_C(  -139.44), SIMDE_FLOAT32_C(  -556.78) } },
    { { SIMDE_FLOAT32_C(   912.29), SIMDE_FLOAT32_C(   124.80), SIMDE_FLOAT32_C(  -803.92), SIMDE_FLOAT32_C(  -946.32),
        SIMDE_FLOAT32_C(  -903.49), SIMDE_FLOAT32_C(    24.37), SIMDE_FLOAT32_C(    88.46), SIMDE_FLOAT32_C(  -174.48),
        SIMDE_FLOAT32_C(  -686.71), SIMDE_FLOAT32_C(   460.17), SIMDE_FLOAT32_C(   981.06), SIMDE_FLOAT32_C(  -167.50),
        SIMDE_FLOAT32_C(   557.95), SIMDE_FLOAT32_C(   449.38), SIMDE_FLOAT32_C(  -351.08), SIMDE_FLOAT32_C(  -323.73) },
      UINT16_C(35670),
      { SIMDE_FLOAT32_C(   332.76), SIMDE_FLOAT32_C(   432.03), SIMDE_FLOAT32_C(   524.65), SIMDE_FLOAT32_C(   775.98),
        SIMDE_FLOAT32_C(  -947.84), SIMDE_FLOAT32_C(   649.89), SIMDE_FLOAT32_C(   169.23), SIMDE_FLOAT32_C(  -346.27),
        SIMDE_FLOAT32_C(   707.94), SIMDE_FLOAT32_C(  -604.12), SIMDE_FLOAT32_C(   514.71), SIMDE_FLOAT32_C(   355.22),
        SIMDE_FLOAT32_C(   731.40), SIMDE_FLOAT32_C(   427.00), SIMDE_FLOAT32_C(  -519.99), SIMDE_FLOAT32_C(   927.48) },
      { SIMDE_FLOAT32_C(   480.68), SIMDE_FLOAT32_C(  -423.48), SIMDE_FLOAT32_C(   -48.15), SIMDE_FLOAT32_C(  -430.86),
        SIMDE_FLOAT32_C(   402.04), SIMDE_FLOAT32_C(   265.14), SIMDE_FLOAT32_C(  -970.69), SIMDE_FLOAT32_C(   383.11) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(   912.29), SIMDE_FLOAT32_C(  -423.48), SIMDE_FLOAT32_C(   -48.15), SIMDE_FLOAT32_C(  -946.32),
        SIMDE_FLOAT32_C(   402.04), SIMDE_FLOAT32_C(    24.37), SIMDE_FLOAT32_C(  -970.69), SIMDE_FLOAT32_C(  -174.48),
        SIMDE_FLOAT32_C(   707.94), SIMDE_FLOAT32_C(  -604.12), SIMDE_FLOAT32_C(   981.06), SIMDE_FLOAT32_C(   355.22),
        SIMDE_FLOAT32_C(   557.95), SIMDE_FLOAT32_C(   449.38), SIMDE_FLOAT32_C(  -351.08), SIMDE_FLOAT32_C(   927.48) } },
    { { SIMDE_FLOAT32_C(   587.26), SIMDE_FLOAT32_C(  -167.51), SIMDE_FLOAT32_C(  -253.44), SIMDE_FLOAT32_C(  -736.47),
        SIMDE_FLOAT32_C(   757.07), SIMDE_FLOAT32_C(   408.33), SIMDE_FLOAT32_C(   596.29), SIMDE_FLOAT32_C(   189.10),
        SIMDE_FLOAT32_C(   -67.02), SIMDE_FLOAT32_C(   372.27), SIMDE_FLOAT32_C(   241.26), SIMDE_FLOAT32_C(  -417.13),
        SIMDE_FLOAT32_C(  -458.50), SIMDE_FLOAT32_C(   894.99), SIMDE_FLOAT32_C(  -709.19), SIMDE_FLOAT32_C(   -62.62) },
      UINT16_C(15641),
      { SIMDE_FLOAT32_C(  -331.22), SIMDE_FLOAT32_C(  -163.29), SIMDE_FLOAT32_C(  -873.96), SIMDE_FLOAT32_C(  -403.74),
        SIMDE_FLOAT32_C(  -682.61), SIMDE_FLOAT32_C(  -297.44), SIMDE_FLOAT32_C(   548.11), SIMDE_FLOAT32_C(  -113.47),
        SIMDE_FLOAT32_C(  -895.39), SIMDE_FLOAT32_C(  -186.75), SIMDE_FLOAT32_C(   -84.16), SIMDE_FLOAT32_C(   487.72),
        SIMDE_FLOAT32_C(   -89.11), SIMDE_FLOAT32_C(  -496.90), SIMDE_FLOAT32_C(  -679.79), SIMDE_FLOAT32_C(   657.44) },
      { SIMDE_FLOAT32_C(  -233.36), SIMDE_FLOAT32_C(  -922.72), SIMDE_FLOAT32_C(    65.77), SIMDE_FLOAT32_C(  -637.07),
        SIMDE_FLOAT32_C(   266.38), SIMDE_FLOAT32_C(   998.75), SIMDE_FLOAT32_C(   735.20), SIMDE_FLOAT32_C(  -492.36) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -331.22), SIMDE_FLOAT32_C(  -167.51), SIMDE_FLOAT32_C(  -253.44), SIMDE_FLOAT32_C(  -403.74),
        SIMDE_FLOAT32_C(  -682.61), SIMDE_FLOAT32_C(   408.33), SIMDE_FLOAT32_C(   596.29), SIMDE_FLOAT32_C(   189.10),
        SIMDE_FLOAT32_C(  -233.36), SIMDE_FLOAT32_C(   372.27), SIMDE_FLOAT32_C(    65.77), SIMDE_FLOAT32_C(  -637.07),
        SIMDE_FLOAT32_C(   266.38), SIMDE_FLOAT32_C(   998.75), SIMDE_FLOAT32_C(  -709.19), SIMDE_FLOAT32_C(   -62.62) } },
    { { SIMDE_FLOAT32_C(  -723.30), SIMDE_FLOAT32_C(  -597.36), SIMDE_FLOAT32_C(  -127.56), SIMDE_FLOAT32_C(   214.08),
        SIMDE_FLOAT32_C(   812.34), SIMDE_FLOAT32_C(  -481.53), SIMDE_FLOAT32_C(   882.87), SIMDE_FLOAT32_C(  -350.95),
        SIMDE_FLOAT32_C(  -355.49), SIMDE_FLOAT32_C(  -520.87), SIMDE_FLOAT32_C(   -33.57), SIMDE_FLOAT32_C(   347.07),
        SIMDE_FLOAT32_C(  -972.76), SIMDE_FLOAT32_C(   852.96), SIMDE_FLOAT32_C(   451.68), SIMDE_FLOAT32_C(  -159.52) },
      UINT16_C(34915),
      { SIMDE_FLOAT32_C(   751.37), SIMDE_FLOAT32_C(   271.91), SIMDE_FLOAT32_C(   259.61), SIMDE_FLOAT32_C(   408.81),
        SIMDE_FLOAT32_C(  -961.46), SIMDE_FLOAT32_C(   336.90), SIMDE_FLOAT32_C(  -525.42), SIMDE_FLOAT32_C(  -598.53),
        SIMDE_FLOAT32_C(  -396.72), SIMDE_FLOAT32_C(  -526.66), SIMDE_FLOAT32_C(  -863.33), SIMDE_FLOAT32_C(   110.92),
        SIMDE_FLOAT32_C(    54.96), SIMDE_FLOAT32_C(  -586.63), SIMDE_FLOAT32_C(   513.56), SIMDE_FLOAT32_C(   927.40) },
      { SIMDE_FLOAT32_C(   627.45), SIMDE_FLOAT32_C(   325.90), SIMDE_FLOAT32_C(  -554.13), SIMDE_FLOAT32_C(   510.32),
        SIMDE_FLOAT32_C(   974.95), SIMDE_FLOAT32_C(    90.38), SIMDE_FLOAT32_C(   989.45), SIMDE_FLOAT32_C(   -58.62) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(   751.37), SIMDE_FLOAT32_C(   271.91), SIMDE_FLOAT32_C(  -127.56), SIMDE_FLOAT32_C(   214.08),
        SIMDE_FLOAT32_C(   812.34), SIMDE_FLOAT32_C(   336.90), SIMDE_FLOAT32_C(  -525.42), SIMDE_FLOAT32_C(  -350.95),
        SIMDE_FLOAT32_C(  -355.49), SIMDE_FLOAT32_C(  -520.87), SIMDE_FLOAT32_C(   -33.57), SIMDE_FLOAT32_C(   510.32),
        SIMDE_FLOAT32_C(  -972.76), SIMDE_FLOAT32_C(   852.96), SIMDE_FLOAT32_C(   451.68), SIMDE_FLOAT32_C(   -58.62) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512 src = simde_mm512_loadu_ps(test_vec[i].src);
    simde__m512 a = simde_mm512_loadu_ps(test_vec[i].a);
    simde__m256 b = simde_mm256_loadu_ps(test_vec[i].b);
    simde__m512 r; 
    SIMDE_CONSTIFY_2_(simde_mm512_mask_insertf32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_ps ()), test_vec[i].imm8 ,src, test_vec[i].k , a, b);
    simde_assert_m512_close(r, simde_mm512_loadu_ps(test_vec[i].r), 1);
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512 src = simde_test_x86_random_f32x16(SIMDE_FLOAT32_C(-1000.0), SIMDE_FLOAT32_C(1000.0));
    simde__mmask16 k = simde_test_x86_random_mmask16();
    simde__m512 a = simde_test_x86_random_f32x16(SIMDE_FLOAT32_C(-1000.0), SIMDE_FLOAT32_C(1000.0));
    simde__m256 b = simde_test_x86_random_f32x8(SIMDE_FLOAT32_C(-1000.0), SIMDE_FLOAT32_C(1000.0));
    int imm8 = simde_test_codegen_rand() & 0x01;
    simde__m512 r;
    SIMDE_CONSTIFY_2_(simde_mm512_mask_insertf32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_ps ()), imm8, src, k, a, b);
    simde_test_x86_write_f32x16(2, src, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_mmask16(2, k, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f32x16(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f32x8(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_maskz_insertf32x8 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde__mmask16 k;
    const float a[16];
    const float b[8];
    const int imm8;
    const float r[16];
  } test_vec[] = {
    { UINT16_C(57288),
      { SIMDE_FLOAT32_C(   806.34), SIMDE_FLOAT32_C(   897.43), SIMDE_FLOAT32_C(   825.27), SIMDE_FLOAT32_C(   331.34),
        SIMDE_FLOAT32_C(   452.51), SIMDE_FLOAT32_C(   233.49), SIMDE_FLOAT32_C(   372.02), SIMDE_FLOAT32_C(   428.47),
        SIMDE_FLOAT32_C(   372.19), SIMDE_FLOAT32_C(   758.73), SIMDE_FLOAT32_C(   138.04), SIMDE_FLOAT32_C(  -758.75),
        SIMDE_FLOAT32_C(  -449.41), SIMDE_FLOAT32_C(   860.85), SIMDE_FLOAT32_C(    30.97), SIMDE_FLOAT32_C(   268.02) },
      { SIMDE_FLOAT32_C(  -699.80), SIMDE_FLOAT32_C(   630.69), SIMDE_FLOAT32_C(  -975.74), SIMDE_FLOAT32_C(  -883.44),
        SIMDE_FLOAT32_C(  -726.56), SIMDE_FLOAT32_C(  -485.41), SIMDE_FLOAT32_C(   700.53), SIMDE_FLOAT32_C(   658.83) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   331.34),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   372.02), SIMDE_FLOAT32_C(   428.47),
        SIMDE_FLOAT32_C(  -699.80), SIMDE_FLOAT32_C(   630.69), SIMDE_FLOAT32_C(  -975.74), SIMDE_FLOAT32_C(  -883.44),
        SIMDE_FLOAT32_C(  -726.56), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   700.53), SIMDE_FLOAT32_C(   658.83) } },
    { UINT16_C(43443),
      { SIMDE_FLOAT32_C(  -243.08), SIMDE_FLOAT32_C(  -892.20), SIMDE_FLOAT32_C(  -900.56), SIMDE_FLOAT32_C(   508.10),
        SIMDE_FLOAT32_C(   914.14), SIMDE_FLOAT32_C(   996.87), SIMDE_FLOAT32_C(   333.37), SIMDE_FLOAT32_C(   245.48),
        SIMDE_FLOAT32_C(   449.38), SIMDE_FLOAT32_C(  -433.14), SIMDE_FLOAT32_C(  -382.50), SIMDE_FLOAT32_C(  -122.15),
        SIMDE_FLOAT32_C(   939.05), SIMDE_FLOAT32_C(  -623.77), SIMDE_FLOAT32_C(  -984.11), SIMDE_FLOAT32_C(  -819.70) },
      { SIMDE_FLOAT32_C(   -73.18), SIMDE_FLOAT32_C(   876.74), SIMDE_FLOAT32_C(   211.27), SIMDE_FLOAT32_C(  -805.15),
        SIMDE_FLOAT32_C(  -823.06), SIMDE_FLOAT32_C(  -158.04), SIMDE_FLOAT32_C(  -780.89), SIMDE_FLOAT32_C(  -706.50) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(   -73.18), SIMDE_FLOAT32_C(   876.74), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(  -823.06), SIMDE_FLOAT32_C(  -158.04), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -706.50),
        SIMDE_FLOAT32_C(   449.38), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -122.15),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -623.77), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -819.70) } },
    { UINT16_C(57896),
      { SIMDE_FLOAT32_C(  -225.77), SIMDE_FLOAT32_C(   167.24), SIMDE_FLOAT32_C(   880.92), SIMDE_FLOAT32_C(   491.13),
        SIMDE_FLOAT32_C(   924.16), SIMDE_FLOAT32_C(   988.73), SIMDE_FLOAT32_C(   590.57), SIMDE_FLOAT32_C(   432.27),
        SIMDE_FLOAT32_C(   902.87), SIMDE_FLOAT32_C(   587.43), SIMDE_FLOAT32_C(  -234.36), SIMDE_FLOAT32_C(   148.35),
        SIMDE_FLOAT32_C(    36.81), SIMDE_FLOAT32_C(   332.50), SIMDE_FLOAT32_C(   765.85), SIMDE_FLOAT32_C(   914.66) },
      { SIMDE_FLOAT32_C(   271.55), SIMDE_FLOAT32_C(  -857.92), SIMDE_FLOAT32_C(   930.55), SIMDE_FLOAT32_C(   451.85),
        SIMDE_FLOAT32_C(    68.91), SIMDE_FLOAT32_C(   807.28), SIMDE_FLOAT32_C(  -336.88), SIMDE_FLOAT32_C(   263.75) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   491.13),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   988.73), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -857.92), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   807.28), SIMDE_FLOAT32_C(  -336.88), SIMDE_FLOAT32_C(   263.75) } },
    { UINT16_C( 4413),
      { SIMDE_FLOAT32_C(  -722.28), SIMDE_FLOAT32_C(  -379.52), SIMDE_FLOAT32_C(  -783.44), SIMDE_FLOAT32_C(  -728.26),
        SIMDE_FLOAT32_C(   394.71), SIMDE_FLOAT32_C(   383.81), SIMDE_FLOAT32_C(  -847.34), SIMDE_FLOAT32_C(  -114.16),
        SIMDE_FLOAT32_C(   307.97), SIMDE_FLOAT32_C(  -858.61), SIMDE_FLOAT32_C(  -523.60), SIMDE_FLOAT32_C(  -259.77),
        SIMDE_FLOAT32_C(  -955.75), SIMDE_FLOAT32_C(  -936.17), SIMDE_FLOAT32_C(   505.87), SIMDE_FLOAT32_C(   192.60) },
      { SIMDE_FLOAT32_C(   100.64), SIMDE_FLOAT32_C(  -161.63), SIMDE_FLOAT32_C(   -41.55), SIMDE_FLOAT32_C(    15.30),
        SIMDE_FLOAT32_C(  -890.09), SIMDE_FLOAT32_C(   100.53), SIMDE_FLOAT32_C(   -54.15), SIMDE_FLOAT32_C(   561.76) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(  -722.28), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -783.44), SIMDE_FLOAT32_C(  -728.26),
        SIMDE_FLOAT32_C(   394.71), SIMDE_FLOAT32_C(   383.81), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(   100.64), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(  -890.09), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00) } },
    { UINT16_C(58307),
      { SIMDE_FLOAT32_C(   433.19), SIMDE_FLOAT32_C(  -262.65), SIMDE_FLOAT32_C(   729.96), SIMDE_FLOAT32_C(   -83.94),
        SIMDE_FLOAT32_C(    15.06), SIMDE_FLOAT32_C(  -649.56), SIMDE_FLOAT32_C(   132.62), SIMDE_FLOAT32_C(   286.80),
        SIMDE_FLOAT32_C(   745.15), SIMDE_FLOAT32_C(  -483.57), SIMDE_FLOAT32_C(   439.46), SIMDE_FLOAT32_C(  -369.01),
        SIMDE_FLOAT32_C(   824.39), SIMDE_FLOAT32_C(   580.85), SIMDE_FLOAT32_C(   107.39), SIMDE_FLOAT32_C(  -435.37) },
      { SIMDE_FLOAT32_C(   625.10), SIMDE_FLOAT32_C(   171.22), SIMDE_FLOAT32_C(  -929.50), SIMDE_FLOAT32_C(  -182.30),
        SIMDE_FLOAT32_C(  -728.14), SIMDE_FLOAT32_C(   -91.13), SIMDE_FLOAT32_C(   776.15), SIMDE_FLOAT32_C(   287.17) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(   625.10), SIMDE_FLOAT32_C(   171.22), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   776.15), SIMDE_FLOAT32_C(   287.17),
        SIMDE_FLOAT32_C(   745.15), SIMDE_FLOAT32_C(  -483.57), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   580.85), SIMDE_FLOAT32_C(   107.39), SIMDE_FLOAT32_C(  -435.37) } },
    { UINT16_C(62034),
      { SIMDE_FLOAT32_C(  -419.46), SIMDE_FLOAT32_C(    46.13), SIMDE_FLOAT32_C(   -13.86), SIMDE_FLOAT32_C(  -194.58),
        SIMDE_FLOAT32_C(  -520.68), SIMDE_FLOAT32_C(   723.49), SIMDE_FLOAT32_C(  -464.61), SIMDE_FLOAT32_C(   395.38),
        SIMDE_FLOAT32_C(  -261.45), SIMDE_FLOAT32_C(  -114.17), SIMDE_FLOAT32_C(  -472.00), SIMDE_FLOAT32_C(  -974.64),
        SIMDE_FLOAT32_C(  -369.02), SIMDE_FLOAT32_C(    44.43), SIMDE_FLOAT32_C(   464.82), SIMDE_FLOAT32_C(   261.97) },
      { SIMDE_FLOAT32_C(  -131.18), SIMDE_FLOAT32_C(    45.66), SIMDE_FLOAT32_C(  -630.65), SIMDE_FLOAT32_C(   433.45),
        SIMDE_FLOAT32_C(  -329.24), SIMDE_FLOAT32_C(   540.57), SIMDE_FLOAT32_C(   503.95), SIMDE_FLOAT32_C(   488.47) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    46.13), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(  -520.68), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -464.61), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(    45.66), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(  -329.24), SIMDE_FLOAT32_C(   540.57), SIMDE_FLOAT32_C(   503.95), SIMDE_FLOAT32_C(   488.47) } },
    { UINT16_C( 8391),
      { SIMDE_FLOAT32_C(    99.60), SIMDE_FLOAT32_C(   431.59), SIMDE_FLOAT32_C(  -858.69), SIMDE_FLOAT32_C(   332.62),
        SIMDE_FLOAT32_C(  -987.87), SIMDE_FLOAT32_C(   187.43), SIMDE_FLOAT32_C(  -681.24), SIMDE_FLOAT32_C(  -182.44),
        SIMDE_FLOAT32_C(   666.76), SIMDE_FLOAT32_C(  -957.75), SIMDE_FLOAT32_C(   352.94), SIMDE_FLOAT32_C(    62.14),
        SIMDE_FLOAT32_C(  -219.20), SIMDE_FLOAT32_C(  -761.22), SIMDE_FLOAT32_C(   590.14), SIMDE_FLOAT32_C(  -193.84) },
      { SIMDE_FLOAT32_C(  -130.24), SIMDE_FLOAT32_C(  -365.43), SIMDE_FLOAT32_C(  -729.02), SIMDE_FLOAT32_C(  -868.28),
        SIMDE_FLOAT32_C(   503.39), SIMDE_FLOAT32_C(   316.64), SIMDE_FLOAT32_C(  -498.92), SIMDE_FLOAT32_C(   -63.16) },
       INT8_C(   1),
      { SIMDE_FLOAT32_C(    99.60), SIMDE_FLOAT32_C(   431.59), SIMDE_FLOAT32_C(  -858.69), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -681.24), SIMDE_FLOAT32_C(  -182.44),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(   316.64), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00) } },
    { UINT16_C(11730),
      { SIMDE_FLOAT32_C(   475.87), SIMDE_FLOAT32_C(   854.09), SIMDE_FLOAT32_C(  -146.40), SIMDE_FLOAT32_C(  -259.51),
        SIMDE_FLOAT32_C(   -46.31), SIMDE_FLOAT32_C(  -714.81), SIMDE_FLOAT32_C(  -118.21), SIMDE_FLOAT32_C(  -713.70),
        SIMDE_FLOAT32_C(  -702.68), SIMDE_FLOAT32_C(  -930.77), SIMDE_FLOAT32_C(  -394.94), SIMDE_FLOAT32_C(   114.88),
        SIMDE_FLOAT32_C(   735.98), SIMDE_FLOAT32_C(  -352.69), SIMDE_FLOAT32_C(  -532.18), SIMDE_FLOAT32_C(  -201.88) },
      { SIMDE_FLOAT32_C(   428.12), SIMDE_FLOAT32_C(  -293.40), SIMDE_FLOAT32_C(  -611.74), SIMDE_FLOAT32_C(  -765.72),
        SIMDE_FLOAT32_C(   576.35), SIMDE_FLOAT32_C(    22.82), SIMDE_FLOAT32_C(  -494.75), SIMDE_FLOAT32_C(   708.08) },
       INT8_C(   0),
      { SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -293.40), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00),
        SIMDE_FLOAT32_C(   576.35), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -494.75), SIMDE_FLOAT32_C(   708.08),
        SIMDE_FLOAT32_C(  -702.68), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -394.94), SIMDE_FLOAT32_C(   114.88),
        SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(  -352.69), SIMDE_FLOAT32_C(     0.00), SIMDE_FLOAT32_C(     0.00) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512 a = simde_mm512_loadu_ps(test_vec[i].a);
    simde__m256 b = simde_mm256_loadu_ps(test_vec[i].b);
    simde__m512 r;
    SIMDE_CONSTIFY_2_(simde_mm512_maskz_insertf32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_ps ()), test_vec[i].imm8 , test_vec[i].k , a, b);
    simde_assert_m512_close(r, simde_mm512_loadu_ps(test_vec[i].r), 1);
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__mmask16 k = simde_test_x86_random_mmask16();
    simde__m512 a = simde_test_x86_random_f32x16(SIMDE_FLOAT32_C(-1000.0), SIMDE_FLOAT32_C(1000.0));
    simde__m256 b = simde_test_x86_random_f32x8(SIMDE_FLOAT32_C(-1000.0), SIMDE_FLOAT32_C(1000.0));
    int imm8 = simde_test_codegen_rand() & 0x01;
    simde__m512 r;
    SIMDE_CONSTIFY_2_(simde_mm512_maskz_insertf32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_ps ()), imm8, k, a, b);

    simde_test_x86_write_mmask16(2, k, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_f32x16(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f32x8(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_insertf64x2 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde_float64 a[8];
    const simde_float64 b[2];
    const int imm8;
    const simde_float64 r[8];
  } test_vec[] = {
    { { SIMDE_FLOAT64_C(   323.23), SIMDE_FLOAT64_C(  -198.84), SIMDE_FLOAT64_C(   274.51), SIMDE_FLOAT64_C(   893.18),
        SIMDE_FLOAT64_C(  -795.95), SIMDE_FLOAT64_C(   650.94), SIMDE_FLOAT64_C(  -308.83), SIMDE_FLOAT64_C(   190.12) },
      { SIMDE_FLOAT64_C(  -807.59), SIMDE_FLOAT64_C(   247.88) },
       INT8_C(   0),
      { SIMDE_FLOAT64_C(  -807.59), SIMDE_FLOAT64_C(   247.88), SIMDE_FLOAT64_C(   274.51), SIMDE_FLOAT64_C(   893.18),
        SIMDE_FLOAT64_C(  -795.95), SIMDE_FLOAT64_C(   650.94), SIMDE_FLOAT64_C(  -308.83), SIMDE_FLOAT64_C(   190.12) } },
    { { SIMDE_FLOAT64_C(   492.09), SIMDE_FLOAT64_C(    62.93), SIMDE_FLOAT64_C(   590.35), SIMDE_FLOAT64_C(   310.79),
        SIMDE_FLOAT64_C(  -698.12), SIMDE_FLOAT64_C(   853.26), SIMDE_FLOAT64_C(  -196.77), SIMDE_FLOAT64_C(  -784.30) },
      { SIMDE_FLOAT64_C(   -76.52), SIMDE_FLOAT64_C(   412.09) },
       INT8_C(   3),
      { SIMDE_FLOAT64_C(   492.09), SIMDE_FLOAT64_C(    62.93), SIMDE_FLOAT64_C(   590.35), SIMDE_FLOAT64_C(   310.79),
        SIMDE_FLOAT64_C(  -698.12), SIMDE_FLOAT64_C(   853.26), SIMDE_FLOAT64_C(   -76.52), SIMDE_FLOAT64_C(   412.09) } },
    { { SIMDE_FLOAT64_C(   561.99), SIMDE_FLOAT64_C(  -579.79), SIMDE_FLOAT64_C(  -237.94), SIMDE_FLOAT64_C(   528.40),
        SIMDE_FLOAT64_C(   235.55), SIMDE_FLOAT64_C(   153.91), SIMDE_FLOAT64_C(   711.85), SIMDE_FLOAT64_C(  -889.98) },
      { SIMDE_FLOAT64_C(  -559.41), SIMDE_FLOAT64_C(    35.08) },
       INT8_C(   3),
      { SIMDE_FLOAT64_C(   561.99), SIMDE_FLOAT64_C(  -579.79), SIMDE_FLOAT64_C(  -237.94), SIMDE_FLOAT64_C(   528.40),
        SIMDE_FLOAT64_C(   235.55), SIMDE_FLOAT64_C(   153.91), SIMDE_FLOAT64_C(  -559.41), SIMDE_FLOAT64_C(    35.08) } },
    { { SIMDE_FLOAT64_C(   715.10), SIMDE_FLOAT64_C(   -71.73), SIMDE_FLOAT64_C(   115.22), SIMDE_FLOAT64_C(   366.04),
        SIMDE_FLOAT64_C(   619.44), SIMDE_FLOAT64_C(  -694.66), SIMDE_FLOAT64_C(   558.45), SIMDE_FLOAT64_C(  -132.68) },
      { SIMDE_FLOAT64_C(  -465.66), SIMDE_FLOAT64_C(    50.54) },
       INT8_C(   2),
      { SIMDE_FLOAT64_C(   715.10), SIMDE_FLOAT64_C(   -71.73), SIMDE_FLOAT64_C(   115.22), SIMDE_FLOAT64_C(   366.04),
        SIMDE_FLOAT64_C(  -465.66), SIMDE_FLOAT64_C(    50.54), SIMDE_FLOAT64_C(   558.45), SIMDE_FLOAT64_C(  -132.68) } },
    { { SIMDE_FLOAT64_C(  -875.31), SIMDE_FLOAT64_C(  -638.67), SIMDE_FLOAT64_C(  -767.87), SIMDE_FLOAT64_C(   977.96),
        SIMDE_FLOAT64_C(   164.56), SIMDE_FLOAT64_C(  -552.17), SIMDE_FLOAT64_C(   -98.56), SIMDE_FLOAT64_C(  -423.35) },
      { SIMDE_FLOAT64_C(   188.82), SIMDE_FLOAT64_C(  -536.57) },
       INT8_C(   3),
      { SIMDE_FLOAT64_C(  -875.31), SIMDE_FLOAT64_C(  -638.67), SIMDE_FLOAT64_C(  -767.87), SIMDE_FLOAT64_C(   977.96),
        SIMDE_FLOAT64_C(   164.56), SIMDE_FLOAT64_C(  -552.17), SIMDE_FLOAT64_C(   188.82), SIMDE_FLOAT64_C(  -536.57) } },
    { { SIMDE_FLOAT64_C(   950.87), SIMDE_FLOAT64_C(   991.83), SIMDE_FLOAT64_C(  -767.59), SIMDE_FLOAT64_C(   104.79),
        SIMDE_FLOAT64_C(   703.68), SIMDE_FLOAT64_C(  -657.57), SIMDE_FLOAT64_C(   545.38), SIMDE_FLOAT64_C(  -261.23) },
      { SIMDE_FLOAT64_C(   253.60), SIMDE_FLOAT64_C(   260.48) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(   950.87), SIMDE_FLOAT64_C(   991.83), SIMDE_FLOAT64_C(   253.60), SIMDE_FLOAT64_C(   260.48),
        SIMDE_FLOAT64_C(   703.68), SIMDE_FLOAT64_C(  -657.57), SIMDE_FLOAT64_C(   545.38), SIMDE_FLOAT64_C(  -261.23) } },
    { { SIMDE_FLOAT64_C(  -631.18), SIMDE_FLOAT64_C(  -373.48), SIMDE_FLOAT64_C(   286.47), SIMDE_FLOAT64_C(  -325.84),
        SIMDE_FLOAT64_C(  -815.03), SIMDE_FLOAT64_C(  -846.21), SIMDE_FLOAT64_C(   208.50), SIMDE_FLOAT64_C(   235.52) },
      { SIMDE_FLOAT64_C(  -915.96), SIMDE_FLOAT64_C(   333.19) },
       INT8_C(   0),
      { SIMDE_FLOAT64_C(  -915.96), SIMDE_FLOAT64_C(   333.19), SIMDE_FLOAT64_C(   286.47), SIMDE_FLOAT64_C(  -325.84),
        SIMDE_FLOAT64_C(  -815.03), SIMDE_FLOAT64_C(  -846.21), SIMDE_FLOAT64_C(   208.50), SIMDE_FLOAT64_C(   235.52) } },
    { { SIMDE_FLOAT64_C(  -683.83), SIMDE_FLOAT64_C(   311.15), SIMDE_FLOAT64_C(  -238.60), SIMDE_FLOAT64_C(  -235.99),
        SIMDE_FLOAT64_C(  -787.41), SIMDE_FLOAT64_C(   338.05), SIMDE_FLOAT64_C(   952.82), SIMDE_FLOAT64_C(  -323.98) },
      { SIMDE_FLOAT64_C(  -665.09), SIMDE_FLOAT64_C(   903.70) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(  -683.83), SIMDE_FLOAT64_C(   311.15), SIMDE_FLOAT64_C(  -665.09), SIMDE_FLOAT64_C(   903.70),
        SIMDE_FLOAT64_C(  -787.41), SIMDE_FLOAT64_C(   338.05), SIMDE_FLOAT64_C(   952.82), SIMDE_FLOAT64_C(  -323.98) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512d a = simde_mm512_loadu_pd(test_vec[i].a);
    simde__m128d b = simde_mm_loadu_pd(test_vec[i].b);
    simde__m512d r;
    SIMDE_CONSTIFY_4_(simde_mm512_insertf64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_pd ()), test_vec[i].imm8 , a, b);
    simde_test_x86_assert_equal_f64x8(r, simde_mm512_loadu_pd(test_vec[i].r), 1);
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512d a = simde_test_x86_random_f64x8(SIMDE_FLOAT64_C(-1000.0), SIMDE_FLOAT64_C(1000.0));
    simde__m128d b = simde_test_x86_random_f64x2(SIMDE_FLOAT64_C(-1000.0), SIMDE_FLOAT64_C(1000.0));
    int imm8 = simde_test_codegen_rand() & 0x03;
    simde__m512d r;
    SIMDE_CONSTIFY_4_(simde_mm512_insertf64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_pd ()), imm8, a, b);

    simde_test_x86_write_f64x8(2, a, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_f64x2(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f64x8(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_mask_insertf64x2 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde_float64 src[8];
    const simde__mmask8 k;
    const simde_float64 a[8];
    const simde_float64 b[2];
    const int imm8;
    const simde_float64 r[8];
  } test_vec[] = {
    { { SIMDE_FLOAT64_C(   256.34), SIMDE_FLOAT64_C(   747.94), SIMDE_FLOAT64_C(   266.88), SIMDE_FLOAT64_C(   -66.89),
        SIMDE_FLOAT64_C(  -416.66), SIMDE_FLOAT64_C(  -772.24), SIMDE_FLOAT64_C(   273.91), SIMDE_FLOAT64_C(  -962.42) },
      UINT8_C(156),
      { SIMDE_FLOAT64_C(  -532.76), SIMDE_FLOAT64_C(  -816.17), SIMDE_FLOAT64_C(  -934.67), SIMDE_FLOAT64_C(  -311.09),
        SIMDE_FLOAT64_C(   818.42), SIMDE_FLOAT64_C(  -932.58), SIMDE_FLOAT64_C(  -257.35), SIMDE_FLOAT64_C(  -839.88) },
      { SIMDE_FLOAT64_C(    87.61), SIMDE_FLOAT64_C(  -376.95) },
       INT8_C(   0),
      { SIMDE_FLOAT64_C(   256.34), SIMDE_FLOAT64_C(   747.94), SIMDE_FLOAT64_C(  -934.67), SIMDE_FLOAT64_C(  -311.09),
        SIMDE_FLOAT64_C(   818.42), SIMDE_FLOAT64_C(  -772.24), SIMDE_FLOAT64_C(   273.91), SIMDE_FLOAT64_C(  -839.88) } },
    { { SIMDE_FLOAT64_C(   158.81), SIMDE_FLOAT64_C(  -752.21), SIMDE_FLOAT64_C(  -609.68), SIMDE_FLOAT64_C(    85.45),
        SIMDE_FLOAT64_C(  -826.84), SIMDE_FLOAT64_C(   307.47), SIMDE_FLOAT64_C(   692.59), SIMDE_FLOAT64_C(   633.54) },
      UINT8_C(229),
      { SIMDE_FLOAT64_C(   663.79), SIMDE_FLOAT64_C(   716.89), SIMDE_FLOAT64_C(   451.12), SIMDE_FLOAT64_C(   411.73),
        SIMDE_FLOAT64_C(   -16.23), SIMDE_FLOAT64_C(  -615.77), SIMDE_FLOAT64_C(   995.08), SIMDE_FLOAT64_C(   211.54) },
      { SIMDE_FLOAT64_C(   658.15), SIMDE_FLOAT64_C(  -967.34) },
       INT8_C(   3),
      { SIMDE_FLOAT64_C(   663.79), SIMDE_FLOAT64_C(  -752.21), SIMDE_FLOAT64_C(   451.12), SIMDE_FLOAT64_C(    85.45),
        SIMDE_FLOAT64_C(  -826.84), SIMDE_FLOAT64_C(  -615.77), SIMDE_FLOAT64_C(   658.15), SIMDE_FLOAT64_C(  -967.34) } },
    { { SIMDE_FLOAT64_C(  -874.61), SIMDE_FLOAT64_C(  -783.51), SIMDE_FLOAT64_C(   974.87), SIMDE_FLOAT64_C(  -185.71),
        SIMDE_FLOAT64_C(  -965.09), SIMDE_FLOAT64_C(  -957.71), SIMDE_FLOAT64_C(   556.94), SIMDE_FLOAT64_C(  -804.97) },
      UINT8_C(171),
      { SIMDE_FLOAT64_C(  -820.00), SIMDE_FLOAT64_C(   -96.62), SIMDE_FLOAT64_C(  -711.28), SIMDE_FLOAT64_C(  -572.21),
        SIMDE_FLOAT64_C(   293.69), SIMDE_FLOAT64_C(   374.17), SIMDE_FLOAT64_C(  -399.05), SIMDE_FLOAT64_C(  -398.84) },
      { SIMDE_FLOAT64_C(    66.76), SIMDE_FLOAT64_C(  -765.51) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(  -820.00), SIMDE_FLOAT64_C(   -96.62), SIMDE_FLOAT64_C(   974.87), SIMDE_FLOAT64_C(  -765.51),
        SIMDE_FLOAT64_C(  -965.09), SIMDE_FLOAT64_C(   374.17), SIMDE_FLOAT64_C(   556.94), SIMDE_FLOAT64_C(  -398.84) } },
    { { SIMDE_FLOAT64_C(  -269.45), SIMDE_FLOAT64_C(   951.38), SIMDE_FLOAT64_C(  -752.94), SIMDE_FLOAT64_C(  -857.71),
        SIMDE_FLOAT64_C(   -64.85), SIMDE_FLOAT64_C(  -368.70), SIMDE_FLOAT64_C(  -862.64), SIMDE_FLOAT64_C(  -853.31) },
      UINT8_C(169),
      { SIMDE_FLOAT64_C(  -829.98), SIMDE_FLOAT64_C(  -943.77), SIMDE_FLOAT64_C(  -585.17), SIMDE_FLOAT64_C(  -613.49),
        SIMDE_FLOAT64_C(  -968.90), SIMDE_FLOAT64_C(   229.12), SIMDE_FLOAT64_C(  -578.58), SIMDE_FLOAT64_C(  -926.61) },
      { SIMDE_FLOAT64_C(  -213.94), SIMDE_FLOAT64_C(  -383.56) },
       INT8_C(   3),
      { SIMDE_FLOAT64_C(  -829.98), SIMDE_FLOAT64_C(   951.38), SIMDE_FLOAT64_C(  -752.94), SIMDE_FLOAT64_C(  -613.49),
        SIMDE_FLOAT64_C(   -64.85), SIMDE_FLOAT64_C(   229.12), SIMDE_FLOAT64_C(  -862.64), SIMDE_FLOAT64_C(  -383.56) } },
    { { SIMDE_FLOAT64_C(   -33.94), SIMDE_FLOAT64_C(   519.82), SIMDE_FLOAT64_C(   492.02), SIMDE_FLOAT64_C(   393.84),
        SIMDE_FLOAT64_C(  -186.49), SIMDE_FLOAT64_C(  -133.81), SIMDE_FLOAT64_C(   994.79), SIMDE_FLOAT64_C(   414.67) },
      UINT8_C( 38),
      { SIMDE_FLOAT64_C(  -770.72), SIMDE_FLOAT64_C(  -789.38), SIMDE_FLOAT64_C(  -336.49), SIMDE_FLOAT64_C(  -819.34),
        SIMDE_FLOAT64_C(  -542.32), SIMDE_FLOAT64_C(  -194.21), SIMDE_FLOAT64_C(   115.82), SIMDE_FLOAT64_C(    88.98) },
      { SIMDE_FLOAT64_C(   -56.84), SIMDE_FLOAT64_C(   262.51) },
       INT8_C(   2),
      { SIMDE_FLOAT64_C(   -33.94), SIMDE_FLOAT64_C(  -789.38), SIMDE_FLOAT64_C(  -336.49), SIMDE_FLOAT64_C(   393.84),
        SIMDE_FLOAT64_C(  -186.49), SIMDE_FLOAT64_C(   262.51), SIMDE_FLOAT64_C(   994.79), SIMDE_FLOAT64_C(   414.67) } },
    { { SIMDE_FLOAT64_C(   113.18), SIMDE_FLOAT64_C(   318.74), SIMDE_FLOAT64_C(   793.24), SIMDE_FLOAT64_C(   499.69),
        SIMDE_FLOAT64_C(   349.83), SIMDE_FLOAT64_C(    22.36), SIMDE_FLOAT64_C(   921.10), SIMDE_FLOAT64_C(   423.23) },
      UINT8_C(166),
      { SIMDE_FLOAT64_C(  -462.46), SIMDE_FLOAT64_C(  -373.47), SIMDE_FLOAT64_C(  -225.52), SIMDE_FLOAT64_C(  -942.64),
        SIMDE_FLOAT64_C(  -881.46), SIMDE_FLOAT64_C(  -831.67), SIMDE_FLOAT64_C(  -129.13), SIMDE_FLOAT64_C(   -15.27) },
      { SIMDE_FLOAT64_C(  -836.88), SIMDE_FLOAT64_C(  -714.46) },
       INT8_C(   2),
      { SIMDE_FLOAT64_C(   113.18), SIMDE_FLOAT64_C(  -373.47), SIMDE_FLOAT64_C(  -225.52), SIMDE_FLOAT64_C(   499.69),
        SIMDE_FLOAT64_C(   349.83), SIMDE_FLOAT64_C(  -714.46), SIMDE_FLOAT64_C(   921.10), SIMDE_FLOAT64_C(   -15.27) } },
    { { SIMDE_FLOAT64_C(  -607.60), SIMDE_FLOAT64_C(  -503.84), SIMDE_FLOAT64_C(   581.19), SIMDE_FLOAT64_C(  -426.93),
        SIMDE_FLOAT64_C(   -46.16), SIMDE_FLOAT64_C(  -613.02), SIMDE_FLOAT64_C(   688.89), SIMDE_FLOAT64_C(  -957.18) },
      UINT8_C( 69),
      { SIMDE_FLOAT64_C(   -48.61), SIMDE_FLOAT64_C(   421.23), SIMDE_FLOAT64_C(  -556.68), SIMDE_FLOAT64_C(  -729.87),
        SIMDE_FLOAT64_C(   214.48), SIMDE_FLOAT64_C(   943.00), SIMDE_FLOAT64_C(   619.96), SIMDE_FLOAT64_C(  -763.16) },
      { SIMDE_FLOAT64_C(   864.10), SIMDE_FLOAT64_C(    43.19) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(   -48.61), SIMDE_FLOAT64_C(  -503.84), SIMDE_FLOAT64_C(   864.10), SIMDE_FLOAT64_C(  -426.93),
        SIMDE_FLOAT64_C(   -46.16), SIMDE_FLOAT64_C(  -613.02), SIMDE_FLOAT64_C(   619.96), SIMDE_FLOAT64_C(  -957.18) } },
    { { SIMDE_FLOAT64_C(  -598.36), SIMDE_FLOAT64_C(   669.71), SIMDE_FLOAT64_C(  -180.25), SIMDE_FLOAT64_C(  -541.00),
        SIMDE_FLOAT64_C(   788.26), SIMDE_FLOAT64_C(   -11.92), SIMDE_FLOAT64_C(   329.87), SIMDE_FLOAT64_C(  -227.01) },
      UINT8_C(128),
      { SIMDE_FLOAT64_C(   615.42), SIMDE_FLOAT64_C(   690.67), SIMDE_FLOAT64_C(   543.60), SIMDE_FLOAT64_C(  -888.42),
        SIMDE_FLOAT64_C(   271.86), SIMDE_FLOAT64_C(  -883.33), SIMDE_FLOAT64_C(    65.42), SIMDE_FLOAT64_C(   658.84) },
      { SIMDE_FLOAT64_C(   805.56), SIMDE_FLOAT64_C(   108.23) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(  -598.36), SIMDE_FLOAT64_C(   669.71), SIMDE_FLOAT64_C(  -180.25), SIMDE_FLOAT64_C(  -541.00),
        SIMDE_FLOAT64_C(   788.26), SIMDE_FLOAT64_C(   -11.92), SIMDE_FLOAT64_C(   329.87), SIMDE_FLOAT64_C(   658.84) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512d src = simde_mm512_loadu_pd(test_vec[i].src);
    simde__m512d a = simde_mm512_loadu_pd(test_vec[i].a);
    simde__m128d b = simde_mm_loadu_pd(test_vec[i].b);
    simde__m512d r;
    SIMDE_CONSTIFY_4_(simde_mm512_mask_insertf64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_pd ()), test_vec[i].imm8, src, test_vec[i].k, a, b);
    simde_test_x86_assert_equal_f64x8(r, simde_mm512_loadu_pd(test_vec[i].r), 1);
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512d src = simde_test_x86_random_f64x8(SIMDE_FLOAT64_C(-1000.0), SIMDE_FLOAT64_C(1000.0));
    simde__mmask8 k = simde_test_x86_random_mmask8();
    simde__m512d a = simde_test_x86_random_f64x8(SIMDE_FLOAT64_C(-1000.0), SIMDE_FLOAT64_C(1000.0));
    simde__m128d b = simde_test_x86_random_f64x2(SIMDE_FLOAT64_C(-1000.0), SIMDE_FLOAT64_C(1000.0));
    int imm8 = simde_test_codegen_rand() & 0x03;
    simde__m512d r;
    SIMDE_CONSTIFY_4_(simde_mm512_mask_insertf64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_pd ()), imm8, src, k, a, b);

    simde_test_x86_write_f64x8(2, src, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_mmask8(2, k, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f64x8(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f64x2(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f64x8(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_maskz_insertf64x2 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde__mmask8 k;
    const simde_float64 a[8];
    const simde_float64 b[2];
    const int imm8;
    const simde_float64 r[8];
  } test_vec[] = {
    { UINT8_C(203),
      { SIMDE_FLOAT64_C(  -102.41), SIMDE_FLOAT64_C(  -984.50), SIMDE_FLOAT64_C(   378.83), SIMDE_FLOAT64_C(   671.25),
        SIMDE_FLOAT64_C(    70.43), SIMDE_FLOAT64_C(   739.49), SIMDE_FLOAT64_C(   560.20), SIMDE_FLOAT64_C(   853.15) },
      { SIMDE_FLOAT64_C(  -890.75), SIMDE_FLOAT64_C(   471.35) },
       INT8_C(   0),
      { SIMDE_FLOAT64_C(  -890.75), SIMDE_FLOAT64_C(   471.35), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(   671.25),
        SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(   560.20), SIMDE_FLOAT64_C(   853.15) } },
    { UINT8_C( 23),
      { SIMDE_FLOAT64_C(  -158.79), SIMDE_FLOAT64_C(  -502.09), SIMDE_FLOAT64_C(   -64.26), SIMDE_FLOAT64_C(   685.47),
        SIMDE_FLOAT64_C(   -11.74), SIMDE_FLOAT64_C(  -667.75), SIMDE_FLOAT64_C(  -737.68), SIMDE_FLOAT64_C(   408.47) },
      { SIMDE_FLOAT64_C(   266.07), SIMDE_FLOAT64_C(   988.14) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(  -158.79), SIMDE_FLOAT64_C(  -502.09), SIMDE_FLOAT64_C(   266.07), SIMDE_FLOAT64_C(     0.00),
        SIMDE_FLOAT64_C(   -11.74), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00) } },
    { UINT8_C( 15),
      { SIMDE_FLOAT64_C(   885.97), SIMDE_FLOAT64_C(   703.63), SIMDE_FLOAT64_C(  -645.51), SIMDE_FLOAT64_C(   -85.07),
        SIMDE_FLOAT64_C(  -833.84), SIMDE_FLOAT64_C(    40.04), SIMDE_FLOAT64_C(    30.47), SIMDE_FLOAT64_C(    63.75) },
      { SIMDE_FLOAT64_C(    55.54), SIMDE_FLOAT64_C(  -590.69) },
       INT8_C(   2),
      { SIMDE_FLOAT64_C(   885.97), SIMDE_FLOAT64_C(   703.63), SIMDE_FLOAT64_C(  -645.51), SIMDE_FLOAT64_C(   -85.07),
        SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00) } },
    { UINT8_C( 83),
      { SIMDE_FLOAT64_C(  -851.20), SIMDE_FLOAT64_C(  -704.81), SIMDE_FLOAT64_C(   979.12), SIMDE_FLOAT64_C(  -741.95),
        SIMDE_FLOAT64_C(   766.54), SIMDE_FLOAT64_C(  -423.03), SIMDE_FLOAT64_C(   639.69), SIMDE_FLOAT64_C(  -392.24) },
      { SIMDE_FLOAT64_C(    74.89), SIMDE_FLOAT64_C(  -424.57) },
       INT8_C(   3),
      { SIMDE_FLOAT64_C(  -851.20), SIMDE_FLOAT64_C(  -704.81), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00),
        SIMDE_FLOAT64_C(   766.54), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(    74.89), SIMDE_FLOAT64_C(     0.00) } },
    { UINT8_C(193),
      { SIMDE_FLOAT64_C(   -92.32), SIMDE_FLOAT64_C(  -444.45), SIMDE_FLOAT64_C(   471.62), SIMDE_FLOAT64_C(  -826.24),
        SIMDE_FLOAT64_C(  -456.31), SIMDE_FLOAT64_C(  -408.85), SIMDE_FLOAT64_C(  -263.04), SIMDE_FLOAT64_C(  -570.34) },
      { SIMDE_FLOAT64_C(  -705.22), SIMDE_FLOAT64_C(    91.45) },
       INT8_C(   2),
      { SIMDE_FLOAT64_C(   -92.32), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00),
        SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(  -263.04), SIMDE_FLOAT64_C(  -570.34) } },
    { UINT8_C(  5),
      { SIMDE_FLOAT64_C(  -868.52), SIMDE_FLOAT64_C(  -624.93), SIMDE_FLOAT64_C(   524.70), SIMDE_FLOAT64_C(   187.02),
        SIMDE_FLOAT64_C(  -215.63), SIMDE_FLOAT64_C(  -740.31), SIMDE_FLOAT64_C(   312.99), SIMDE_FLOAT64_C(   -66.83) },
      { SIMDE_FLOAT64_C(  -445.12), SIMDE_FLOAT64_C(   292.10) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(  -868.52), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(  -445.12), SIMDE_FLOAT64_C(     0.00),
        SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00) } },
    { UINT8_C(174),
      { SIMDE_FLOAT64_C(   869.07), SIMDE_FLOAT64_C(  -169.09), SIMDE_FLOAT64_C(   -70.82), SIMDE_FLOAT64_C(   -56.04),
        SIMDE_FLOAT64_C(   406.34), SIMDE_FLOAT64_C(   222.41), SIMDE_FLOAT64_C(     7.11), SIMDE_FLOAT64_C(  -685.98) },
      { SIMDE_FLOAT64_C(   777.96), SIMDE_FLOAT64_C(  -521.27) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(  -169.09), SIMDE_FLOAT64_C(   777.96), SIMDE_FLOAT64_C(  -521.27),
        SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(   222.41), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(  -685.98) } },
    { UINT8_C( 92),
      { SIMDE_FLOAT64_C(    69.88), SIMDE_FLOAT64_C(   224.74), SIMDE_FLOAT64_C(  -248.69), SIMDE_FLOAT64_C(   364.66),
        SIMDE_FLOAT64_C(  -683.82), SIMDE_FLOAT64_C(  -904.10), SIMDE_FLOAT64_C(   825.60), SIMDE_FLOAT64_C(  -552.33) },
      { SIMDE_FLOAT64_C(  -529.04), SIMDE_FLOAT64_C(   350.30) },
       INT8_C(   1),
      { SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(  -529.04), SIMDE_FLOAT64_C(   350.30),
        SIMDE_FLOAT64_C(  -683.82), SIMDE_FLOAT64_C(     0.00), SIMDE_FLOAT64_C(   825.60), SIMDE_FLOAT64_C(     0.00) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512d a = simde_mm512_loadu_pd(test_vec[i].a);
    simde__m128d b = simde_mm_loadu_pd(test_vec[i].b);
    simde__m512d r;
    SIMDE_CONSTIFY_4_(simde_mm512_maskz_insertf64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_pd ()), test_vec[i].imm8, test_vec[i].k, a, b);
    simde_test_x86_assert_equal_f64x8(r, simde_mm512_loadu_pd(test_vec[i].r), 1);
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__mmask8 k = simde_test_x86_random_mmask8();
    simde__m512d a = simde_test_x86_random_f64x8(SIMDE_FLOAT64_C(-1000.0), SIMDE_FLOAT64_C(1000.0));
    simde__m128d b = simde_test_x86_random_f64x2(SIMDE_FLOAT64_C(-1000.0), SIMDE_FLOAT64_C(1000.0));
    int imm8 = simde_test_codegen_rand() & 0x03;
    simde__m512d r;
    SIMDE_CONSTIFY_4_(simde_mm512_maskz_insertf64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_pd ()), imm8, k, a, b);

    simde_test_x86_write_mmask8(2, k, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_f64x8(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f64x2(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_f64x8(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_inserti32x8 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const int32_t a[16];
    const int32_t b[8];
    const int imm8;
    const int32_t r[16];
  } test_vec[] = {
    { { -INT32_C(  1918935898),  INT32_C(  1646012911), -INT32_C(  1672505785), -INT32_C(   322953844), -INT32_C(   193886883), -INT32_C(  1435658764),  INT32_C(   271866963), -INT32_C(   615049931),
         INT32_C(  1634268786),  INT32_C(  1724089631), -INT32_C(  1493036261), -INT32_C(  1902919120),  INT32_C(  1015153736), -INT32_C(   303566951), -INT32_C(  2130896053), -INT32_C(  1554295759) },
      {  INT32_C(  1761920074),  INT32_C(  1691338569),  INT32_C(   185389786), -INT32_C(   593911916),  INT32_C(  1025055652),  INT32_C(  1428815882),  INT32_C(  1289103387), -INT32_C(   940625540) },
       INT8_C(   1),
      { -INT32_C(  1918935898),  INT32_C(  1646012911), -INT32_C(  1672505785), -INT32_C(   322953844), -INT32_C(   193886883), -INT32_C(  1435658764),  INT32_C(   271866963), -INT32_C(   615049931),
         INT32_C(  1761920074),  INT32_C(  1691338569),  INT32_C(   185389786), -INT32_C(   593911916),  INT32_C(  1025055652),  INT32_C(  1428815882),  INT32_C(  1289103387), -INT32_C(   940625540) } },
    { { -INT32_C(  1153552141), -INT32_C(   761945344),  INT32_C(  1315348655),  INT32_C(  1425163065),  INT32_C(  1549676636), -INT32_C(  2106084262), -INT32_C(  1140865910), -INT32_C(  1481521485),
        -INT32_C(   161288202),  INT32_C(  1103689618), -INT32_C(   779079784), -INT32_C(   836337038),  INT32_C(   220890290), -INT32_C(  1030774472),  INT32_C(   427724389),  INT32_C(  1270886228) },
      { -INT32_C(  1321131490), -INT32_C(  1309537767), -INT32_C(  1417444807), -INT32_C(  1216763643),  INT32_C(  1724162861), -INT32_C(  1440197564),  INT32_C(   935569122), -INT32_C(   192773163) },
       INT8_C(   1),
      { -INT32_C(  1153552141), -INT32_C(   761945344),  INT32_C(  1315348655),  INT32_C(  1425163065),  INT32_C(  1549676636), -INT32_C(  2106084262), -INT32_C(  1140865910), -INT32_C(  1481521485),
        -INT32_C(  1321131490), -INT32_C(  1309537767), -INT32_C(  1417444807), -INT32_C(  1216763643),  INT32_C(  1724162861), -INT32_C(  1440197564),  INT32_C(   935569122), -INT32_C(   192773163) } },
    { { -INT32_C(   843143741),  INT32_C(   436629655), -INT32_C(  1675644429), -INT32_C(   842410454), -INT32_C(   284020837), -INT32_C(    19809192),  INT32_C(    47450239),  INT32_C(  1319618698),
         INT32_C(    68904301), -INT32_C(   937549099), -INT32_C(    26985005), -INT32_C(  1345638892), -INT32_C(  1247879843),  INT32_C(   414478233),  INT32_C(    35293304), -INT32_C(  1118781104) },
      { -INT32_C(    54432729),  INT32_C(  1640358030),  INT32_C(   828320029), -INT32_C(  1243600041), -INT32_C(  1570079224),  INT32_C(  1723473646), -INT32_C(   160901722), -INT32_C(  1112295018) },
       INT8_C(   1),
      { -INT32_C(   843143741),  INT32_C(   436629655), -INT32_C(  1675644429), -INT32_C(   842410454), -INT32_C(   284020837), -INT32_C(    19809192),  INT32_C(    47450239),  INT32_C(  1319618698),
        -INT32_C(    54432729),  INT32_C(  1640358030),  INT32_C(   828320029), -INT32_C(  1243600041), -INT32_C(  1570079224),  INT32_C(  1723473646), -INT32_C(   160901722), -INT32_C(  1112295018) } },
    { {  INT32_C(  1437842037), -INT32_C(  1468918657), -INT32_C(  1627347852),  INT32_C(    61322628),  INT32_C(  1056000287), -INT32_C(   639346940),  INT32_C(  2020596671),  INT32_C(    60632462),
         INT32_C(  1717063911), -INT32_C(   653341851), -INT32_C(   210235793), -INT32_C(   470409277),  INT32_C(  1830938473), -INT32_C(    28965570),  INT32_C(  1870050784), -INT32_C(   915270430) },
      { -INT32_C(   919614620),  INT32_C(    94518934),  INT32_C(   284695116), -INT32_C(  1544294598),  INT32_C(   353375446), -INT32_C(    99396071), -INT32_C(   295073525),  INT32_C(    45603741) },
       INT8_C(   0),
      { -INT32_C(   919614620),  INT32_C(    94518934),  INT32_C(   284695116), -INT32_C(  1544294598),  INT32_C(   353375446), -INT32_C(    99396071), -INT32_C(   295073525),  INT32_C(    45603741),
         INT32_C(  1717063911), -INT32_C(   653341851), -INT32_C(   210235793), -INT32_C(   470409277),  INT32_C(  1830938473), -INT32_C(    28965570),  INT32_C(  1870050784), -INT32_C(   915270430) } },
    { {  INT32_C(   624741351), -INT32_C(  2005843602),  INT32_C(   700612922), -INT32_C(  1996528268), -INT32_C(   878570379), -INT32_C(  1311269849), -INT32_C(   531708667),  INT32_C(  1669812348),
        -INT32_C(  1970748644),  INT32_C(  1058208261), -INT32_C(   261565061), -INT32_C(  1334286534), -INT32_C(  1552213380), -INT32_C(  1152101706), -INT32_C(  1801673961),  INT32_C(   267854835) },
      { -INT32_C(   342261530), -INT32_C(   181752710), -INT32_C(  1142582655),  INT32_C(  1986748154),  INT32_C(   790226808),  INT32_C(  1374318137),  INT32_C(    82150929), -INT32_C(  1877680983) },
       INT8_C(   0),
      { -INT32_C(   342261530), -INT32_C(   181752710), -INT32_C(  1142582655),  INT32_C(  1986748154),  INT32_C(   790226808),  INT32_C(  1374318137),  INT32_C(    82150929), -INT32_C(  1877680983),
        -INT32_C(  1970748644),  INT32_C(  1058208261), -INT32_C(   261565061), -INT32_C(  1334286534), -INT32_C(  1552213380), -INT32_C(  1152101706), -INT32_C(  1801673961),  INT32_C(   267854835) } },
    { {  INT32_C(  1507228589),  INT32_C(   953863334),  INT32_C(   254973617), -INT32_C(   393697279),  INT32_C(   807581634),  INT32_C(   675378081),  INT32_C(   886130008),  INT32_C(   126968153),
        -INT32_C(  2090833955), -INT32_C(   440714445), -INT32_C(   755700015),  INT32_C(  1488682134), -INT32_C(   712450765), -INT32_C(  1459762864),  INT32_C(  1759301135),  INT32_C(   225406256) },
      {  INT32_C(   143708373), -INT32_C(   588428533), -INT32_C(   793845191), -INT32_C(  1842845346), -INT32_C(  1771589306), -INT32_C(  1992399750),  INT32_C(  1660033842),  INT32_C(  1567580552) },
       INT8_C(   1),
      {  INT32_C(  1507228589),  INT32_C(   953863334),  INT32_C(   254973617), -INT32_C(   393697279),  INT32_C(   807581634),  INT32_C(   675378081),  INT32_C(   886130008),  INT32_C(   126968153),
         INT32_C(   143708373), -INT32_C(   588428533), -INT32_C(   793845191), -INT32_C(  1842845346), -INT32_C(  1771589306), -INT32_C(  1992399750),  INT32_C(  1660033842),  INT32_C(  1567580552) } },
    { {  INT32_C(  1262249727),  INT32_C(   897849427),  INT32_C(   815027399),  INT32_C(   779560573), -INT32_C(   240644723),  INT32_C(  1730359884), -INT32_C(  2047900124), -INT32_C(   172536331),
         INT32_C(   104919987), -INT32_C(   750992372), -INT32_C(  1778135015), -INT32_C(  2084275466), -INT32_C(   730567544), -INT32_C(  1036281954),  INT32_C(   323496477),  INT32_C(   705232759) },
      { -INT32_C(    30324494),  INT32_C(   634481932),  INT32_C(   867947837), -INT32_C(   675905713), -INT32_C(  1968493844), -INT32_C(   548542783), -INT32_C(  1997368047), -INT32_C(  2035025260) },
       INT8_C(   0),
      { -INT32_C(    30324494),  INT32_C(   634481932),  INT32_C(   867947837), -INT32_C(   675905713), -INT32_C(  1968493844), -INT32_C(   548542783), -INT32_C(  1997368047), -INT32_C(  2035025260),
         INT32_C(   104919987), -INT32_C(   750992372), -INT32_C(  1778135015), -INT32_C(  2084275466), -INT32_C(   730567544), -INT32_C(  1036281954),  INT32_C(   323496477),  INT32_C(   705232759) } },
    { {  INT32_C(  1364100580),  INT32_C(   730756182), -INT32_C(  1350844113), -INT32_C(  1583656329), -INT32_C(   463329794),  INT32_C(   133513586),  INT32_C(   765165107),  INT32_C(   359604785),
        -INT32_C(    43598169),  INT32_C(  1630139442),  INT32_C(   739288245), -INT32_C(   187847690),  INT32_C(  1138307025), -INT32_C(  1538535823),  INT32_C(  2110973516), -INT32_C(  1349369592) },
      {  INT32_C(   833485055), -INT32_C(  1584146708),  INT32_C(  1892524922),  INT32_C(   543529551),  INT32_C(   996359882),  INT32_C(  1507831308), -INT32_C(  1646874219), -INT32_C(   229807629) },
       INT8_C(   1),
      {  INT32_C(  1364100580),  INT32_C(   730756182), -INT32_C(  1350844113), -INT32_C(  1583656329), -INT32_C(   463329794),  INT32_C(   133513586),  INT32_C(   765165107),  INT32_C(   359604785),
         INT32_C(   833485055), -INT32_C(  1584146708),  INT32_C(  1892524922),  INT32_C(   543529551),  INT32_C(   996359882),  INT32_C(  1507831308), -INT32_C(  1646874219), -INT32_C(   229807629) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i a = simde_mm512_loadu_epi32(test_vec[i].a);
    simde__m256i b = simde_mm256_loadu_epi32(test_vec[i].b);
    simde__m512i r;
    SIMDE_CONSTIFY_2_(simde_mm512_inserti32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_epi32 ()), test_vec[i].imm8, a, b);
    simde_assert_m512i_i32(r, == ,simde_mm512_loadu_epi32(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512i a = simde_test_x86_random_i32x16();
    simde__m256i b = simde_test_x86_random_i32x8();
    int imm8 = simde_test_codegen_rand() & 0x01;
    simde__m512i r;
    SIMDE_CONSTIFY_2_(simde_mm512_inserti32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_epi32 ()), imm8, a,b);

    simde_test_x86_write_i32x16(2, a, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_i32x8(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_mask_inserti32x8 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const int32_t src[16];
    const simde__mmask16 k;
    const int32_t a[16];
    const int32_t b[8];
    const int imm8;
    const int32_t r[16];
  } test_vec[] = {
    { { -INT32_C(  1639741622), -INT32_C(  1034527332),  INT32_C(   252024761),  INT32_C(   219231863),  INT32_C(    34477431),  INT32_C(  1024205182),  INT32_C(  2139059556),  INT32_C(   449668048),
        -INT32_C(  2034757142),  INT32_C(   675810926),  INT32_C(   490163622), -INT32_C(    97826685), -INT32_C(   604161699), -INT32_C(  1105655462),  INT32_C(  1329436799), -INT32_C(   429323269) },
      UINT16_C( 8732),
      { -INT32_C(  1255110036), -INT32_C(   385689934),  INT32_C(   523405044),  INT32_C(  2102955904), -INT32_C(  2071481749), -INT32_C(  1373895055), -INT32_C(  1095165867),  INT32_C(  1793119742),
         INT32_C(   304025952), -INT32_C(   604232985),  INT32_C(   687484584),  INT32_C(   681988797),  INT32_C(  1990995205), -INT32_C(  2010855117), -INT32_C(   549003551),  INT32_C(   323561395) },
      {  INT32_C(   522611000),  INT32_C(   872096395),  INT32_C(   224130384),  INT32_C(  1295384904),  INT32_C(  1640227374), -INT32_C(  1930827861),  INT32_C(  2037067973), -INT32_C(  1886603945) },
       INT8_C(   0),
      { -INT32_C(  1639741622), -INT32_C(  1034527332),  INT32_C(   224130384),  INT32_C(  1295384904),  INT32_C(  1640227374),  INT32_C(  1024205182),  INT32_C(  2139059556),  INT32_C(   449668048),
        -INT32_C(  2034757142), -INT32_C(   604232985),  INT32_C(   490163622), -INT32_C(    97826685), -INT32_C(   604161699), -INT32_C(  2010855117),  INT32_C(  1329436799), -INT32_C(   429323269) } },
    { { -INT32_C(   727077198), -INT32_C(  1624974167),  INT32_C(   971452983),  INT32_C(  1248277608), -INT32_C(   554251785), -INT32_C(   492535118), -INT32_C(  1556537874),  INT32_C(  1556203689),
         INT32_C(   540043895),  INT32_C(  2109691206), -INT32_C(   273242489), -INT32_C(   784785702), -INT32_C(  1716506649), -INT32_C(  1602464590),  INT32_C(   440644977), -INT32_C(   176814978) },
      UINT16_C(42862),
      { -INT32_C(   704859115), -INT32_C(   394558671), -INT32_C(  1425648014), -INT32_C(   673452761),  INT32_C(    36408710),  INT32_C(  1891146797),  INT32_C(   762590903),  INT32_C(  1087693355),
        -INT32_C(   954871658), -INT32_C(   978349741),  INT32_C(   242333159),  INT32_C(   702958754),  INT32_C(   103485913),  INT32_C(  1702290350),  INT32_C(  1150478873),  INT32_C(  1652910028) },
      { -INT32_C(  1960207817),  INT32_C(   307288363),  INT32_C(   824295822), -INT32_C(   430307571), -INT32_C(   957577960), -INT32_C(  2111085975),  INT32_C(   415743564),  INT32_C(  1551518757) },
       INT8_C(   0),
      { -INT32_C(   727077198),  INT32_C(   307288363),  INT32_C(   824295822), -INT32_C(   430307571), -INT32_C(   554251785), -INT32_C(  2111085975),  INT32_C(   415743564),  INT32_C(  1556203689),
        -INT32_C(   954871658), -INT32_C(   978349741),  INT32_C(   242333159), -INT32_C(   784785702), -INT32_C(  1716506649),  INT32_C(  1702290350),  INT32_C(   440644977),  INT32_C(  1652910028) } },
    { {  INT32_C(  2098390948), -INT32_C(   116710344),  INT32_C(  1275542597),  INT32_C(   476442006),  INT32_C(  1015360474),  INT32_C(   361301847),  INT32_C(   440050126), -INT32_C(  1073637860),
        -INT32_C(  1237511298),  INT32_C(  2108639287),  INT32_C(   466204293),  INT32_C(  2117545636), -INT32_C(  1313162150), -INT32_C(  1832500284),  INT32_C(    28115173),  INT32_C(   348237462) },
      UINT16_C(65217),
      {  INT32_C(  2051471562),  INT32_C(  1060162421),  INT32_C(   510514407),  INT32_C(   232507218),  INT32_C(  1045471096), -INT32_C(   566348495), -INT32_C(   141765322), -INT32_C(  1258992151),
        -INT32_C(  1154597818), -INT32_C(   285581817), -INT32_C(  2062718925), -INT32_C(  1466767313), -INT32_C(  1192828025),  INT32_C(  1335305496), -INT32_C(   481942534), -INT32_C(  1214825359) },
      {  INT32_C(  2138228088),  INT32_C(  1466854692),  INT32_C(    81558485), -INT32_C(   357798045),  INT32_C(  1789039442), -INT32_C(  1296483912), -INT32_C(   829095843), -INT32_C(  1266340548) },
       INT8_C(   0),
      {  INT32_C(  2138228088), -INT32_C(   116710344),  INT32_C(  1275542597),  INT32_C(   476442006),  INT32_C(  1015360474),  INT32_C(   361301847), -INT32_C(   829095843), -INT32_C(  1266340548),
        -INT32_C(  1237511298), -INT32_C(   285581817), -INT32_C(  2062718925), -INT32_C(  1466767313), -INT32_C(  1192828025),  INT32_C(  1335305496), -INT32_C(   481942534), -INT32_C(  1214825359) } },
    { {  INT32_C(  1679176695),  INT32_C(   473525665), -INT32_C(  1182843318),  INT32_C(  2097900010),  INT32_C(  1161131276),  INT32_C(   799205167), -INT32_C(  1435799427), -INT32_C(   308535307),
        -INT32_C(   195972270),  INT32_C(  1779469088), -INT32_C(  1289514807),  INT32_C(    87109369), -INT32_C(   750033244), -INT32_C(   889000626),  INT32_C(  1400204638), -INT32_C(   566226548) },
      UINT16_C(37572),
      { -INT32_C(   484579886),  INT32_C(  1936975439), -INT32_C(   895390567), -INT32_C(  1120844430),  INT32_C(   447381272), -INT32_C(  1081669558), -INT32_C(  1664085156), -INT32_C(  1003579918),
        -INT32_C(   911783046), -INT32_C(   885253583), -INT32_C(   107618681),  INT32_C(  1018611235), -INT32_C(  1890164667), -INT32_C(   984686999), -INT32_C(   480174095),  INT32_C(   782799028) },
      {  INT32_C(   234311643), -INT32_C(   237489046),  INT32_C(   904555794),  INT32_C(  2037489716),  INT32_C(  1762248704), -INT32_C(  1758570586),  INT32_C(   712740982), -INT32_C(    78109920) },
       INT8_C(   0),
      {  INT32_C(  1679176695),  INT32_C(   473525665),  INT32_C(   904555794),  INT32_C(  2097900010),  INT32_C(  1161131276),  INT32_C(   799205167),  INT32_C(   712740982), -INT32_C(    78109920),
        -INT32_C(   195972270), -INT32_C(   885253583), -INT32_C(  1289514807),  INT32_C(    87109369), -INT32_C(  1890164667), -INT32_C(   889000626),  INT32_C(  1400204638),  INT32_C(   782799028) } },
    { { -INT32_C(  2065954736),  INT32_C(  1318505952),  INT32_C(  1468189623),  INT32_C(    89717565),  INT32_C(  1554759940), -INT32_C(  2133703952), -INT32_C(   526320195), -INT32_C(  1521247403),
        -INT32_C(  2077675612), -INT32_C(  1261256707), -INT32_C(   938716021),  INT32_C(  1422746704),  INT32_C(   363886629),  INT32_C(  2023064506), -INT32_C(   715639424),  INT32_C(  1971039185) },
      UINT16_C(42203),
      { -INT32_C(   865806087), -INT32_C(  1742671988), -INT32_C(  2063830857),  INT32_C(  1979458245), -INT32_C(   839338441), -INT32_C(  2029881298), -INT32_C(   919415986),  INT32_C(  1114443080),
         INT32_C(  1913573861),  INT32_C(  1997156032),  INT32_C(  1694173087),  INT32_C(  1624897321), -INT32_C(   600976722), -INT32_C(  1738330038),  INT32_C(  1281463811), -INT32_C(  1987129437) },
      {  INT32_C(  1643879584),  INT32_C(  1775764938),  INT32_C(   902681612),  INT32_C(  2039916491), -INT32_C(  1017724039), -INT32_C(   144918029), -INT32_C(   213664433),  INT32_C(   763154828) },
       INT8_C(   1),
      { -INT32_C(   865806087), -INT32_C(  1742671988),  INT32_C(  1468189623),  INT32_C(  1979458245), -INT32_C(   839338441), -INT32_C(  2133703952), -INT32_C(   919415986),  INT32_C(  1114443080),
        -INT32_C(  2077675612), -INT32_C(  1261256707),  INT32_C(   902681612),  INT32_C(  1422746704),  INT32_C(   363886629), -INT32_C(   144918029), -INT32_C(   715639424),  INT32_C(   763154828) } },
    { {  INT32_C(  2084015735),  INT32_C(   982098278),  INT32_C(   352763502),  INT32_C(   411991892), -INT32_C(  1895083307),  INT32_C(  1809711790),  INT32_C(   385405253), -INT32_C(   998038195),
         INT32_C(   423738291), -INT32_C(   900412836), -INT32_C(   572499320), -INT32_C(  1342869799),  INT32_C(  1849557184),  INT32_C(  1222253571),  INT32_C(   996135662), -INT32_C(  1442782473) },
      UINT16_C(16797),
      {  INT32_C(   386660803), -INT32_C(  1536060476),  INT32_C(  1695697776),  INT32_C(   946263034),  INT32_C(   458516801),  INT32_C(   283984561),  INT32_C(  2129912958),  INT32_C(  1388286094),
         INT32_C(  1315555978), -INT32_C(   822944931),  INT32_C(   540214310),  INT32_C(   425236951), -INT32_C(  1271616510),  INT32_C(  1841570543), -INT32_C(  1779714298), -INT32_C(   756569528) },
      { -INT32_C(   786411404),  INT32_C(  1369379371), -INT32_C(   294530282),  INT32_C(  1862781292),  INT32_C(  1696807798),  INT32_C(  1691543389), -INT32_C(   403063393), -INT32_C(   608575385) },
       INT8_C(   0),
      { -INT32_C(   786411404),  INT32_C(   982098278), -INT32_C(   294530282),  INT32_C(  1862781292),  INT32_C(  1696807798),  INT32_C(  1809711790),  INT32_C(   385405253), -INT32_C(   608575385),
         INT32_C(  1315555978), -INT32_C(   900412836), -INT32_C(   572499320), -INT32_C(  1342869799),  INT32_C(  1849557184),  INT32_C(  1222253571), -INT32_C(  1779714298), -INT32_C(  1442782473) } },
    { { -INT32_C(   346247975),  INT32_C(   520203596), -INT32_C(   393482465),  INT32_C(   845085430),  INT32_C(    93307677),  INT32_C(  1386541973), -INT32_C(   860255252),  INT32_C(   503157828),
        -INT32_C(  1928832703),  INT32_C(   632031494), -INT32_C(   284280839),  INT32_C(  1327590450), -INT32_C(   984305360), -INT32_C(  1860634460), -INT32_C(   950152829), -INT32_C(  1478206874) },
      UINT16_C(60595),
      { -INT32_C(   520701388), -INT32_C(   317198369),  INT32_C(     5917150), -INT32_C(   307131751),  INT32_C(  1743148367),  INT32_C(  1144613350),  INT32_C(   362716977),  INT32_C(  2046972486),
        -INT32_C(   346359796), -INT32_C(   975605273),  INT32_C(  1422209979),  INT32_C(   205616829), -INT32_C(  1301010484), -INT32_C(  1024021103), -INT32_C(  1831365300), -INT32_C(   217261593) },
      { -INT32_C(  1193384239), -INT32_C(  1837189161), -INT32_C(  1478081558), -INT32_C(  2035013446), -INT32_C(   533190577),  INT32_C(   564277205), -INT32_C(  1414300988),  INT32_C(   631160659) },
       INT8_C(   1),
      { -INT32_C(   520701388), -INT32_C(   317198369), -INT32_C(   393482465),  INT32_C(   845085430),  INT32_C(  1743148367),  INT32_C(  1144613350), -INT32_C(   860255252),  INT32_C(  2046972486),
        -INT32_C(  1928832703),  INT32_C(   632031494), -INT32_C(  1478081558), -INT32_C(  2035013446), -INT32_C(   984305360),  INT32_C(   564277205), -INT32_C(  1414300988),  INT32_C(   631160659) } },
    { {  INT32_C(   888987004), -INT32_C(  1625387173), -INT32_C(  1655060875), -INT32_C(  1561469062),  INT32_C(  1182256407), -INT32_C(   368404368),  INT32_C(   171816267), -INT32_C(   802201005),
        -INT32_C(  1694225600),  INT32_C(   809116346),  INT32_C(  1657639912), -INT32_C(  1979401614), -INT32_C(   120554616),  INT32_C(  1591925523), -INT32_C(   462938224), -INT32_C(  1028352126) },
      UINT16_C(47299),
      { -INT32_C(  1730511523),  INT32_C(  2066465709),  INT32_C(   708156965), -INT32_C(   123355864), -INT32_C(  1747732043), -INT32_C(  2135464937), -INT32_C(    65586872),  INT32_C(  1488247547),
         INT32_C(    99651160),  INT32_C(  2004884561), -INT32_C(   492718406),  INT32_C(   702170739),  INT32_C(   398503679),  INT32_C(  1519875858), -INT32_C(  1420382544), -INT32_C(   519828855) },
      { -INT32_C(   353962856), -INT32_C(   899586288), -INT32_C(  1867775459),  INT32_C(  1220118344),  INT32_C(  1197439541), -INT32_C(  1566443791),  INT32_C(   760084388), -INT32_C(  1727115007) },
       INT8_C(   0),
      { -INT32_C(   353962856), -INT32_C(   899586288), -INT32_C(  1655060875), -INT32_C(  1561469062),  INT32_C(  1182256407), -INT32_C(   368404368),  INT32_C(   760084388), -INT32_C(  1727115007),
        -INT32_C(  1694225600),  INT32_C(   809116346),  INT32_C(  1657639912),  INT32_C(   702170739),  INT32_C(   398503679),  INT32_C(  1519875858), -INT32_C(   462938224), -INT32_C(   519828855) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i src = simde_mm512_loadu_epi32(test_vec[i].src);
    simde__m512i a = simde_mm512_loadu_epi32(test_vec[i].a);
    simde__m256i b = simde_mm256_loadu_epi32(test_vec[i].b);
    simde__m512i r; 
    SIMDE_CONSTIFY_2_(simde_mm512_mask_inserti32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_epi32 ()), test_vec[i].imm8 ,src, test_vec[i].k , a, b);
    simde_assert_m512i_i32(r, == ,simde_mm512_loadu_epi32(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512i src = simde_test_x86_random_i32x16();
    simde__mmask16 k = simde_test_x86_random_mmask16();
    simde__m512i a = simde_test_x86_random_i32x16();
    simde__m256i b = simde_test_x86_random_i32x8();
    int imm8 = simde_test_codegen_rand() & 0x01;
    simde__m512i r;
    SIMDE_CONSTIFY_2_(simde_mm512_mask_inserti32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_epi32 ()), imm8, src, k, a, b);
    simde_test_x86_write_i32x16(2, src, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_mmask16(2, k, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x8(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_maskz_inserti32x8 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde__mmask16 k;
    const int32_t a[16];
    const int32_t b[8];
    const int imm8;
    const int32_t r[16];
  } test_vec[] = {
    { UINT16_C(27222),
      {  INT32_C(  1621519087),  INT32_C(   899885648), -INT32_C(   889970550),  INT32_C(  1880803230),  INT32_C(  1637426960),  INT32_C(   637910988), -INT32_C(   420670159), -INT32_C(   179223802),
        -INT32_C(    27854930), -INT32_C(  1405814495), -INT32_C(  1200216039),  INT32_C(     2658799), -INT32_C(  2073968200), -INT32_C(  1314232704), -INT32_C(  2103928965), -INT32_C(  1988630053) },
      {  INT32_C(    25677280), -INT32_C(   525485113), -INT32_C(   745003805),  INT32_C(  1842593973),  INT32_C(    49362049),  INT32_C(   364092314),  INT32_C(   228018994),  INT32_C(   345378612) },
       INT8_C(   0),
      {  INT32_C(           0), -INT32_C(   525485113), -INT32_C(   745003805),  INT32_C(           0),  INT32_C(    49362049),  INT32_C(           0),  INT32_C(   228018994),  INT32_C(           0),
         INT32_C(           0), -INT32_C(  1405814495),  INT32_C(           0),  INT32_C(     2658799),  INT32_C(           0), -INT32_C(  1314232704), -INT32_C(  2103928965),  INT32_C(           0) } },
    { UINT16_C( 5662),
      { -INT32_C(  2067539549), -INT32_C(  1877153859),  INT32_C(   157539740),  INT32_C(  1627035486),  INT32_C(  1175754033), -INT32_C(   706846776), -INT32_C(  1469256300),  INT32_C(  1841203913),
         INT32_C(   552698467),  INT32_C(   112201065),  INT32_C(  1225724906), -INT32_C(   609678678),  INT32_C(  1730330015), -INT32_C(  1321402339), -INT32_C(  1235637779), -INT32_C(  1776084941) },
      {  INT32_C(    62330010),  INT32_C(   201942818),  INT32_C(   626334075), -INT32_C(  1040056541), -INT32_C(   651549764),  INT32_C(   277505827),  INT32_C(  1137107984), -INT32_C(  1764103428) },
       INT8_C(   0),
      {  INT32_C(           0),  INT32_C(   201942818),  INT32_C(   626334075), -INT32_C(  1040056541), -INT32_C(   651549764),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),
         INT32_C(           0),  INT32_C(   112201065),  INT32_C(  1225724906),  INT32_C(           0),  INT32_C(  1730330015),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0) } },
    { UINT16_C(39312),
      {  INT32_C(   765720608), -INT32_C(  1736262541), -INT32_C(  1583775265),  INT32_C(   399227966), -INT32_C(   274582817), -INT32_C(  2051635646),  INT32_C(   408920194), -INT32_C(  1078857826),
         INT32_C(  1525437671), -INT32_C(   269259248),  INT32_C(   781290736),  INT32_C(   675634249), -INT32_C(   786897009), -INT32_C(   279458195),  INT32_C(   201832046), -INT32_C(  1916028507) },
      {  INT32_C(   518502157),  INT32_C(   370006566), -INT32_C(  1337680281), -INT32_C(  1965520389), -INT32_C(   564400015),  INT32_C(   751743678),  INT32_C(   238671208), -INT32_C(  1667562354) },
       INT8_C(   0),
      {  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0), -INT32_C(   564400015),  INT32_C(           0),  INT32_C(           0), -INT32_C(  1667562354),
         INT32_C(  1525437671),  INT32_C(           0),  INT32_C(           0),  INT32_C(   675634249), -INT32_C(   786897009),  INT32_C(           0),  INT32_C(           0), -INT32_C(  1916028507) } },
    { UINT16_C(47746),
      { -INT32_C(   121152030),  INT32_C(  1950115524), -INT32_C(   347290271),  INT32_C(   356924726),  INT32_C(   686029307),  INT32_C(  1868675169), -INT32_C(   485857977),  INT32_C(    60656929),
        -INT32_C(  1359256342),  INT32_C(   723662794),  INT32_C(   857108221), -INT32_C(  1488429653), -INT32_C(  1211159722),  INT32_C(   723988708), -INT32_C(  1223806571), -INT32_C(  1464161346) },
      { -INT32_C(   631851505), -INT32_C(   368740115), -INT32_C(  1843520281), -INT32_C(   818321799),  INT32_C(  1988495506), -INT32_C(   828265160), -INT32_C(  1652183073),  INT32_C(  1766211418) },
       INT8_C(   1),
      {  INT32_C(           0),  INT32_C(  1950115524),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(    60656929),
         INT32_C(           0), -INT32_C(   368740115),  INT32_C(           0), -INT32_C(   818321799),  INT32_C(  1988495506), -INT32_C(   828265160),  INT32_C(           0),  INT32_C(  1766211418) } },
    { UINT16_C(17308),
      { -INT32_C(   850848285), -INT32_C(  1897175556), -INT32_C(  1379380514),  INT32_C(  1513345252), -INT32_C(   671358711),  INT32_C(  1566354112),  INT32_C(  1839438596),  INT32_C(  1957773457),
         INT32_C(  1363278421),  INT32_C(  1038036319),  INT32_C(  1676322687), -INT32_C(  2118312584), -INT32_C(  1101481730),  INT32_C(  1713157218), -INT32_C(   522993841),  INT32_C(  1414825215) },
      { -INT32_C(   576350594),  INT32_C(  1109034435), -INT32_C(  1532689364),  INT32_C(   539320866),  INT32_C(  2095021338), -INT32_C(  2115830991), -INT32_C(  1168001606), -INT32_C(  1206995398) },
       INT8_C(   0),
      {  INT32_C(           0),  INT32_C(           0), -INT32_C(  1532689364),  INT32_C(   539320866),  INT32_C(  2095021338),  INT32_C(           0),  INT32_C(           0), -INT32_C(  1206995398),
         INT32_C(  1363278421),  INT32_C(  1038036319),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0), -INT32_C(   522993841),  INT32_C(           0) } },
    { UINT16_C(38580),
      {  INT32_C(  1370503439),  INT32_C(   183940453), -INT32_C(   147892009), -INT32_C(   287920782),  INT32_C(  1607520734),  INT32_C(  1187087756),  INT32_C(  2018801599), -INT32_C(   770832189),
        -INT32_C(  1490829759),  INT32_C(  1253120371), -INT32_C(   482156431),  INT32_C(  1825642637),  INT32_C(  1993056746), -INT32_C(   423850970), -INT32_C(   966914045),  INT32_C(  1519938585) },
      { -INT32_C(  1644053718),  INT32_C(  1172878036),  INT32_C(   539503251),  INT32_C(   764213571), -INT32_C(  1046259558), -INT32_C(   391684124), -INT32_C(  2001861265), -INT32_C(  1679603855) },
       INT8_C(   0),
      {  INT32_C(           0),  INT32_C(           0),  INT32_C(   539503251),  INT32_C(           0), -INT32_C(  1046259558), -INT32_C(   391684124),  INT32_C(           0), -INT32_C(  1679603855),
         INT32_C(           0),  INT32_C(  1253120371), -INT32_C(   482156431),  INT32_C(           0),  INT32_C(  1993056746),  INT32_C(           0),  INT32_C(           0),  INT32_C(  1519938585) } },
    { UINT16_C(14820),
      {  INT32_C(   472029143),  INT32_C(  1246055466), -INT32_C(  1126744433), -INT32_C(  1705037863), -INT32_C(    79577581), -INT32_C(  1230354898),  INT32_C(  1385820599), -INT32_C(   896762125),
         INT32_C(  1072147989), -INT32_C(  1970721542),  INT32_C(  1128685674), -INT32_C(  1545754993), -INT32_C(  1835131292),  INT32_C(   457787492),  INT32_C(   762241593),  INT32_C(  1979185760) },
      { -INT32_C(  1565204824),  INT32_C(  1965833738),  INT32_C(   783840158),  INT32_C(  2110887449),  INT32_C(   420507572), -INT32_C(   248227400), -INT32_C(  1675713989),  INT32_C(  1141970588) },
       INT8_C(   0),
      {  INT32_C(           0),  INT32_C(           0),  INT32_C(   783840158),  INT32_C(           0),  INT32_C(           0), -INT32_C(   248227400), -INT32_C(  1675713989),  INT32_C(  1141970588),
         INT32_C(  1072147989),  INT32_C(           0),  INT32_C(           0), -INT32_C(  1545754993), -INT32_C(  1835131292),  INT32_C(   457787492),  INT32_C(           0),  INT32_C(           0) } },
    { UINT16_C(59334),
      {  INT32_C(  1947403519), -INT32_C(   802388318),  INT32_C(   497140383), -INT32_C(  1876094601), -INT32_C(  1161525559),  INT32_C(  1574528961),  INT32_C(  1215295235), -INT32_C(   500222493),
        -INT32_C(   615103943),  INT32_C(  1756136393), -INT32_C(  1132114619),  INT32_C(   659337822), -INT32_C(    85847752),  INT32_C(  2069347192), -INT32_C(  1916549462),  INT32_C(   879817467) },
      { -INT32_C(    32455115), -INT32_C(  1889092535),  INT32_C(  1749806089), -INT32_C(   678455138),  INT32_C(   567374249), -INT32_C(   694409172), -INT32_C(   362520337), -INT32_C(  2027957166) },
       INT8_C(   0),
      {  INT32_C(           0), -INT32_C(  1889092535),  INT32_C(  1749806089),  INT32_C(           0),  INT32_C(           0),  INT32_C(           0), -INT32_C(   362520337), -INT32_C(  2027957166),
        -INT32_C(   615103943),  INT32_C(  1756136393), -INT32_C(  1132114619),  INT32_C(           0),  INT32_C(           0),  INT32_C(  2069347192), -INT32_C(  1916549462),  INT32_C(   879817467) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i a = simde_mm512_loadu_epi32(test_vec[i].a);
    simde__m256i b = simde_mm256_loadu_epi32(test_vec[i].b);
    simde__m512i r;
    SIMDE_CONSTIFY_2_(simde_mm512_maskz_inserti32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_epi32 ()), test_vec[i].imm8 , test_vec[i].k , a, b);
    simde_assert_m512i_i32(r, == ,simde_mm512_loadu_epi32(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__mmask16 k = simde_test_x86_random_mmask16();
    simde__m512i a = simde_test_x86_random_i32x16();
    simde__m256i b = simde_test_x86_random_i32x8();
    int imm8 = simde_test_codegen_rand() & 0x01;
    simde__m512i r;
    SIMDE_CONSTIFY_2_(simde_mm512_maskz_inserti32x8, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_epi32 ()), imm8, k, a, b);

    simde_test_x86_write_mmask16(2, k, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_i32x16(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x8(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i32x16(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_inserti64x2 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const int64_t a[8];
    const int64_t b[2];
    const int imm8;
    const int64_t r[8];
  } test_vec[] = {
    { { -INT64_C( 3185839351605653724), -INT64_C( 7266773486870972167), -INT64_C( 7447103374582978907), -INT64_C( 4936552570322563634),
         INT64_C( 3113875420402652006), -INT64_C( 1474061058599679251),  INT64_C( 5333249854633994620),  INT64_C( 2423611407202837583) },
      {  INT64_C( 3483176159473340152), -INT64_C( 2957268077581875772) },
       INT8_C(   2),
      { -INT64_C( 3185839351605653724), -INT64_C( 7266773486870972167), -INT64_C( 7447103374582978907), -INT64_C( 4936552570322563634),
         INT64_C( 3483176159473340152), -INT64_C( 2957268077581875772),  INT64_C( 5333249854633994620),  INT64_C( 2423611407202837583) } },
    { {  INT64_C( 2928285631258968529), -INT64_C( 4926370448219600316),  INT64_C( 7495729358787497352), -INT64_C( 2913097753665793969),
         INT64_C( 4920410192332170459), -INT64_C( 5169693458659726503), -INT64_C( 4762555031822319780),  INT64_C( 2373198288787188498) },
      {  INT64_C( 4842363467459402735),  INT64_C(  980390198247039411) },
       INT8_C(   3),
      {  INT64_C( 2928285631258968529), -INT64_C( 4926370448219600316),  INT64_C( 7495729358787497352), -INT64_C( 2913097753665793969),
         INT64_C( 4920410192332170459), -INT64_C( 5169693458659726503),  INT64_C( 4842363467459402735),  INT64_C(  980390198247039411) } },
    { {  INT64_C( 2425881596737981846), -INT64_C( 3716728970626547152), -INT64_C( 5836389627976066363),  INT64_C( 1520647116091810756),
         INT64_C( 8831654846486402041),  INT64_C( 4726352423045953049),  INT64_C(  862595765469334971), -INT64_C( 4826181199454316687) },
      {  INT64_C( 2489852916168176329), -INT64_C( 7029974006557277518) },
       INT8_C(   1),
      {  INT64_C( 2425881596737981846), -INT64_C( 3716728970626547152),  INT64_C( 2489852916168176329), -INT64_C( 7029974006557277518),
         INT64_C( 8831654846486402041),  INT64_C( 4726352423045953049),  INT64_C(  862595765469334971), -INT64_C( 4826181199454316687) } },
    { {  INT64_C( 3962645264696141822), -INT64_C( 6503838928926478593), -INT64_C( 2282251485583585052), -INT64_C( 1148028736906231107),
         INT64_C( 5574748588866349640), -INT64_C(  863566257759102870),  INT64_C( 4543544344406504143),  INT64_C( 8740802093004148843) },
      { -INT64_C( 5668064599453152325),  INT64_C( 7375228880729118805) },
       INT8_C(   1),
      {  INT64_C( 3962645264696141822), -INT64_C( 6503838928926478593), -INT64_C( 5668064599453152325),  INT64_C( 7375228880729118805),
         INT64_C( 5574748588866349640), -INT64_C(  863566257759102870),  INT64_C( 4543544344406504143),  INT64_C( 8740802093004148843) } },
    { {  INT64_C( 8089458480580629487), -INT64_C( 5092415666583920633),  INT64_C( 5480231711319023034), -INT64_C( 4856769574753569855),
         INT64_C( 7993564327629414621),  INT64_C( 7214867390478651257), -INT64_C( 7874496869506998088), -INT64_C( 4456593420438824035) },
      {  INT64_C(  988027283128171488), -INT64_C( 3401462261012447811) },
       INT8_C(   0),
      {  INT64_C(  988027283128171488), -INT64_C( 3401462261012447811),  INT64_C( 5480231711319023034), -INT64_C( 4856769574753569855),
         INT64_C( 7993564327629414621),  INT64_C( 7214867390478651257), -INT64_C( 7874496869506998088), -INT64_C( 4456593420438824035) } },
    { { -INT64_C( 7949107376428859928), -INT64_C(  333767477023073922),  INT64_C( 1757138722061526391),  INT64_C( 8959913196575050000),
         INT64_C( 8413918127176211774), -INT64_C( 1544364744122418602), -INT64_C( 3717174226293153547), -INT64_C( 2752886177845437766) },
      { -INT64_C( 1364641712998426203),  INT64_C( 5073327320480284939) },
       INT8_C(   0),
      { -INT64_C( 1364641712998426203),  INT64_C( 5073327320480284939),  INT64_C( 1757138722061526391),  INT64_C( 8959913196575050000),
         INT64_C( 8413918127176211774), -INT64_C( 1544364744122418602), -INT64_C( 3717174226293153547), -INT64_C( 2752886177845437766) } },
    { { -INT64_C( 7232011335214524425),  INT64_C( 1556573921140469804),  INT64_C( 5041948304148804891), -INT64_C( 3069523249133619683),
         INT64_C( 4544236561201190516),  INT64_C( 8079684596158187087), -INT64_C( 9039756458562040829),  INT64_C( 8250061248460497611) },
      { -INT64_C( 1602164799403771024), -INT64_C( 4034358002387192003) },
       INT8_C(   0),
      { -INT64_C( 1602164799403771024), -INT64_C( 4034358002387192003),  INT64_C( 5041948304148804891), -INT64_C( 3069523249133619683),
         INT64_C( 4544236561201190516),  INT64_C( 8079684596158187087), -INT64_C( 9039756458562040829),  INT64_C( 8250061248460497611) } },
    { { -INT64_C( 4791609432435454112), -INT64_C( 2159706198977599108),  INT64_C( 4920856924468840981),  INT64_C( 4634153303436549466),
        -INT64_C( 2722296930373364256),  INT64_C( 3974276185255376030),  INT64_C( 7103459778122523394),  INT64_C( 5731992088138063212) },
      { -INT64_C( 7715787706180337227), -INT64_C( 3003618565512667657) },
       INT8_C(   3),
      { -INT64_C( 4791609432435454112), -INT64_C( 2159706198977599108),  INT64_C( 4920856924468840981),  INT64_C( 4634153303436549466),
        -INT64_C( 2722296930373364256),  INT64_C( 3974276185255376030), -INT64_C( 7715787706180337227), -INT64_C( 3003618565512667657) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i a = simde_mm512_loadu_epi64(test_vec[i].a);
    simde__m128i b = simde_mm_loadu_epi64(test_vec[i].b);
    simde__m512i r;
    SIMDE_CONSTIFY_4_(simde_mm512_inserti64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_si512 ()), test_vec[i].imm8 , a, b);
    simde_assert_m512i_i64(r, ==, simde_mm512_loadu_epi64(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512i a = simde_test_x86_random_i64x8();
    simde__m128i b = simde_test_x86_random_i64x2();
    int imm8 = simde_test_codegen_rand() & 0x03;
    simde__m512i r;
    SIMDE_CONSTIFY_4_(simde_mm512_inserti64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_si512 ()), imm8, a, b);

    simde_test_x86_write_i64x8(2, a, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_i64x2(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i64x8(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_mask_inserti64x2 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const int64_t src[8];
    const simde__mmask8 k;
    const int64_t a[8];
    const int64_t b[2];
    const int imm8;
    const int64_t r[8];
  } test_vec[] = {
    { { -INT64_C( 1437525857059302259),  INT64_C( 8028295443111167418), -INT64_C( 4479432208217808138), -INT64_C( 5374044330178084993),
        -INT64_C( 7932756663924951773), -INT64_C( 6697009134660259724),  INT64_C( 2681675490236090963),  INT64_C( 8256546512561618872) },
      UINT8_C( 26),
      { -INT64_C( 3937410130845274184), -INT64_C( 3148834129031332983), -INT64_C( 5084668455614168195), -INT64_C( 7162558610553680038),
        -INT64_C( 7562988475700245527),  INT64_C( 1565246718257234137),  INT64_C( 3266864359775417250), -INT64_C( 4536735779238682998) },
      {  INT64_C( 5004921317829610961), -INT64_C( 8630056981838166131) },
       INT8_C(   3),
      { -INT64_C( 1437525857059302259), -INT64_C( 3148834129031332983), -INT64_C( 4479432208217808138), -INT64_C( 7162558610553680038),
        -INT64_C( 7562988475700245527), -INT64_C( 6697009134660259724),  INT64_C( 2681675490236090963),  INT64_C( 8256546512561618872) } },
    { { -INT64_C( 2680745154261342969), -INT64_C( 3325780489277326655),  INT64_C( 3680146973240702583),  INT64_C( 8907734634907383978),
         INT64_C( 6565556226942207431), -INT64_C( 4838209306494840635),  INT64_C( 4922245938614966512), -INT64_C( 3351683033428170612) },
      UINT8_C(243),
      {  INT64_C(  182932560333837370), -INT64_C( 8758090127151492278),  INT64_C( 5270729859006501189), -INT64_C( 2552093332908857804),
         INT64_C( 6227398613268439864), -INT64_C(  310379255473458243),  INT64_C( 7569348338786816481), -INT64_C( 4873280160573726752) },
      { -INT64_C( 1934979760913973564),  INT64_C( 3528501382326779973) },
       INT8_C(   2),
      {  INT64_C(  182932560333837370), -INT64_C( 8758090127151492278),  INT64_C( 3680146973240702583),  INT64_C( 8907734634907383978),
        -INT64_C( 1934979760913973564),  INT64_C( 3528501382326779973),  INT64_C( 7569348338786816481), -INT64_C( 4873280160573726752) } },
    { {  INT64_C( 6711825787827843723),  INT64_C(  334000871406872381), -INT64_C( 7522961261384142398),  INT64_C( 1690564604027376930),
        -INT64_C( 5952489389805453815), -INT64_C( 6614892982488578774), -INT64_C( 7724638241617846114), -INT64_C( 3185470132537740505) },
      UINT8_C( 45),
      { -INT64_C( 8875387328334537945), -INT64_C( 7520718671352298539),  INT64_C( 6249762233795597826),  INT64_C( 6931870202701311510),
        -INT64_C( 1111581954520985394),  INT64_C(  409989203325286626),  INT64_C( 7810180006874298730),  INT64_C( 4998331992399512515) },
      {  INT64_C( 2918021699780962164),  INT64_C( 7991058117083361758) },
       INT8_C(   2),
      { -INT64_C( 8875387328334537945),  INT64_C(  334000871406872381),  INT64_C( 6249762233795597826),  INT64_C( 6931870202701311510),
        -INT64_C( 5952489389805453815),  INT64_C( 7991058117083361758), -INT64_C( 7724638241617846114), -INT64_C( 3185470132537740505) } },
    { {  INT64_C( 7032210146969287551),  INT64_C( 6410344042728035550),  INT64_C( 8373253849835537776),  INT64_C( 8692765291580036103),
        -INT64_C( 1250905513012714653),  INT64_C(  630899327110314872),  INT64_C( 3342956419843186924),  INT64_C( 2888999536580550053) },
      UINT8_C(108),
      { -INT64_C( 8665090557066057373),  INT64_C( 5345535169814014171),  INT64_C( 7042396732473220997), -INT64_C( 3100079148162983483),
        -INT64_C( 4878282537939798344),  INT64_C( 1744914593517366019),  INT64_C(  807245248612706382),  INT64_C( 6955690502273980994) },
      { -INT64_C( 9104464811069693431),  INT64_C( 2416083152145393116) },
       INT8_C(   2),
      {  INT64_C( 7032210146969287551),  INT64_C( 6410344042728035550),  INT64_C( 7042396732473220997), -INT64_C( 3100079148162983483),
        -INT64_C( 1250905513012714653),  INT64_C( 2416083152145393116),  INT64_C(  807245248612706382),  INT64_C( 2888999536580550053) } },
    { { -INT64_C( 9087806481032219723), -INT64_C( 4767471303514287047),  INT64_C(  863772375361765551), -INT64_C( 6260565384817054678),
        -INT64_C( 8314726474627697676), -INT64_C(  102122297072433732), -INT64_C( 5304647121518014224),  INT64_C( 3901143407175090567) },
      UINT8_C( 88),
      { -INT64_C( 5597911743785643669), -INT64_C( 8308577551853148271), -INT64_C( 5926227575199758049), -INT64_C( 3867425085825533098),
        -INT64_C( 3957066244173201546),  INT64_C( 3971677997605984213),  INT64_C( 6583754705295455813), -INT64_C( 1686972500860777107) },
      {  INT64_C( 8551034565895648426), -INT64_C( 5204148570918734472) },
       INT8_C(   0),
      { -INT64_C( 9087806481032219723), -INT64_C( 4767471303514287047),  INT64_C(  863772375361765551), -INT64_C( 3867425085825533098),
        -INT64_C( 3957066244173201546), -INT64_C(  102122297072433732),  INT64_C( 6583754705295455813),  INT64_C( 3901143407175090567) } },
    { {  INT64_C( 1429820066599430200),  INT64_C( 3344605772364751892),  INT64_C( 3211426036395822264),  INT64_C( 2364766835735142734),
         INT64_C(  403179852310131646),  INT64_C( 4930929817639198213), -INT64_C( 3197856428486476166),  INT64_C( 5843167160541133839) },
      UINT8_C( 76),
      { -INT64_C( 8356357167846205791), -INT64_C(  743273475865032698), -INT64_C(  308974043179376455),  INT64_C( 7348430678331862421),
         INT64_C( 9128637531484010420), -INT64_C( 2566099458350397513), -INT64_C( 4594734666174177918),  INT64_C( 6633636949274839526) },
      { -INT64_C( 7019088828933638240),  INT64_C( 3384014954977577718) },
       INT8_C(   0),
      {  INT64_C( 1429820066599430200),  INT64_C( 3344605772364751892), -INT64_C(  308974043179376455),  INT64_C( 7348430678331862421),
         INT64_C(  403179852310131646),  INT64_C( 4930929817639198213), -INT64_C( 4594734666174177918),  INT64_C( 5843167160541133839) } },
    { {  INT64_C( 8474145759929200506), -INT64_C( 3769942436141513563), -INT64_C( 6404594358540974343), -INT64_C( 6262675090042570661),
         INT64_C( 7499327649544441329), -INT64_C( 6820098379319201989), -INT64_C( 5264452485635306517), -INT64_C( 5190231696846273760) },
      UINT8_C( 36),
      { -INT64_C( 7672356514888657835),  INT64_C( 8923565383462229447),  INT64_C( 5958697780470226856),  INT64_C( 5677297476400840717),
        -INT64_C( 3954688227514142429), -INT64_C( 2080509943840744651), -INT64_C( 8067314163628378454),  INT64_C( 1543889088123577125) },
      {  INT64_C( 6592069349683365296),  INT64_C( 7220713562170208024) },
       INT8_C(   2),
      {  INT64_C( 8474145759929200506), -INT64_C( 3769942436141513563),  INT64_C( 5958697780470226856), -INT64_C( 6262675090042570661),
         INT64_C( 7499327649544441329),  INT64_C( 7220713562170208024), -INT64_C( 5264452485635306517), -INT64_C( 5190231696846273760) } },
    { {  INT64_C( 5544538251254570409), -INT64_C( 9075786255958077347),  INT64_C( 7550005747093323507), -INT64_C(  560549379662734846),
         INT64_C( 6276532413749711269), -INT64_C( 6789247158023136823),  INT64_C( 8367152034370056061),  INT64_C( 7960903755700257074) },
      UINT8_C(160),
      { -INT64_C( 5710018596200432576),  INT64_C( 4458563417998755747), -INT64_C(  749528605239831217), -INT64_C( 3087168523806565447),
         INT64_C( 6228354807561568872),  INT64_C( 1991321988881763734),  INT64_C( 3303140140024811821),  INT64_C( 3071981349082928439) },
      { -INT64_C( 7734553035679371360),  INT64_C( 2814075740473549093) },
       INT8_C(   3),
      {  INT64_C( 5544538251254570409), -INT64_C( 9075786255958077347),  INT64_C( 7550005747093323507), -INT64_C(  560549379662734846),
         INT64_C( 6276532413749711269),  INT64_C( 1991321988881763734),  INT64_C( 8367152034370056061),  INT64_C( 2814075740473549093) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i src = simde_mm512_loadu_epi64(test_vec[i].src);
    simde__m512i a = simde_mm512_loadu_epi64(test_vec[i].a);
    simde__m128i b = simde_mm_loadu_epi64(test_vec[i].b);
    simde__m512i r;
    SIMDE_CONSTIFY_4_(simde_mm512_mask_inserti64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_si512 ()), test_vec[i].imm8, src, test_vec[i].k, a, b);
    simde_assert_m512i_i64(r, ==, simde_mm512_loadu_epi64(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__m512i src = simde_test_x86_random_i64x8();
    simde__mmask8 k = simde_test_x86_random_mmask8();
    simde__m512i a = simde_test_x86_random_i64x8();
    simde__m128i b = simde_test_x86_random_i64x2();
    int imm8 = simde_test_codegen_rand() & 0x03;
    simde__m512i r;
    SIMDE_CONSTIFY_4_(simde_mm512_mask_inserti64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_si512 ()), imm8, src, k, a, b);

    simde_test_x86_write_i64x8(2, src, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_mmask8(2, k, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i64x8(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i64x2(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i64x8(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

static int
test_simde_mm512_maskz_inserti64x2 (SIMDE_MUNIT_TEST_ARGS) {
#if 1
  static const struct {
    const simde__mmask8 k;
    const int64_t a[8];
    const int64_t b[2];
    const int imm8;
    const int64_t r[8];
  } test_vec[] = {
    { UINT8_C(202),
      { -INT64_C( 8237243270128445417),  INT64_C( 8476585602763714698),  INT64_C( 9036907395087082997),  INT64_C( 7218088560004376325),
        -INT64_C( 6298971144647037147),  INT64_C( 6315501753178030463),  INT64_C( 8733377380225640784), -INT64_C( 8860544883512143273) },
      { -INT64_C(  541800324037482060),  INT64_C( 9177718312718107556) },
       INT8_C(   0),
      {  INT64_C(                   0),  INT64_C( 9177718312718107556),  INT64_C(                   0),  INT64_C( 7218088560004376325),
         INT64_C(                   0),  INT64_C(                   0),  INT64_C( 8733377380225640784), -INT64_C( 8860544883512143273) } },
    { UINT8_C( 36),
      { -INT64_C( 9152813461978928076),  INT64_C( 7801424081693530449), -INT64_C( 2339000197414142708),  INT64_C( 7834685795484940601),
         INT64_C(  988767426010419090), -INT64_C( 9046977979008664281),  INT64_C( 7926216820792033642), -INT64_C( 6561255294863430323) },
      { -INT64_C( 4929589380716378675),  INT64_C( 1642181829178032081) },
       INT8_C(   0),
      {  INT64_C(                   0),  INT64_C(                   0), -INT64_C( 2339000197414142708),  INT64_C(                   0),
         INT64_C(                   0), -INT64_C( 9046977979008664281),  INT64_C(                   0),  INT64_C(                   0) } },
    { UINT8_C(212),
      { -INT64_C( 2818209014458324937),  INT64_C( 8642797574196426298),  INT64_C(   36553536830145771),  INT64_C( 8846027634559364389),
         INT64_C( 1908564034654907343),  INT64_C( 6961500095989027466), -INT64_C( 6198251039332587589),  INT64_C( 7371931442916962192) },
      {  INT64_C( 2198750110262427528), -INT64_C( 4941048024840025703) },
       INT8_C(   2),
      {  INT64_C(                   0),  INT64_C(                   0),  INT64_C(   36553536830145771),  INT64_C(                   0),
         INT64_C( 2198750110262427528),  INT64_C(                   0), -INT64_C( 6198251039332587589),  INT64_C( 7371931442916962192) } },
    { UINT8_C( 79),
      {  INT64_C( 5611839954539908022), -INT64_C( 1701460307757861098),  INT64_C( 6333758808429426330),  INT64_C( 6400386526130660885),
        -INT64_C( 2464898604019841592),  INT64_C( 4623126051445372003), -INT64_C( 5402273775374919781), -INT64_C( 4457144183912121045) },
      {  INT64_C( 9093903560600400015), -INT64_C( 5376199430695324035) },
       INT8_C(   3),
      {  INT64_C( 5611839954539908022), -INT64_C( 1701460307757861098),  INT64_C( 6333758808429426330),  INT64_C( 6400386526130660885),
         INT64_C(                   0),  INT64_C(                   0),  INT64_C( 9093903560600400015),  INT64_C(                   0) } },
    { UINT8_C(193),
      {  INT64_C(  840257589601508965), -INT64_C( 6533696776290523906), -INT64_C( 6005783280334508036), -INT64_C( 2561682358225551026),
        -INT64_C( 6336298963174917839), -INT64_C( 3989872829598521707), -INT64_C( 3879674626741546866),  INT64_C(  123268240808655970) },
      { -INT64_C( 8882199153304208023),  INT64_C( 3949975349483309117) },
       INT8_C(   1),
      {  INT64_C(  840257589601508965),  INT64_C(                   0),  INT64_C(                   0),  INT64_C(                   0),
         INT64_C(                   0),  INT64_C(                   0), -INT64_C( 3879674626741546866),  INT64_C(  123268240808655970) } },
    { UINT8_C(203),
      {  INT64_C( 3717666206944849330),  INT64_C( 7879200824111556262),  INT64_C( 5468427451715831711),  INT64_C( 8243521086770940618),
         INT64_C( 5095229927176655563),  INT64_C(  153116218459543370),  INT64_C( 3339208447166882625),  INT64_C( 7853486795597202378) },
      {  INT64_C( 8784450493883501058), -INT64_C( 4260323317263922821) },
       INT8_C(   2),
      {  INT64_C( 3717666206944849330),  INT64_C( 7879200824111556262),  INT64_C(                   0),  INT64_C( 8243521086770940618),
         INT64_C(                   0),  INT64_C(                   0),  INT64_C( 3339208447166882625),  INT64_C( 7853486795597202378) } },
    { UINT8_C( 61),
      {  INT64_C( 5470544792410477264), -INT64_C( 1793981890144006958), -INT64_C( 1328272984660817632), -INT64_C( 6196629995055016476),
        -INT64_C( 7474641923042345352),  INT64_C( 6713039919191211849), -INT64_C( 7027031887950007093),  INT64_C( 5732910629583499788) },
      {  INT64_C( 7367761574389899745), -INT64_C(  727381738952022196) },
       INT8_C(   2),
      {  INT64_C( 5470544792410477264),  INT64_C(                   0), -INT64_C( 1328272984660817632), -INT64_C( 6196629995055016476),
         INT64_C( 7367761574389899745), -INT64_C(  727381738952022196),  INT64_C(                   0),  INT64_C(                   0) } },
    { UINT8_C( 76),
      {  INT64_C( 4805147150872953218),  INT64_C( 2172291751768065589),  INT64_C( 5914624517705777966), -INT64_C( 5353466923581162112),
         INT64_C( 8938907796388378603),  INT64_C( 7483969078957224679), -INT64_C(   97697662642124887),  INT64_C( 6777102096969156646) },
      {  INT64_C(  636192959912066833),  INT64_C( 2633094482387867113) },
       INT8_C(   0),
      {  INT64_C(                   0),  INT64_C(                   0),  INT64_C( 5914624517705777966), -INT64_C( 5353466923581162112),
         INT64_C(                   0),  INT64_C(                   0), -INT64_C(   97697662642124887),  INT64_C(                   0) } },
  };

  for (size_t i = 0 ; i < (sizeof(test_vec) / sizeof(test_vec[0])) ; i++) {
    simde__m512i a = simde_mm512_loadu_epi64(test_vec[i].a);
    simde__m128i b = simde_mm_loadu_epi64(test_vec[i].b);
    simde__m512i r;
    SIMDE_CONSTIFY_4_(simde_mm512_maskz_inserti64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_si512 ()), test_vec[i].imm8, test_vec[i].k, a, b);
    simde_assert_m512i_i64(r, ==, simde_mm512_loadu_epi64(test_vec[i].r));
  }

  return 0;
#else
  fputc('\n', stdout);
  for (int i = 0 ; i < 8 ; i++) {
    simde__mmask8 k = simde_test_x86_random_mmask8();
    simde__m512i a = simde_test_x86_random_i64x8();
    simde__m128i b = simde_test_x86_random_i64x2();
    int imm8 = simde_test_codegen_rand() & 0x03;
    simde__m512i r;
    SIMDE_CONSTIFY_4_(simde_mm512_maskz_inserti64x2, r, (HEDLEY_UNREACHABLE(), simde_mm512_setzero_si512 ()), imm8, k, a, b);

    simde_test_x86_write_mmask8(2, k, SIMDE_TEST_VEC_POS_FIRST);
    simde_test_x86_write_i64x8(2, a, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i64x2(2, b, SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_codegen_write_i8(2, HEDLEY_STATIC_CAST(int8_t, imm8), SIMDE_TEST_VEC_POS_MIDDLE);
    simde_test_x86_write_i64x8(2, r, SIMDE_TEST_VEC_POS_LAST);
  }
  return 1;
#endif
}

SIMDE_TEST_FUNC_LIST_BEGIN
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_insertf32x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_insertf32x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_insertf32x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_insertf64x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_insertf64x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_insertf64x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_inserti32x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_inserti32x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_inserti32x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_inserti64x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_inserti64x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_inserti64x4)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_insertf32x8)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_insertf32x8)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_insertf32x8)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_insertf64x2)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_insertf64x2)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_insertf64x2)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_inserti32x8)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_inserti32x8)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_inserti32x8)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_inserti64x2)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_mask_inserti64x2)
  SIMDE_TEST_FUNC_LIST_ENTRY(mm512_maskz_inserti64x2)
SIMDE_TEST_FUNC_LIST_END

#include <test/x86/avx512/test-avx512-footer.h>
